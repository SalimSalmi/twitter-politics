!function(){function t(t){return t&&(t.ownerDocument||t.document||t).documentElement}function n(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function r(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function e(t){return null===t?NaN:+t}function a(t){return!isNaN(t)}function i(t){return{left:function(n,r,e,a){for(arguments.length<3&&(e=0),arguments.length<4&&(a=n.length);e<a;){var i=e+a>>>1;t(n[i],r)<0?e=i+1:a=i}return e},right:function(n,r,e,a){for(arguments.length<3&&(e=0),arguments.length<4&&(a=n.length);e<a;){var i=e+a>>>1;t(n[i],r)>0?a=i:e=i+1}return e}}}function o(t){return t.length}function u(t){for(var n=1;t*n%1;)n*=10;return n}function c(t,n){for(var r in n)Object.defineProperty(t.prototype,r,{value:n[r],enumerable:!1})}function s(){this._=Object.create(null)}function l(t){return(t+="")===mo||t[0]===xo?xo+t:t}function f(t){return(t+="")[0]===xo?t.slice(1):t}function h(t){return l(t)in this._}function v(t){return(t=l(t))in this._&&delete this._[t]}function g(){var t=[];for(var n in this._)t.push(f(n));return t}function p(){var t=0;for(var n in this._)++t;return t}function M(){for(var t in this._)return!1;return!0}function d(){this._=Object.create(null)}function y(t){return t}function m(t,n,r){return function(){var e=r.apply(n,arguments);return e===n?t:e}}function x(t,n){if(n in t)return n;n=n.charAt(0).toUpperCase()+n.slice(1);for(var r=0,e=bo.length;r<e;++r){var a=bo[r]+n;if(a in t)return a}}function b(){}function w(){}function _(t){function n(){for(var n,e=r,a=-1,i=e.length;++a<i;)(n=e[a].on)&&n.apply(this,arguments);return t}var r=[],e=new s;return n.on=function(n,a){var i,o=e.get(n);return arguments.length<2?o&&o.on:(o&&(o.on=null,r=r.slice(0,i=r.indexOf(o)).concat(r.slice(i+1)),e.remove(n)),a&&r.push(e.set(n,{on:a})),t)},n}function S(){uo.event.preventDefault()}function E(){for(var t,n=uo.event;t=n.sourceEvent;)n=t;return n}function q(t){for(var n=new w,r=0,e=arguments.length;++r<e;)n[arguments[r]]=_(n);return n.of=function(r,e){return function(a){try{var i=a.sourceEvent=uo.event;a.target=t,uo.event=a,n[a.type].apply(r,e)}finally{uo.event=i}}},n}function k(t){return _o(t,ko),t}function N(t){return"function"==typeof t?t:function(){return So(t,this)}}function A(t){return"function"==typeof t?t:function(){return Eo(t,this)}}function C(t,n){function r(){this.removeAttribute(t)}function e(){this.removeAttributeNS(t.space,t.local)}function a(){this.setAttribute(t,n)}function i(){this.setAttributeNS(t.space,t.local,n)}function o(){var r=n.apply(this,arguments);null==r?this.removeAttribute(t):this.setAttribute(t,r)}function u(){var r=n.apply(this,arguments);null==r?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,r)}return t=uo.ns.qualify(t),null==n?t.local?e:r:"function"==typeof n?t.local?u:o:t.local?i:a}function T(t){return t.trim().replace(/\s+/g," ")}function R(t){return new RegExp("(?:^|\\s+)"+uo.requote(t)+"(?:\\s+|$)","g")}function z(t){return(t+"").trim().split(/^|\s+/)}function L(t,n){function r(){for(var r=-1;++r<a;)t[r](this,n)}function e(){for(var r=-1,e=n.apply(this,arguments);++r<a;)t[r](this,e)}t=z(t).map(P);var a=t.length;return"function"==typeof n?e:r}function P(t){var n=R(t);return function(r,e){if(a=r.classList)return e?a.add(t):a.remove(t);var a=r.getAttribute("class")||"";e?(n.lastIndex=0,n.test(a)||r.setAttribute("class",T(a+" "+t))):r.setAttribute("class",T(a.replace(n," ")))}}function D(t,n,r){function e(){this.style.removeProperty(t)}function a(){this.style.setProperty(t,n,r)}function i(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(t):this.style.setProperty(t,e,r)}return null==n?e:"function"==typeof n?i:a}function j(t,n){function r(){delete this[t]}function e(){this[t]=n}function a(){var r=n.apply(this,arguments);null==r?delete this[t]:this[t]=r}return null==n?r:"function"==typeof n?a:e}function U(t){function n(){var n=this.ownerDocument,r=this.namespaceURI;return r===No&&n.documentElement.namespaceURI===No?n.createElement(t):n.createElementNS(r,t)}function r(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=uo.ns.qualify(t)).local?r:n}function F(){var t=this.parentNode;t&&t.removeChild(this)}function Q(t){return{__data__:t}}function H(t){return function(){return qo(this,t)}}function O(t){return arguments.length||(t=r),function(n,r){return n&&r?t(n.__data__,r.__data__):!n-!r}}function I(t,n){for(var r=0,e=t.length;r<e;r++)for(var a,i=t[r],o=0,u=i.length;o<u;o++)(a=i[o])&&n(a,o,r);return t}function Y(t){return _o(t,Co),t}function Z(t){var n,r;return function(e,a,i){var o,u=t[i].update,c=u.length;for(i!=r&&(r=i,n=0),a>=n&&(n=a+1);!(o=u[n])&&++n<c;);return o}}function B(t,n,r){function e(){var n=this[o];n&&(this.removeEventListener(t,n,n.$),delete this[o])}function a(){var a=c(n,so(arguments));e.call(this),this.addEventListener(t,this[o]=a,a.$=r),a._=n}function i(){var n,r=new RegExp("^__on([^.]+)"+uo.requote(t)+"$");for(var e in this)if(n=e.match(r)){var a=this[e];this.removeEventListener(n[1],a,a.$),delete this[e]}}var o="__on"+t,u=t.indexOf("."),c=V;u>0&&(t=t.slice(0,u));var s=To.get(t);return s&&(t=s,c=G),u?n?a:e:n?b:i}function V(t,n){return function(r){var e=uo.event;uo.event=r,n[0]=this.__data__;try{t.apply(this,n)}finally{uo.event=e}}}function G(t,n){var r=V(t,n);return function(t){var n=this,e=t.relatedTarget;e&&(e===n||8&e.compareDocumentPosition(n))||r.call(n,t)}}function X(r){var e=".dragsuppress-"+ ++zo,a="click"+e,i=uo.select(n(r)).on("touchmove"+e,S).on("dragstart"+e,S).on("selectstart"+e,S);if(null==Ro&&(Ro=!("onselectstart"in r)&&x(r.style,"userSelect")),Ro){var o=t(r).style,u=o[Ro];o[Ro]="none"}return function(t){if(i.on(e,null),Ro&&(o[Ro]=u),t){var n=function(){i.on(a,null)};i.on(a,function(){S(),n()},!0),setTimeout(n,0)}}}function $(t,r){r.changedTouches&&(r=r.changedTouches[0]);var e=t.ownerSVGElement||t;if(e.createSVGPoint){var a=e.createSVGPoint();if(Lo<0){var i=n(t);if(i.scrollX||i.scrollY){e=uo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=e[0][0].getScreenCTM();Lo=!(o.f||o.e),e.remove()}}return Lo?(a.x=r.pageX,a.y=r.pageY):(a.x=r.clientX,a.y=r.clientY),a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}var u=t.getBoundingClientRect();return[r.clientX-u.left-t.clientLeft,r.clientY-u.top-t.clientTop]}function W(){return uo.event.changedTouches[0].identifier}function J(t){return t>0?1:t<0?-1:0}function K(t,n,r){return(n[0]-t[0])*(r[1]-t[1])-(n[1]-t[1])*(r[0]-t[0])}function tt(t){return t>1?0:t<-1?jo:Math.acos(t)}function nt(t){return t>1?Qo:t<-1?-Qo:Math.asin(t)}function rt(t){return((t=Math.exp(t))-1/t)/2}function et(t){return((t=Math.exp(t))+1/t)/2}function at(t){return((t=Math.exp(2*t))-1)/(t+1)}function it(t){return(t=Math.sin(t/2))*t}function ot(){}function ut(t,n,r){return this instanceof ut?(this.h=+t,this.s=+n,void(this.l=+r)):arguments.length<2?t instanceof ut?new ut(t.h,t.s,t.l):bt(""+t,wt,ut):new ut(t,n,r)}function ct(t,n,r){function e(t){return t>360?t-=360:t<0&&(t+=360),t<60?i+(o-i)*t/60:t<180?o:t<240?i+(o-i)*(240-t)/60:i}function a(t){return Math.round(255*e(t))}var i,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,n=isNaN(n)?0:n<0?0:n>1?1:n,r=r<0?0:r>1?1:r,o=r<=.5?r*(1+n):r+n-r*n,i=2*r-o,new dt(a(t+120),a(t),a(t-120))}function st(t,n,r){return this instanceof st?(this.h=+t,this.c=+n,void(this.l=+r)):arguments.length<2?t instanceof st?new st(t.h,t.c,t.l):t instanceof ft?vt(t.l,t.a,t.b):vt((t=_t((t=uo.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new st(t,n,r)}function lt(t,n,r){return isNaN(t)&&(t=0),isNaN(n)&&(n=0),new ft(r,Math.cos(t*=Ho)*n,Math.sin(t)*n)}function ft(t,n,r){return this instanceof ft?(this.l=+t,this.a=+n,void(this.b=+r)):arguments.length<2?t instanceof ft?new ft(t.l,t.a,t.b):t instanceof st?lt(t.h,t.c,t.l):_t((t=dt(t)).r,t.g,t.b):new ft(t,n,r)}function ht(t,n,r){var e=(t+16)/116,a=e+n/500,i=e-r/200;return a=gt(a)*Jo,e=gt(e)*Ko,i=gt(i)*tu,new dt(Mt(3.2404542*a-1.5371385*e-.4985314*i),Mt(-.969266*a+1.8760108*e+.041556*i),Mt(.0556434*a-.2040259*e+1.0572252*i))}function vt(t,n,r){return t>0?new st(Math.atan2(r,n)*Oo,Math.sqrt(n*n+r*r),t):new st(NaN,NaN,t)}function gt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function pt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function Mt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function dt(t,n,r){return this instanceof dt?(this.r=~~t,this.g=~~n,void(this.b=~~r)):arguments.length<2?t instanceof dt?new dt(t.r,t.g,t.b):bt(""+t,dt,ct):new dt(t,n,r)}function yt(t){return new dt(t>>16,t>>8&255,255&t)}function mt(t){return yt(t)+""}function xt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function bt(t,n,r){var e,a,i,o=0,u=0,c=0;if(e=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(a=e[2].split(","),e[1]){case"hsl":return r(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return n(Et(a[0]),Et(a[1]),Et(a[2]))}return(i=eu.get(t))?n(i.r,i.g,i.b):(null==t||"#"!==t.charAt(0)||isNaN(i=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&i)>>4,o=o>>4|o,u=240&i,u=u>>4|u,c=15&i,c=c<<4|c):7===t.length&&(o=(16711680&i)>>16,u=(65280&i)>>8,c=255&i)),n(o,u,c))}function wt(t,n,r){var e,a,i=Math.min(t/=255,n/=255,r/=255),o=Math.max(t,n,r),u=o-i,c=(o+i)/2;return u?(a=c<.5?u/(o+i):u/(2-o-i),e=t==o?(n-r)/u+(n<r?6:0):n==o?(r-t)/u+2:(t-n)/u+4,e*=60):(e=NaN,a=c>0&&c<1?0:e),new ut(e,a,c)}function _t(t,n,r){t=St(t),n=St(n),r=St(r);var e=pt((.4124564*t+.3575761*n+.1804375*r)/Jo),a=pt((.2126729*t+.7151522*n+.072175*r)/Ko),i=pt((.0193339*t+.119192*n+.9503041*r)/tu);return ft(116*a-16,500*(e-a),200*(a-i))}function St(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Et(t){var n=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*n):n}function qt(t){return"function"==typeof t?t:function(){return t}}function kt(t){return function(n,r,e){return 2===arguments.length&&"function"==typeof r&&(e=r,r=null),Nt(n,r,t,e)}}function Nt(t,n,r,e){function a(){var t,n=c.status;if(!n&&Ct(c)||n>=200&&n<300||304===n){try{t=r.call(i,c)}catch(t){return void o.error.call(i,t)}o.load.call(i,t)}else o.error.call(i,c)}var i={},o=uo.dispatch("beforesend","progress","load","error"),u={},c=new XMLHttpRequest,s=null;return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(t)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=a:c.onreadystatechange=function(){c.readyState>3&&a()},c.onprogress=function(t){var n=uo.event;uo.event=t;try{o.progress.call(i,c)}finally{uo.event=n}},i.header=function(t,n){return t=(t+"").toLowerCase(),arguments.length<2?u[t]:(null==n?delete u[t]:u[t]=n+"",i)},i.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",i):n},i.responseType=function(t){return arguments.length?(s=t,i):s},i.response=function(t){return r=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(so(arguments)))}}),i.send=function(r,e,a){if(2===arguments.length&&"function"==typeof e&&(a=e,e=null),c.open(r,t,!0),null==n||"accept"in u||(u.accept=n+",*/*"),c.setRequestHeader)for(var l in u)c.setRequestHeader(l,u[l]);return null!=n&&c.overrideMimeType&&c.overrideMimeType(n),null!=s&&(c.responseType=s),null!=a&&i.on("error",a).on("load",function(t){a(null,t)}),o.beforesend.call(i,c),c.send(null==e?null:e),i},i.abort=function(){return c.abort(),i},uo.rebind(i,o,"on"),null==e?i:i.get(At(e))}function At(t){return 1===t.length?function(n,r){t(null==n?r:null)}:t}function Ct(t){var n=t.responseType;return n&&"text"!==n?t.response:t.responseText}function Tt(t,n,r){var e=arguments.length;e<2&&(n=0),e<3&&(r=Date.now());var a=r+n,i={c:t,t:a,n:null};return iu?iu.n=i:au=i,iu=i,ou||(uu=clearTimeout(uu),ou=1,cu(Rt)),i}function Rt(){var t=zt(),n=Lt()-t;n>24?(isFinite(n)&&(clearTimeout(uu),uu=setTimeout(Rt,n)),ou=0):(ou=1,cu(Rt))}function zt(){for(var t=Date.now(),n=au;n;)t>=n.t&&n.c(t-n.t)&&(n.c=null),n=n.n;return t}function Lt(){for(var t,n=au,r=1/0;n;)n.c?(n.t<r&&(r=n.t),n=(t=n).n):n=t?t.n=n.n:au=n.n;return iu=t,r}function Pt(t,n){return n-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Dt(t,n){var r=Math.pow(10,3*yo(8-n));return{scale:n>8?function(t){return t/r}:function(t){return t*r},symbol:t}}function jt(t){var n=t.decimal,r=t.thousands,e=t.grouping,a=t.currency,i=e&&r?function(t,n){for(var a=t.length,i=[],o=0,u=e[0],c=0;a>0&&u>0&&(c+u+1>n&&(u=Math.max(1,n-c)),i.push(t.substring(a-=u,a+u)),!((c+=u+1)>n));)u=e[o=(o+1)%e.length];return i.reverse().join(r)}:y;return function(t){var r=lu.exec(t),e=r[1]||" ",o=r[2]||">",u=r[3]||"-",c=r[4]||"",s=r[5],l=+r[6],f=r[7],h=r[8],v=r[9],g=1,p="",M="",d=!1,y=!0;switch(h&&(h=+h.substring(1)),(s||"0"===e&&"="===o)&&(s=e="0",o="="),v){case"n":f=!0,v="g";break;case"%":g=100,M="%",v="f";break;case"p":g=100,M="%",v="r";break;case"b":case"o":case"x":case"X":"#"===c&&(p="0"+v.toLowerCase());case"c":y=!1;case"d":d=!0,h=0;break;case"s":g=-1,v="r"}"$"===c&&(p=a[0],M=a[1]),"r"!=v||h||(v="g"),null!=h&&("g"==v?h=Math.max(1,Math.min(21,h)):"e"!=v&&"f"!=v||(h=Math.max(0,Math.min(20,h)))),v=fu.get(v)||Ut;var m=s&&f;return function(t){var r=M;if(d&&t%1)return"";var a=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===u?"":u;if(g<0){var c=uo.formatPrefix(t,h);t=c.scale(t),r=c.symbol+M}else t*=g;t=v(t,h);var x,b,w=t.lastIndexOf(".");if(w<0){var _=y?t.lastIndexOf("e"):-1;_<0?(x=t,b=""):(x=t.substring(0,_),b=t.substring(_))}else x=t.substring(0,w),b=n+t.substring(w+1);!s&&f&&(x=i(x,1/0));var S=p.length+x.length+b.length+(m?0:a.length),E=S<l?new Array(S=l-S+1).join(e):"";return m&&(x=i(E+x,E.length?l-b.length:1/0)),a+=p,t=x+b,("<"===o?a+t+E:">"===o?E+a+t:"^"===o?E.substring(0,S>>=1)+a+t+E.substring(S):a+(m?t:E+t))+r}}}function Ut(t){return t+""}function Ft(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Qt(t,n,r){function e(n){var r=t(n),e=i(r,1);return n-r<e-n?r:e}function a(r){return n(r=t(new vu(r-1)),1),r}function i(t,r){return n(t=new vu((+t)),r),t}function o(t,e,i){var o=a(t),u=[];if(i>1)for(;o<e;)r(o)%i||u.push(new Date((+o))),n(o,1);else for(;o<e;)u.push(new Date((+o))),n(o,1);return u}function u(t,n,r){try{vu=Ft;var e=new Ft;return e._=t,o(e,n,r)}finally{vu=Date}}t.floor=t,t.round=e,t.ceil=a,t.offset=i,t.range=o;var c=t.utc=Ht(t);return c.floor=c,c.round=Ht(e),c.ceil=Ht(a),c.offset=Ht(i),c.range=u,t}function Ht(t){return function(n,r){try{vu=Ft;var e=new Ft;return e._=n,t(e,r)._}finally{vu=Date}}}function Ot(t){function n(t){function n(n){for(var r,a,i,o=[],u=-1,c=0;++u<e;)37===t.charCodeAt(u)&&(o.push(t.slice(c,u)),null!=(a=pu[r=t.charAt(++u)])&&(r=t.charAt(++u)),(i=N[r])&&(r=i(n,null==a?"e"===r?" ":"0":a)),o.push(r),c=u+1);return o.push(t.slice(c,u)),o.join("")}var e=t.length;return n.parse=function(n){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},a=r(e,t,n,0);if(a!=n.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var i=null!=e.Z&&vu!==Ft,o=new(i?Ft:vu);return"j"in e?o.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),o.setFullYear(e.y,0,1),o.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(o.getDay()+5)%7:e.w+7*e.U-(o.getDay()+6)%7)):o.setFullYear(e.y,e.m,e.d),o.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),i?o._:o},n.toString=function(){return t},n}function r(t,n,r,e){for(var a,i,o,u=0,c=n.length,s=r.length;u<c;){if(e>=s)return-1;if(a=n.charCodeAt(u++),37===a){if(o=n.charAt(u++),i=A[o in pu?n.charAt(u++):o],!i||(e=i(t,r,e))<0)return-1}else if(a!=r.charCodeAt(e++))return-1}return e}function e(t,n,r){w.lastIndex=0;var e=w.exec(n.slice(r));return e?(t.w=_.get(e[0].toLowerCase()),r+e[0].length):-1}function a(t,n,r){x.lastIndex=0;var e=x.exec(n.slice(r));return e?(t.w=b.get(e[0].toLowerCase()),r+e[0].length):-1}function i(t,n,r){q.lastIndex=0;var e=q.exec(n.slice(r));return e?(t.m=k.get(e[0].toLowerCase()),r+e[0].length):-1}function o(t,n,r){S.lastIndex=0;var e=S.exec(n.slice(r));return e?(t.m=E.get(e[0].toLowerCase()),r+e[0].length):-1}function u(t,n,e){return r(t,N.c.toString(),n,e)}function c(t,n,e){return r(t,N.x.toString(),n,e)}function s(t,n,e){return r(t,N.X.toString(),n,e)}function l(t,n,r){var e=m.get(n.slice(r,r+=2).toLowerCase());return null==e?-1:(t.p=e,r)}var f=t.dateTime,h=t.date,v=t.time,g=t.periods,p=t.days,M=t.shortDays,d=t.months,y=t.shortMonths;n.utc=function(t){function r(t){try{vu=Ft;var n=new vu;return n._=t,e(n)}finally{vu=Date}}var e=n(t);return r.parse=function(t){try{vu=Ft;var n=e.parse(t);return n&&n._}finally{vu=Date}},r.toString=e.toString,r},n.multi=n.utc.multi=sn;var m=uo.map(),x=Yt(p),b=Zt(p),w=Yt(M),_=Zt(M),S=Yt(d),E=Zt(d),q=Yt(y),k=Zt(y);g.forEach(function(t,n){m.set(t.toLowerCase(),n)});var N={a:function(t){return M[t.getDay()]},A:function(t){return p[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return d[t.getMonth()]},c:n(f),d:function(t,n){return It(t.getDate(),n,2)},e:function(t,n){return It(t.getDate(),n,2)},H:function(t,n){return It(t.getHours(),n,2)},I:function(t,n){return It(t.getHours()%12||12,n,2)},j:function(t,n){return It(1+hu.dayOfYear(t),n,3)},L:function(t,n){return It(t.getMilliseconds(),n,3)},m:function(t,n){return It(t.getMonth()+1,n,2)},M:function(t,n){return It(t.getMinutes(),n,2)},p:function(t){return g[+(t.getHours()>=12)]},S:function(t,n){return It(t.getSeconds(),n,2)},U:function(t,n){return It(hu.sundayOfYear(t),n,2)},w:function(t){return t.getDay()},W:function(t,n){return It(hu.mondayOfYear(t),n,2)},x:n(h),X:n(v),y:function(t,n){return It(t.getFullYear()%100,n,2)},Y:function(t,n){return It(t.getFullYear()%1e4,n,4)},Z:un,"%":function(){return"%"}},A={a:e,A:a,b:i,B:o,c:u,d:tn,e:tn,H:rn,I:rn,j:nn,L:on,m:Kt,M:en,p:l,S:an,U:Vt,w:Bt,W:Gt,x:c,X:s,y:$t,Y:Xt,Z:Wt,"%":cn};return n}function It(t,n,r){var e=t<0?"-":"",a=(e?-t:t)+"",i=a.length;return e+(i<r?new Array(r-i+1).join(n)+a:a)}function Yt(t){return new RegExp("^(?:"+t.map(uo.requote).join("|")+")","i")}function Zt(t){for(var n=new s,r=-1,e=t.length;++r<e;)n.set(t[r].toLowerCase(),r);return n}function Bt(t,n,r){Mu.lastIndex=0;var e=Mu.exec(n.slice(r,r+1));return e?(t.w=+e[0],r+e[0].length):-1}function Vt(t,n,r){Mu.lastIndex=0;var e=Mu.exec(n.slice(r));return e?(t.U=+e[0],r+e[0].length):-1}function Gt(t,n,r){Mu.lastIndex=0;var e=Mu.exec(n.slice(r));return e?(t.W=+e[0],r+e[0].length):-1}function Xt(t,n,r){Mu.lastIndex=0;var e=Mu.exec(n.slice(r,r+4));return e?(t.y=+e[0],r+e[0].length):-1}function $t(t,n,r){Mu.lastIndex=0;var e=Mu.exec(n.slice(r,r+2));return e?(t.y=Jt(+e[0]),r+e[0].length):-1}function Wt(t,n,r){return/^[+-]\d{4}$/.test(n=n.slice(r,r+5))?(t.Z=-n,r+5):-1}function Jt(t){return t+(t>68?1900:2e3)}function Kt(t,n,r){Mu.lastIndex=0;var e=Mu.exec(n.slice(r,r+2));return e?(t.m=e[0]-1,r+e[0].length):-1}function tn(t,n,r){Mu.lastIndex=0;var e=Mu.exec(n.slice(r,r+2));return e?(t.d=+e[0],r+e[0].length):-1}function nn(t,n,r){Mu.lastIndex=0;var e=Mu.exec(n.slice(r,r+3));return e?(t.j=+e[0],r+e[0].length):-1}function rn(t,n,r){Mu.lastIndex=0;var e=Mu.exec(n.slice(r,r+2));return e?(t.H=+e[0],r+e[0].length):-1}function en(t,n,r){Mu.lastIndex=0;var e=Mu.exec(n.slice(r,r+2));return e?(t.M=+e[0],r+e[0].length):-1}function an(t,n,r){Mu.lastIndex=0;var e=Mu.exec(n.slice(r,r+2));return e?(t.S=+e[0],r+e[0].length):-1}function on(t,n,r){Mu.lastIndex=0;var e=Mu.exec(n.slice(r,r+3));return e?(t.L=+e[0],r+e[0].length):-1}function un(t){var n=t.getTimezoneOffset(),r=n>0?"-":"+",e=yo(n)/60|0,a=yo(n)%60;return r+It(e,"0",2)+It(a,"0",2)}function cn(t,n,r){du.lastIndex=0;var e=du.exec(n.slice(r,r+1));return e?r+e[0].length:-1}function sn(t){for(var n=t.length,r=-1;++r<n;)t[r][0]=this(t[r][0]);return function(n){for(var r=0,e=t[r];!e[1](n);)e=t[++r];return e[0](n)}}function ln(){}function fn(t,n,r){var e=r.s=t+n,a=e-t,i=e-a;r.t=t-i+(n-a)}function hn(t,n){t&&bu.hasOwnProperty(t.type)&&bu[t.type](t,n)}function vn(t,n,r){var e,a=-1,i=t.length-r;for(n.lineStart();++a<i;)e=t[a],n.point(e[0],e[1],e[2]);n.lineEnd()}function gn(t,n){var r=-1,e=t.length;for(n.polygonStart();++r<e;)vn(t[r],n,1);n.polygonEnd()}function pn(){function t(t,n){t*=Ho,n=n*Ho/2+jo/4;var r=t-e,o=r>=0?1:-1,u=o*r,c=Math.cos(n),s=Math.sin(n),l=i*s,f=a*c+l*Math.cos(u),h=l*o*Math.sin(u);_u.add(Math.atan2(h,f)),e=t,a=c,i=s}var n,r,e,a,i;Su.point=function(o,u){Su.point=t,e=(n=o)*Ho,a=Math.cos(u=(r=u)*Ho/2+jo/4),i=Math.sin(u)},Su.lineEnd=function(){t(n,r)}}function Mn(t){var n=t[0],r=t[1],e=Math.cos(r);return[e*Math.cos(n),e*Math.sin(n),Math.sin(r)]}function dn(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function yn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function mn(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function xn(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function bn(t){var n=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function wn(t){return[Math.atan2(t[1],t[0]),nt(t[2])]}function _n(t,n){return yo(t[0]-n[0])<Po&&yo(t[1]-n[1])<Po}function Sn(t,n){t*=Ho;var r=Math.cos(n*=Ho);En(r*Math.cos(t),r*Math.sin(t),Math.sin(n))}function En(t,n,r){++Eu,ku+=(t-ku)/Eu,Nu+=(n-Nu)/Eu,Au+=(r-Au)/Eu}function qn(){function t(t,a){t*=Ho;var i=Math.cos(a*=Ho),o=i*Math.cos(t),u=i*Math.sin(t),c=Math.sin(a),s=Math.atan2(Math.sqrt((s=r*c-e*u)*s+(s=e*o-n*c)*s+(s=n*u-r*o)*s),n*o+r*u+e*c);qu+=s,Cu+=s*(n+(n=o)),Tu+=s*(r+(r=u)),Ru+=s*(e+(e=c)),En(n,r,e)}var n,r,e;Du.point=function(a,i){a*=Ho;var o=Math.cos(i*=Ho);n=o*Math.cos(a),r=o*Math.sin(a),e=Math.sin(i),Du.point=t,En(n,r,e)}}function kn(){Du.point=Sn}function Nn(){function t(t,n){t*=Ho;var r=Math.cos(n*=Ho),o=r*Math.cos(t),u=r*Math.sin(t),c=Math.sin(n),s=a*c-i*u,l=i*o-e*c,f=e*u-a*o,h=Math.sqrt(s*s+l*l+f*f),v=e*o+a*u+i*c,g=h&&-tt(v)/h,p=Math.atan2(h,v);zu+=g*s,Lu+=g*l,Pu+=g*f,qu+=p,Cu+=p*(e+(e=o)),Tu+=p*(a+(a=u)),Ru+=p*(i+(i=c)),En(e,a,i)}var n,r,e,a,i;Du.point=function(o,u){n=o,r=u,Du.point=t,o*=Ho;var c=Math.cos(u*=Ho);e=c*Math.cos(o),a=c*Math.sin(o),i=Math.sin(u),En(e,a,i)},Du.lineEnd=function(){t(n,r),Du.lineEnd=kn,Du.point=Sn}}function An(t,n){function r(r,e){return r=t(r,e),n(r[0],r[1])}return t.invert&&n.invert&&(r.invert=function(r,e){return r=n.invert(r,e),r&&t.invert(r[0],r[1])}),r}function Cn(){return!0}function Tn(t,n,r,e,a){var i=[],o=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,r=t[0],e=t[n];if(_n(r,e)){a.lineStart();for(var u=0;u<n;++u)a.point((r=t[u])[0],r[1]);return void a.lineEnd()}var c=new zn(r,t,null,(!0)),s=new zn(r,null,c,(!1));c.o=s,i.push(c),o.push(s),c=new zn(e,t,null,(!1)),s=new zn(e,null,c,(!0)),c.o=s,i.push(c),o.push(s)}}),o.sort(n),Rn(i),Rn(o),i.length){for(var u=0,c=r,s=o.length;u<s;++u)o[u].e=c=!c;for(var l,f,h=i[0];;){for(var v=h,g=!0;v.v;)if((v=v.n)===h)return;l=v.z,a.lineStart();do{if(v.v=v.o.v=!0,v.e){if(g)for(var u=0,s=l.length;u<s;++u)a.point((f=l[u])[0],f[1]);else e(v.x,v.n.x,1,a);v=v.n}else{if(g){l=v.p.z;for(var u=l.length-1;u>=0;--u)a.point((f=l[u])[0],f[1])}else e(v.x,v.p.x,-1,a);v=v.p}v=v.o,l=v.z,g=!g}while(!v.v);a.lineEnd()}}}function Rn(t){if(n=t.length){for(var n,r,e=0,a=t[0];++e<n;)a.n=r=t[e],r.p=a,a=r;a.n=r=t[0],r.p=a}}function zn(t,n,r,e){this.x=t,this.z=n,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function Ln(t,n,r,e){return function(a,i){function o(n,r){var e=a(n,r);t(n=e[0],r=e[1])&&i.point(n,r)}function u(t,n){var r=a(t,n);M.point(r[0],r[1])}function c(){y.point=u,M.lineStart()}function s(){y.point=o,M.lineEnd()}function l(t,n){p.push([t,n]);var r=a(t,n);x.point(r[0],r[1])}function f(){x.lineStart(),p=[]}function h(){l(p[0][0],p[0][1]),x.lineEnd();var t,n=x.clean(),r=m.buffer(),e=r.length;if(p.pop(),g.push(p),p=null,e)if(1&n){t=r[0];var a,e=t.length-1,o=-1;if(e>0){for(b||(i.polygonStart(),b=!0),i.lineStart();++o<e;)i.point((a=t[o])[0],a[1]);i.lineEnd()}}else e>1&&2&n&&r.push(r.pop().concat(r.shift())),v.push(r.filter(Pn))}var v,g,p,M=n(i),d=a.invert(e[0],e[1]),y={point:o,lineStart:c,lineEnd:s,polygonStart:function(){y.point=l,y.lineStart=f,y.lineEnd=h,v=[],g=[]},polygonEnd:function(){y.point=o,y.lineStart=c,y.lineEnd=s,v=uo.merge(v);var t=Hn(d,g);v.length?(b||(i.polygonStart(),b=!0),Tn(v,jn,t,r,i)):t&&(b||(i.polygonStart(),b=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),b&&(i.polygonEnd(),b=!1),v=g=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}},m=Dn(),x=n(m),b=!1;return y}}function Pn(t){return t.length>1}function Dn(){var t,n=[];return{lineStart:function(){n.push(t=[])},point:function(n,r){t.push([n,r])},lineEnd:b,buffer:function(){var r=n;return n=[],t=null,r},rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))}}}function jn(t,n){return((t=t.x)[0]<0?t[1]-Qo-Po:Qo-t[1])-((n=n.x)[0]<0?n[1]-Qo-Po:Qo-n[1])}function Un(t){var n,r=NaN,e=NaN,a=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(i,o){var u=i>0?jo:-jo,c=yo(i-r);yo(c-jo)<Po?(t.point(r,e=(e+o)/2>0?Qo:-Qo),t.point(a,e),t.lineEnd(),t.lineStart(),t.point(u,e),t.point(i,e),n=0):a!==u&&c>=jo&&(yo(r-a)<Po&&(r-=a*Po),yo(i-u)<Po&&(i-=u*Po),e=Fn(r,e,i,o),t.point(a,e),t.lineEnd(),t.lineStart(),t.point(u,e),n=0),t.point(r=i,e=o),a=u},lineEnd:function(){t.lineEnd(),r=e=NaN},clean:function(){return 2-n}}}function Fn(t,n,r,e){var a,i,o=Math.sin(t-r);return yo(o)>Po?Math.atan((Math.sin(n)*(i=Math.cos(e))*Math.sin(r)-Math.sin(e)*(a=Math.cos(n))*Math.sin(t))/(a*i*o)):(n+e)/2}function Qn(t,n,r,e){var a;if(null==t)a=r*Qo,e.point(-jo,a),e.point(0,a),e.point(jo,a),e.point(jo,0),e.point(jo,-a),e.point(0,-a),e.point(-jo,-a),e.point(-jo,0),e.point(-jo,a);else if(yo(t[0]-n[0])>Po){var i=t[0]<n[0]?jo:-jo;a=r*i/2,e.point(-i,a),e.point(0,a),e.point(i,a)}else e.point(n[0],n[1])}function Hn(t,n){var r=t[0],e=t[1],a=[Math.sin(r),-Math.cos(r),0],i=0,o=0;_u.reset();for(var u=0,c=n.length;u<c;++u){var s=n[u],l=s.length;if(l)for(var f=s[0],h=f[0],v=f[1]/2+jo/4,g=Math.sin(v),p=Math.cos(v),M=1;;){M===l&&(M=0),t=s[M];var d=t[0],y=t[1]/2+jo/4,m=Math.sin(y),x=Math.cos(y),b=d-h,w=b>=0?1:-1,_=w*b,S=_>jo,E=g*m;if(_u.add(Math.atan2(E*w*Math.sin(_),p*x+E*Math.cos(_))),i+=S?b+w*Uo:b,S^h>=r^d>=r){var q=yn(Mn(f),Mn(t));bn(q);var k=yn(a,q);bn(k);var N=(S^b>=0?-1:1)*nt(k[2]);(e>N||e===N&&(q[0]||q[1]))&&(o+=S^b>=0?1:-1)}if(!M++)break;h=d,g=m,p=x,f=t}}return(i<-Po||i<Po&&_u<-Po)^1&o}function On(t){function n(t,n){return Math.cos(t)*Math.cos(n)>i}function r(t){var r,i,c,s,l;return{lineStart:function(){s=c=!1,l=1},point:function(f,h){var v,g=[f,h],p=n(f,h),M=o?p?0:a(f,h):p?a(f+(f<0?jo:-jo),h):0;if(!r&&(s=c=p)&&t.lineStart(),p!==c&&(v=e(r,g),(_n(r,v)||_n(g,v))&&(g[0]+=Po,g[1]+=Po,p=n(g[0],g[1]))),p!==c)l=0,p?(t.lineStart(),v=e(g,r),t.point(v[0],v[1])):(v=e(r,g),t.point(v[0],v[1]),t.lineEnd()),r=v;else if(u&&r&&o^p){var d;M&i||!(d=e(g,r,!0))||(l=0,o?(t.lineStart(),t.point(d[0][0],d[0][1]),t.point(d[1][0],d[1][1]),t.lineEnd()):(t.point(d[1][0],d[1][1]),t.lineEnd(),t.lineStart(),t.point(d[0][0],d[0][1])))}!p||r&&_n(r,g)||t.point(g[0],g[1]),r=g,c=p,i=M},lineEnd:function(){c&&t.lineEnd(),r=null},clean:function(){return l|(s&&c)<<1}}}function e(t,n,r){var e=Mn(t),a=Mn(n),o=[1,0,0],u=yn(e,a),c=dn(u,u),s=u[0],l=c-s*s;if(!l)return!r&&t;var f=i*c/l,h=-i*s/l,v=yn(o,u),g=xn(o,f),p=xn(u,h);mn(g,p);var M=v,d=dn(g,M),y=dn(M,M),m=d*d-y*(dn(g,g)-1);if(!(m<0)){var x=Math.sqrt(m),b=xn(M,(-d-x)/y);if(mn(b,g),b=wn(b),!r)return b;var w,_=t[0],S=n[0],E=t[1],q=n[1];S<_&&(w=_,_=S,S=w);var k=S-_,N=yo(k-jo)<Po,A=N||k<Po;if(!N&&q<E&&(w=E,E=q,q=w),A?N?E+q>0^b[1]<(yo(b[0]-_)<Po?E:q):E<=b[1]&&b[1]<=q:k>jo^(_<=b[0]&&b[0]<=S)){var C=xn(M,(-d+x)/y);return mn(C,g),[b,wn(C)]}}}function a(n,r){var e=o?t:jo-t,a=0;return n<-e?a|=1:n>e&&(a|=2),r<-e?a|=4:r>e&&(a|=8),a}var i=Math.cos(t),o=i>0,u=yo(i)>Po,c=pr(t,6*Ho);return Ln(n,r,c,o?[0,-t]:[-jo,t-jo])}function In(t,n,r,e){return function(a){var i,o=a.a,u=a.b,c=o.x,s=o.y,l=u.x,f=u.y,h=0,v=1,g=l-c,p=f-s;if(i=t-c,g||!(i>0)){if(i/=g,g<0){if(i<h)return;i<v&&(v=i)}else if(g>0){if(i>v)return;i>h&&(h=i)}if(i=r-c,g||!(i<0)){if(i/=g,g<0){if(i>v)return;i>h&&(h=i)}else if(g>0){if(i<h)return;i<v&&(v=i)}if(i=n-s,p||!(i>0)){if(i/=p,p<0){if(i<h)return;i<v&&(v=i)}else if(p>0){if(i>v)return;i>h&&(h=i)}if(i=e-s,p||!(i<0)){if(i/=p,p<0){if(i>v)return;i>h&&(h=i)}else if(p>0){if(i<h)return;i<v&&(v=i)}return h>0&&(a.a={x:c+h*g,y:s+h*p}),v<1&&(a.b={x:c+v*g,y:s+v*p}),a}}}}}}function Yn(t,n,r,e){function a(e,a){return yo(e[0]-t)<Po?a>0?0:3:yo(e[0]-r)<Po?a>0?2:1:yo(e[1]-n)<Po?a>0?1:0:a>0?3:2}function i(t,n){return o(t.x,n.x)}function o(t,n){var r=a(t,1),e=a(n,1);return r!==e?r-e:0===r?n[1]-t[1]:1===r?t[0]-n[0]:2===r?t[1]-n[1]:n[0]-t[0]}return function(u){function c(t){for(var n=0,r=M.length,e=t[1],a=0;a<r;++a)for(var i,o=1,u=M[a],c=u.length,s=u[0];o<c;++o)i=u[o],s[1]<=e?i[1]>e&&K(s,i,t)>0&&++n:i[1]<=e&&K(s,i,t)<0&&--n,s=i;return 0!==n}function s(i,u,c,s){var l=0,f=0;if(null==i||(l=a(i,c))!==(f=a(u,c))||o(i,u)<0^c>0){do s.point(0===l||3===l?t:r,l>1?e:n);while((l=(l+c+4)%4)!==f)}else s.point(u[0],u[1])}function l(a,i){return t<=a&&a<=r&&n<=i&&i<=e}function f(t,n){l(t,n)&&u.point(t,n)}function h(){A.point=g,M&&M.push(d=[]),S=!0,_=!1,b=w=NaN}function v(){p&&(g(y,m),x&&_&&k.rejoin(),p.push(k.buffer())),A.point=f,_&&u.lineEnd()}function g(t,n){t=Math.max(-Uu,Math.min(Uu,t)),n=Math.max(-Uu,Math.min(Uu,n));var r=l(t,n);if(M&&d.push([t,n]),S)y=t,m=n,x=r,S=!1,r&&(u.lineStart(),u.point(t,n));else if(r&&_)u.point(t,n);else{var e={a:{x:b,y:w},b:{x:t,y:n}};N(e)?(_||(u.lineStart(),u.point(e.a.x,e.a.y)),u.point(e.b.x,e.b.y),r||u.lineEnd(),E=!1):r&&(u.lineStart(),u.point(t,n),E=!1)}b=t,w=n,_=r}var p,M,d,y,m,x,b,w,_,S,E,q=u,k=Dn(),N=In(t,n,r,e),A={point:f,lineStart:h,lineEnd:v,polygonStart:function(){u=k,p=[],M=[],E=!0},polygonEnd:function(){u=q,p=uo.merge(p);var n=c([t,e]),r=E&&n,a=p.length;(r||a)&&(u.polygonStart(),r&&(u.lineStart(),s(null,null,1,u),u.lineEnd()),a&&Tn(p,i,n,s,u),u.polygonEnd()),p=M=d=null}};return A}}function Zn(t){var n=0,r=jo/3,e=ur(t),a=e(n,r);return a.parallels=function(t){return arguments.length?e(n=t[0]*jo/180,r=t[1]*jo/180):[n/jo*180,r/jo*180]},a}function Bn(t,n){function r(t,n){var r=Math.sqrt(i-2*a*Math.sin(n))/a;return[r*Math.sin(t*=a),o-r*Math.cos(t)]}var e=Math.sin(t),a=(e+Math.sin(n))/2,i=1+e*(2*a-e),o=Math.sqrt(i)/a;return r.invert=function(t,n){var r=o-n;return[Math.atan2(t,r)/a,nt((i-(t*t+r*r)*a*a)/(2*a))]},r}function Vn(){function t(t,n){Qu+=a*t-e*n,e=t,a=n}var n,r,e,a;Zu.point=function(i,o){Zu.point=t,n=e=i,r=a=o},Zu.lineEnd=function(){t(n,r)}}function Gn(t,n){t<Hu&&(Hu=t),t>Iu&&(Iu=t),n<Ou&&(Ou=n),n>Yu&&(Yu=n)}function Xn(){function t(t,n){o.push("M",t,",",n,i)}function n(t,n){o.push("M",t,",",n),u.point=r}function r(t,n){o.push("L",t,",",n)}function e(){u.point=t}function a(){o.push("Z")}var i=$n(4.5),o=[],u={point:t,lineStart:function(){u.point=n},lineEnd:e,polygonStart:function(){u.lineEnd=a},polygonEnd:function(){u.lineEnd=e,u.point=t},pointRadius:function(t){return i=$n(t),u},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return u}function $n(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Wn(t,n){ku+=t,Nu+=n,++Au}function Jn(){function t(t,e){var a=t-n,i=e-r,o=Math.sqrt(a*a+i*i);Cu+=o*(n+t)/2,Tu+=o*(r+e)/2,Ru+=o,Wn(n=t,r=e)}var n,r;Vu.point=function(e,a){Vu.point=t,Wn(n=e,r=a)}}function Kn(){Vu.point=Wn}function tr(){function t(t,n){var r=t-e,i=n-a,o=Math.sqrt(r*r+i*i);Cu+=o*(e+t)/2,Tu+=o*(a+n)/2,Ru+=o,o=a*t-e*n,zu+=o*(e+t),Lu+=o*(a+n),Pu+=3*o,Wn(e=t,a=n)}var n,r,e,a;Vu.point=function(i,o){Vu.point=t,Wn(n=e=i,r=a=o)},Vu.lineEnd=function(){t(n,r)}}function nr(t){function n(n,r){t.moveTo(n+o,r),t.arc(n,r,o,0,Uo)}function r(n,r){t.moveTo(n,r),u.point=e}function e(n,r){t.lineTo(n,r)}function a(){u.point=n}function i(){t.closePath()}var o=4.5,u={point:n,lineStart:function(){u.point=r},lineEnd:a,polygonStart:function(){u.lineEnd=i},polygonEnd:function(){u.lineEnd=a,u.point=n},pointRadius:function(t){return o=t,u},result:b};return u}function rr(t){function n(t){return(u?e:r)(t)}function r(n){return ir(n,function(r,e){r=t(r,e),n.point(r[0],r[1])})}function e(n){function r(r,e){r=t(r,e),n.point(r[0],r[1])}function e(){m=NaN,S.point=i,n.lineStart()}function i(r,e){var i=Mn([r,e]),o=t(r,e);a(m,x,y,b,w,_,m=o[0],x=o[1],y=r,b=i[0],w=i[1],_=i[2],u,n),n.point(m,x)}function o(){S.point=r,
n.lineEnd()}function c(){e(),S.point=s,S.lineEnd=l}function s(t,n){i(f=t,h=n),v=m,g=x,p=b,M=w,d=_,S.point=i}function l(){a(m,x,y,b,w,_,v,g,f,p,M,d,u,n),S.lineEnd=o,o()}var f,h,v,g,p,M,d,y,m,x,b,w,_,S={point:r,lineStart:e,lineEnd:o,polygonStart:function(){n.polygonStart(),S.lineStart=c},polygonEnd:function(){n.polygonEnd(),S.lineStart=e}};return S}function a(n,r,e,u,c,s,l,f,h,v,g,p,M,d){var y=l-n,m=f-r,x=y*y+m*m;if(x>4*i&&M--){var b=u+v,w=c+g,_=s+p,S=Math.sqrt(b*b+w*w+_*_),E=Math.asin(_/=S),q=yo(yo(_)-1)<Po||yo(e-h)<Po?(e+h)/2:Math.atan2(w,b),k=t(q,E),N=k[0],A=k[1],C=N-n,T=A-r,R=m*C-y*T;(R*R/x>i||yo((y*C+m*T)/x-.5)>.3||u*v+c*g+s*p<o)&&(a(n,r,e,u,c,s,N,A,q,b/=S,w/=S,_,M,d),d.point(N,A),a(N,A,q,b,w,_,l,f,h,v,g,p,M,d))}}var i=.5,o=Math.cos(30*Ho),u=16;return n.precision=function(t){return arguments.length?(u=(i=t*t)>0&&16,n):Math.sqrt(i)},n}function er(t){var n=rr(function(n,r){return t([n*Oo,r*Oo])});return function(t){return cr(n(t))}}function ar(t){this.stream=t}function ir(t,n){return{point:n,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function or(t){return ur(function(){return t})()}function ur(t){function n(t){return t=u(t[0]*Ho,t[1]*Ho),[t[0]*h+c,s-t[1]*h]}function r(t){return t=u.invert((t[0]-c)/h,(s-t[1])/h),t&&[t[0]*Oo,t[1]*Oo]}function e(){u=An(o=fr(d,m,x),i);var t=i(p,M);return c=v-t[0]*h,s=g+t[1]*h,a()}function a(){return l&&(l.valid=!1,l=null),n}var i,o,u,c,s,l,f=rr(function(t,n){return t=i(t,n),[t[0]*h+c,s-t[1]*h]}),h=150,v=480,g=250,p=0,M=0,d=0,m=0,x=0,b=ju,w=y,_=null,S=null;return n.stream=function(t){return l&&(l.valid=!1),l=cr(b(o,f(w(t)))),l.valid=!0,l},n.clipAngle=function(t){return arguments.length?(b=null==t?(_=t,ju):On((_=+t)*Ho),a()):_},n.clipExtent=function(t){return arguments.length?(S=t,w=t?Yn(t[0][0],t[0][1],t[1][0],t[1][1]):y,a()):S},n.scale=function(t){return arguments.length?(h=+t,e()):h},n.translate=function(t){return arguments.length?(v=+t[0],g=+t[1],e()):[v,g]},n.center=function(t){return arguments.length?(p=t[0]%360*Ho,M=t[1]%360*Ho,e()):[p*Oo,M*Oo]},n.rotate=function(t){return arguments.length?(d=t[0]%360*Ho,m=t[1]%360*Ho,x=t.length>2?t[2]%360*Ho:0,e()):[d*Oo,m*Oo,x*Oo]},uo.rebind(n,f,"precision"),function(){return i=t.apply(this,arguments),n.invert=i.invert&&r,e()}}function cr(t){return ir(t,function(n,r){t.point(n*Ho,r*Ho)})}function sr(t,n){return[t,n]}function lr(t,n){return[t>jo?t-Uo:t<-jo?t+Uo:t,n]}function fr(t,n,r){return t?n||r?An(vr(t),gr(n,r)):vr(t):n||r?gr(n,r):lr}function hr(t){return function(n,r){return n+=t,[n>jo?n-Uo:n<-jo?n+Uo:n,r]}}function vr(t){var n=hr(t);return n.invert=hr(-t),n}function gr(t,n){function r(t,n){var r=Math.cos(n),u=Math.cos(t)*r,c=Math.sin(t)*r,s=Math.sin(n),l=s*e+u*a;return[Math.atan2(c*i-l*o,u*e-s*a),nt(l*i+c*o)]}var e=Math.cos(t),a=Math.sin(t),i=Math.cos(n),o=Math.sin(n);return r.invert=function(t,n){var r=Math.cos(n),u=Math.cos(t)*r,c=Math.sin(t)*r,s=Math.sin(n),l=s*i-c*o;return[Math.atan2(c*i+s*o,u*e+l*a),nt(l*e-u*a)]},r}function pr(t,n){var r=Math.cos(t),e=Math.sin(t);return function(a,i,o,u){var c=o*n;null!=a?(a=Mr(r,a),i=Mr(r,i),(o>0?a<i:a>i)&&(a+=o*Uo)):(a=t+o*Uo,i=t-.5*c);for(var s,l=a;o>0?l>i:l<i;l-=c)u.point((s=wn([r,-e*Math.cos(l),-e*Math.sin(l)]))[0],s[1])}}function Mr(t,n){var r=Mn(n);r[0]-=t,bn(r);var e=tt(-r[1]);return((-r[2]<0?-e:e)+2*Math.PI-Po)%(2*Math.PI)}function dr(t,n,r){var e=uo.range(t,n-Po,r).concat(n);return function(t){return e.map(function(n){return[t,n]})}}function yr(t,n,r){var e=uo.range(t,n-Po,r).concat(n);return function(t){return e.map(function(n){return[n,t]})}}function mr(t){return t.source}function xr(t){return t.target}function br(t,n,r,e){var a=Math.cos(n),i=Math.sin(n),o=Math.cos(e),u=Math.sin(e),c=a*Math.cos(t),s=a*Math.sin(t),l=o*Math.cos(r),f=o*Math.sin(r),h=2*Math.asin(Math.sqrt(it(e-n)+a*o*it(r-t))),v=1/Math.sin(h),g=h?function(t){var n=Math.sin(t*=h)*v,r=Math.sin(h-t)*v,e=r*c+n*l,a=r*s+n*f,o=r*i+n*u;return[Math.atan2(a,e)*Oo,Math.atan2(o,Math.sqrt(e*e+a*a))*Oo]}:function(){return[t*Oo,n*Oo]};return g.distance=h,g}function wr(){function t(t,a){var i=Math.sin(a*=Ho),o=Math.cos(a),u=yo((t*=Ho)-n),c=Math.cos(u);Gu+=Math.atan2(Math.sqrt((u=o*Math.sin(u))*u+(u=e*i-r*o*c)*u),r*i+e*o*c),n=t,r=i,e=o}var n,r,e;Xu.point=function(a,i){n=a*Ho,r=Math.sin(i*=Ho),e=Math.cos(i),Xu.point=t},Xu.lineEnd=function(){Xu.point=Xu.lineEnd=b}}function _r(t,n){function r(n,r){var e=Math.cos(n),a=Math.cos(r),i=t(e*a);return[i*a*Math.sin(n),i*Math.sin(r)]}return r.invert=function(t,r){var e=Math.sqrt(t*t+r*r),a=n(e),i=Math.sin(a),o=Math.cos(a);return[Math.atan2(t*i,e*o),Math.asin(e&&r*i/e)]},r}function Sr(t,n){function r(t,n){o>0?n<-Qo+Po&&(n=-Qo+Po):n>Qo-Po&&(n=Qo-Po);var r=o/Math.pow(a(n),i);return[r*Math.sin(i*t),o-r*Math.cos(i*t)]}var e=Math.cos(t),a=function(t){return Math.tan(jo/4+t/2)},i=t===n?Math.sin(t):Math.log(e/Math.cos(n))/Math.log(a(n)/a(t)),o=e*Math.pow(a(t),i)/i;return i?(r.invert=function(t,n){var r=o-n,e=J(i)*Math.sqrt(t*t+r*r);return[Math.atan2(t,r)/i,2*Math.atan(Math.pow(o/e,1/i))-Qo]},r):qr}function Er(t,n){function r(t,n){var r=i-n;return[r*Math.sin(a*t),i-r*Math.cos(a*t)]}var e=Math.cos(t),a=t===n?Math.sin(t):(e-Math.cos(n))/(n-t),i=e/a+t;return yo(a)<Po?sr:(r.invert=function(t,n){var r=i-n;return[Math.atan2(t,r)/a,i-J(a)*Math.sqrt(t*t+r*r)]},r)}function qr(t,n){return[t,Math.log(Math.tan(jo/4+n/2))]}function kr(t){var n,r=or(t),e=r.scale,a=r.translate,i=r.clipExtent;return r.scale=function(){var t=e.apply(r,arguments);return t===r?n?r.clipExtent(null):r:t},r.translate=function(){var t=a.apply(r,arguments);return t===r?n?r.clipExtent(null):r:t},r.clipExtent=function(t){var o=i.apply(r,arguments);if(o===r){if(n=null==t){var u=jo*e(),c=a();i([[c[0]-u,c[1]-u],[c[0]+u,c[1]+u]])}}else n&&(o=null);return o},r.clipExtent(null)}function Nr(t,n){return[Math.log(Math.tan(jo/4+n/2)),-t]}function Ar(t){return t[0]}function Cr(t){return t[1]}function Tr(t){for(var n=t.length,r=[0,1],e=2,a=2;a<n;a++){for(;e>1&&K(t[r[e-2]],t[r[e-1]],t[a])<=0;)--e;r[e++]=a}return r.slice(0,e)}function Rr(t,n){return t[0]-n[0]||t[1]-n[1]}function zr(t,n,r){return(r[0]-n[0])*(t[1]-n[1])<(r[1]-n[1])*(t[0]-n[0])}function Lr(t,n,r,e){var a=t[0],i=r[0],o=n[0]-a,u=e[0]-i,c=t[1],s=r[1],l=n[1]-c,f=e[1]-s,h=(u*(c-s)-f*(a-i))/(f*o-u*l);return[a+h*o,c+h*l]}function Pr(t){var n=t[0],r=t[t.length-1];return!(n[0]-r[0]||n[1]-r[1])}function Dr(){ee(this),this.edge=this.site=this.circle=null}function jr(t){var n=uc.pop()||new Dr;return n.site=t,n}function Ur(t){Gr(t),ac.remove(t),uc.push(t),ee(t)}function Fr(t){var n=t.circle,r=n.x,e=n.cy,a={x:r,y:e},i=t.P,o=t.N,u=[t];Ur(t);for(var c=i;c.circle&&yo(r-c.circle.x)<Po&&yo(e-c.circle.cy)<Po;)i=c.P,u.unshift(c),Ur(c),c=i;u.unshift(c),Gr(c);for(var s=o;s.circle&&yo(r-s.circle.x)<Po&&yo(e-s.circle.cy)<Po;)o=s.N,u.push(s),Ur(s),s=o;u.push(s),Gr(s);var l,f=u.length;for(l=1;l<f;++l)s=u[l],c=u[l-1],te(s.edge,c.site,s.site,a);c=u[0],s=u[f-1],s.edge=Jr(c.site,s.site,null,a),Vr(c),Vr(s)}function Qr(t){for(var n,r,e,a,i=t.x,o=t.y,u=ac._;u;)if(e=Hr(u,o)-i,e>Po)u=u.L;else{if(a=i-Or(u,o),!(a>Po)){e>-Po?(n=u.P,r=u):a>-Po?(n=u,r=u.N):n=r=u;break}if(!u.R){n=u;break}u=u.R}var c=jr(t);if(ac.insert(n,c),n||r){if(n===r)return Gr(n),r=jr(n.site),ac.insert(c,r),c.edge=r.edge=Jr(n.site,c.site),Vr(n),void Vr(r);if(!r)return void(c.edge=Jr(n.site,c.site));Gr(n),Gr(r);var s=n.site,l=s.x,f=s.y,h=t.x-l,v=t.y-f,g=r.site,p=g.x-l,M=g.y-f,d=2*(h*M-v*p),y=h*h+v*v,m=p*p+M*M,x={x:(M*y-v*m)/d+l,y:(h*m-p*y)/d+f};te(r.edge,s,g,x),c.edge=Jr(s,t,null,x),r.edge=Jr(t,g,null,x),Vr(n),Vr(r)}}function Hr(t,n){var r=t.site,e=r.x,a=r.y,i=a-n;if(!i)return e;var o=t.P;if(!o)return-(1/0);r=o.site;var u=r.x,c=r.y,s=c-n;if(!s)return u;var l=u-e,f=1/i-1/s,h=l/s;return f?(-h+Math.sqrt(h*h-2*f*(l*l/(-2*s)-c+s/2+a-i/2)))/f+e:(e+u)/2}function Or(t,n){var r=t.N;if(r)return Hr(r,n);var e=t.site;return e.y===n?e.x:1/0}function Ir(t){this.site=t,this.edges=[]}function Yr(t){for(var n,r,e,a,i,o,u,c,s,l,f=t[0][0],h=t[1][0],v=t[0][1],g=t[1][1],p=ec,M=p.length;M--;)if(i=p[M],i&&i.prepare())for(u=i.edges,c=u.length,o=0;o<c;)l=u[o].end(),e=l.x,a=l.y,s=u[++o%c].start(),n=s.x,r=s.y,(yo(e-n)>Po||yo(a-r)>Po)&&(u.splice(o,0,new ne(Kr(i.site,l,yo(e-f)<Po&&g-a>Po?{x:f,y:yo(n-f)<Po?r:g}:yo(a-g)<Po&&h-e>Po?{x:yo(r-g)<Po?n:h,y:g}:yo(e-h)<Po&&a-v>Po?{x:h,y:yo(n-h)<Po?r:v}:yo(a-v)<Po&&e-f>Po?{x:yo(r-v)<Po?n:f,y:v}:null),i.site,null)),++c)}function Zr(t,n){return n.angle-t.angle}function Br(){ee(this),this.x=this.y=this.arc=this.site=this.cy=null}function Vr(t){var n=t.P,r=t.N;if(n&&r){var e=n.site,a=t.site,i=r.site;if(e!==i){var o=a.x,u=a.y,c=e.x-o,s=e.y-u,l=i.x-o,f=i.y-u,h=2*(c*f-s*l);if(!(h>=-Do)){var v=c*c+s*s,g=l*l+f*f,p=(f*v-s*g)/h,M=(c*g-l*v)/h,f=M+u,d=cc.pop()||new Br;d.arc=t,d.site=a,d.x=p+o,d.y=f+Math.sqrt(p*p+M*M),d.cy=f,t.circle=d;for(var y=null,m=oc._;m;)if(d.y<m.y||d.y===m.y&&d.x<=m.x){if(!m.L){y=m.P;break}m=m.L}else{if(!m.R){y=m;break}m=m.R}oc.insert(y,d),y||(ic=d)}}}}function Gr(t){var n=t.circle;n&&(n.P||(ic=n.N),oc.remove(n),cc.push(n),ee(n),t.circle=null)}function Xr(t){for(var n,r=rc,e=In(t[0][0],t[0][1],t[1][0],t[1][1]),a=r.length;a--;)n=r[a],(!$r(n,t)||!e(n)||yo(n.a.x-n.b.x)<Po&&yo(n.a.y-n.b.y)<Po)&&(n.a=n.b=null,r.splice(a,1))}function $r(t,n){var r=t.b;if(r)return!0;var e,a,i=t.a,o=n[0][0],u=n[1][0],c=n[0][1],s=n[1][1],l=t.l,f=t.r,h=l.x,v=l.y,g=f.x,p=f.y,M=(h+g)/2,d=(v+p)/2;if(p===v){if(M<o||M>=u)return;if(h>g){if(i){if(i.y>=s)return}else i={x:M,y:c};r={x:M,y:s}}else{if(i){if(i.y<c)return}else i={x:M,y:s};r={x:M,y:c}}}else if(e=(h-g)/(p-v),a=d-e*M,e<-1||e>1)if(h>g){if(i){if(i.y>=s)return}else i={x:(c-a)/e,y:c};r={x:(s-a)/e,y:s}}else{if(i){if(i.y<c)return}else i={x:(s-a)/e,y:s};r={x:(c-a)/e,y:c}}else if(v<p){if(i){if(i.x>=u)return}else i={x:o,y:e*o+a};r={x:u,y:e*u+a}}else{if(i){if(i.x<o)return}else i={x:u,y:e*u+a};r={x:o,y:e*o+a}}return t.a=i,t.b=r,!0}function Wr(t,n){this.l=t,this.r=n,this.a=this.b=null}function Jr(t,n,r,e){var a=new Wr(t,n);return rc.push(a),r&&te(a,t,n,r),e&&te(a,n,t,e),ec[t.i].edges.push(new ne(a,t,n)),ec[n.i].edges.push(new ne(a,n,t)),a}function Kr(t,n,r){var e=new Wr(t,null);return e.a=n,e.b=r,rc.push(e),e}function te(t,n,r,e){t.a||t.b?t.l===r?t.b=e:t.a=e:(t.a=e,t.l=n,t.r=r)}function ne(t,n,r){var e=t.a,a=t.b;this.edge=t,this.site=n,this.angle=r?Math.atan2(r.y-n.y,r.x-n.x):t.l===n?Math.atan2(a.x-e.x,e.y-a.y):Math.atan2(e.x-a.x,a.y-e.y)}function re(){this._=null}function ee(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ae(t,n){var r=n,e=n.R,a=r.U;a?a.L===r?a.L=e:a.R=e:t._=e,e.U=a,r.U=e,r.R=e.L,r.R&&(r.R.U=r),e.L=r}function ie(t,n){var r=n,e=n.L,a=r.U;a?a.L===r?a.L=e:a.R=e:t._=e,e.U=a,r.U=e,r.L=e.R,r.L&&(r.L.U=r),e.R=r}function oe(t){for(;t.L;)t=t.L;return t}function ue(t,n){var r,e,a,i=t.sort(ce).pop();for(rc=[],ec=new Array(t.length),ac=new re,oc=new re;;)if(a=ic,i&&(!a||i.y<a.y||i.y===a.y&&i.x<a.x))i.x===r&&i.y===e||(ec[i.i]=new Ir(i),Qr(i),r=i.x,e=i.y),i=t.pop();else{if(!a)break;Fr(a.arc)}n&&(Xr(n),Yr(n));var o={cells:ec,edges:rc};return ac=oc=rc=ec=null,o}function ce(t,n){return n.y-t.y||n.x-t.x}function se(t,n,r){return(t.x-r.x)*(n.y-t.y)-(t.x-n.x)*(r.y-t.y)}function le(t){return t.x}function fe(t){return t.y}function he(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function ve(t,n,r,e,a,i){if(!t(n,r,e,a,i)){var o=.5*(r+a),u=.5*(e+i),c=n.nodes;c[0]&&ve(t,c[0],r,e,o,u),c[1]&&ve(t,c[1],o,e,a,u),c[2]&&ve(t,c[2],r,u,o,i),c[3]&&ve(t,c[3],o,u,a,i)}}function ge(t,n,r,e,a,i,o){var u,c=1/0;return function t(s,l,f,h,v){if(!(l>i||f>o||h<e||v<a)){if(g=s.point){var g,p=n-s.x,M=r-s.y,d=p*p+M*M;if(d<c){var y=Math.sqrt(c=d);e=n-y,a=r-y,i=n+y,o=r+y,u=g}}for(var m=s.nodes,x=.5*(l+h),b=.5*(f+v),w=n>=x,_=r>=b,S=_<<1|w,E=S+4;S<E;++S)if(s=m[3&S])switch(3&S){case 0:t(s,l,f,x,b);break;case 1:t(s,x,f,h,b);break;case 2:t(s,l,b,x,v);break;case 3:t(s,x,b,h,v)}}}(t,e,a,i,o),u}function pe(t,n){t=uo.rgb(t),n=uo.rgb(n);var r=t.r,e=t.g,a=t.b,i=n.r-r,o=n.g-e,u=n.b-a;return function(t){return"#"+xt(Math.round(r+i*t))+xt(Math.round(e+o*t))+xt(Math.round(a+u*t))}}function Me(t,n){var r,e={},a={};for(r in t)r in n?e[r]=me(t[r],n[r]):a[r]=t[r];for(r in n)r in t||(a[r]=n[r]);return function(t){for(r in e)a[r]=e[r](t);return a}}function de(t,n){return t=+t,n=+n,function(r){return t*(1-r)+n*r}}function ye(t,n){var r,e,a,i=lc.lastIndex=fc.lastIndex=0,o=-1,u=[],c=[];for(t+="",n+="";(r=lc.exec(t))&&(e=fc.exec(n));)(a=e.index)>i&&(a=n.slice(i,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(e=e[0])?u[o]?u[o]+=e:u[++o]=e:(u[++o]=null,c.push({i:o,x:de(r,e)})),i=fc.lastIndex;return i<n.length&&(a=n.slice(i),u[o]?u[o]+=a:u[++o]=a),u.length<2?c[0]?(n=c[0].x,function(t){return n(t)+""}):function(){return n}:(n=c.length,function(t){for(var r,e=0;e<n;++e)u[(r=c[e]).i]=r.x(t);return u.join("")})}function me(t,n){for(var r,e=uo.interpolators.length;--e>=0&&!(r=uo.interpolators[e](t,n)););return r}function xe(t,n){var r,e=[],a=[],i=t.length,o=n.length,u=Math.min(t.length,n.length);for(r=0;r<u;++r)e.push(me(t[r],n[r]));for(;r<i;++r)a[r]=t[r];for(;r<o;++r)a[r]=n[r];return function(t){for(r=0;r<u;++r)a[r]=e[r](t);return a}}function be(t){return function(n){return n<=0?0:n>=1?1:t(n)}}function we(t){return function(n){return 1-t(1-n)}}function _e(t){return function(n){return.5*(n<.5?t(2*n):2-t(2-2*n))}}function Se(t){return t*t}function Ee(t){return t*t*t}function qe(t){if(t<=0)return 0;if(t>=1)return 1;var n=t*t,r=n*t;return 4*(t<.5?r:3*(t-n)+r-.75)}function ke(t){return function(n){return Math.pow(n,t)}}function Ne(t){return 1-Math.cos(t*Qo)}function Ae(t){return Math.pow(2,10*(t-1))}function Ce(t){return 1-Math.sqrt(1-t*t)}function Te(t,n){var r;return arguments.length<2&&(n=.45),arguments.length?r=n/Uo*Math.asin(1/t):(t=1,r=n/4),function(e){return 1+t*Math.pow(2,-10*e)*Math.sin((e-r)*Uo/n)}}function Re(t){return t||(t=1.70158),function(n){return n*n*((t+1)*n-t)}}function ze(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Le(t,n){t=uo.hcl(t),n=uo.hcl(n);var r=t.h,e=t.c,a=t.l,i=n.h-r,o=n.c-e,u=n.l-a;return isNaN(o)&&(o=0,e=isNaN(e)?n.c:e),isNaN(i)?(i=0,r=isNaN(r)?n.h:r):i>180?i-=360:i<-180&&(i+=360),function(t){return lt(r+i*t,e+o*t,a+u*t)+""}}function Pe(t,n){t=uo.hsl(t),n=uo.hsl(n);var r=t.h,e=t.s,a=t.l,i=n.h-r,o=n.s-e,u=n.l-a;return isNaN(o)&&(o=0,e=isNaN(e)?n.s:e),isNaN(i)?(i=0,r=isNaN(r)?n.h:r):i>180?i-=360:i<-180&&(i+=360),function(t){return ct(r+i*t,e+o*t,a+u*t)+""}}function De(t,n){t=uo.lab(t),n=uo.lab(n);var r=t.l,e=t.a,a=t.b,i=n.l-r,o=n.a-e,u=n.b-a;return function(t){return ht(r+i*t,e+o*t,a+u*t)+""}}function je(t,n){return n-=t,function(r){return Math.round(t+n*r)}}function Ue(t){var n=[t.a,t.b],r=[t.c,t.d],e=Qe(n),a=Fe(n,r),i=Qe(He(r,n,-a))||0;n[0]*r[1]<r[0]*n[1]&&(n[0]*=-1,n[1]*=-1,e*=-1,a*=-1),this.rotate=(e?Math.atan2(n[1],n[0]):Math.atan2(-r[0],r[1]))*Oo,this.translate=[t.e,t.f],this.scale=[e,i],this.skew=i?Math.atan2(a,i)*Oo:0}function Fe(t,n){return t[0]*n[0]+t[1]*n[1]}function Qe(t){var n=Math.sqrt(Fe(t,t));return n&&(t[0]/=n,t[1]/=n),n}function He(t,n,r){return t[0]+=r*n[0],t[1]+=r*n[1],t}function Oe(t){return t.length?t.pop()+",":""}function Ie(t,n,r,e){if(t[0]!==n[0]||t[1]!==n[1]){var a=r.push("translate(",null,",",null,")");e.push({i:a-4,x:de(t[0],n[0])},{i:a-2,x:de(t[1],n[1])})}else(n[0]||n[1])&&r.push("translate("+n+")")}function Ye(t,n,r,e){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),e.push({i:r.push(Oe(r)+"rotate(",null,")")-2,x:de(t,n)})):n&&r.push(Oe(r)+"rotate("+n+")")}function Ze(t,n,r,e){t!==n?e.push({i:r.push(Oe(r)+"skewX(",null,")")-2,x:de(t,n)}):n&&r.push(Oe(r)+"skewX("+n+")")}function Be(t,n,r,e){if(t[0]!==n[0]||t[1]!==n[1]){var a=r.push(Oe(r)+"scale(",null,",",null,")");e.push({i:a-4,x:de(t[0],n[0])},{i:a-2,x:de(t[1],n[1])})}else 1===n[0]&&1===n[1]||r.push(Oe(r)+"scale("+n+")")}function Ve(t,n){var r=[],e=[];return t=uo.transform(t),n=uo.transform(n),Ie(t.translate,n.translate,r,e),Ye(t.rotate,n.rotate,r,e),Ze(t.skew,n.skew,r,e),Be(t.scale,n.scale,r,e),t=n=null,function(t){for(var n,a=-1,i=e.length;++a<i;)r[(n=e[a]).i]=n.x(t);return r.join("")}}function Ge(t,n){return n=(n-=t=+t)||1/n,function(r){return(r-t)/n}}function Xe(t,n){return n=(n-=t=+t)||1/n,function(r){return Math.max(0,Math.min(1,(r-t)/n))}}function $e(t){for(var n=t.source,r=t.target,e=Je(n,r),a=[n];n!==e;)n=n.parent,a.push(n);for(var i=a.length;r!==e;)a.splice(i,0,r),r=r.parent;return a}function We(t){for(var n=[],r=t.parent;null!=r;)n.push(t),t=r,r=r.parent;return n.push(t),n}function Je(t,n){if(t===n)return t;for(var r=We(t),e=We(n),a=r.pop(),i=e.pop(),o=null;a===i;)o=a,a=r.pop(),i=e.pop();return o}function Ke(t){t.fixed|=2}function ta(t){t.fixed&=-7}function na(t){t.fixed|=4,t.px=t.x,t.py=t.y}function ra(t){t.fixed&=-5}function ea(t,n,r){var e=0,a=0;if(t.charge=0,!t.leaf)for(var i,o=t.nodes,u=o.length,c=-1;++c<u;)i=o[c],null!=i&&(ea(i,n,r),t.charge+=i.charge,e+=i.charge*i.cx,a+=i.charge*i.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var s=n*r[t.point.index];t.charge+=t.pointCharge=s,e+=s*t.point.x,a+=s*t.point.y}t.cx=e/t.charge,t.cy=a/t.charge}function aa(t,n){return uo.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=la,t}function ia(t,n){for(var r=[t];null!=(t=r.pop());)if(n(t),(a=t.children)&&(e=a.length))for(var e,a;--e>=0;)r.push(a[e])}function oa(t,n){for(var r=[t],e=[];null!=(t=r.pop());)if(e.push(t),(i=t.children)&&(a=i.length))for(var a,i,o=-1;++o<a;)r.push(i[o]);for(;null!=(t=e.pop());)n(t)}function ua(t){return t.children}function ca(t){return t.value}function sa(t,n){return n.value-t.value}function la(t){return uo.merge(t.map(function(t){return(t.children||[]).map(function(n){return{source:t,target:n}})}))}function fa(t){return t.x}function ha(t){return t.y}function va(t,n,r){t.y0=n,t.y=r}function ga(t){return uo.range(t.length)}function pa(t){for(var n=-1,r=t[0].length,e=[];++n<r;)e[n]=0;return e}function Ma(t){for(var n,r=1,e=0,a=t[0][1],i=t.length;r<i;++r)(n=t[r][1])>a&&(e=r,a=n);return e}function da(t){return t.reduce(ya,0)}function ya(t,n){return t+n[1]}function ma(t,n){return xa(t,Math.ceil(Math.log(n.length)/Math.LN2+1))}function xa(t,n){for(var r=-1,e=+t[0],a=(t[1]-e)/n,i=[];++r<=n;)i[r]=a*r+e;return i}function ba(t){return[uo.min(t),uo.max(t)]}function wa(t,n){return t.value-n.value}function _a(t,n){var r=t._pack_next;t._pack_next=n,n._pack_prev=t,n._pack_next=r,r._pack_prev=n}function Sa(t,n){t._pack_next=n,n._pack_prev=t}function Ea(t,n){var r=n.x-t.x,e=n.y-t.y,a=t.r+n.r;return.999*a*a>r*r+e*e}function qa(t){function n(t){l=Math.min(t.x-t.r,l),f=Math.max(t.x+t.r,f),h=Math.min(t.y-t.r,h),v=Math.max(t.y+t.r,v)}if((r=t.children)&&(s=r.length)){var r,e,a,i,o,u,c,s,l=1/0,f=-(1/0),h=1/0,v=-(1/0);if(r.forEach(ka),e=r[0],e.x=-e.r,e.y=0,n(e),s>1&&(a=r[1],a.x=a.r,a.y=0,n(a),s>2))for(i=r[2],Ca(e,a,i),n(i),_a(e,i),e._pack_prev=i,_a(i,a),a=e._pack_next,o=3;o<s;o++){Ca(e,a,i=r[o]);var g=0,p=1,M=1;for(u=a._pack_next;u!==a;u=u._pack_next,p++)if(Ea(u,i)){g=1;break}if(1==g)for(c=e._pack_prev;c!==u._pack_prev&&!Ea(c,i);c=c._pack_prev,M++);g?(p<M||p==M&&a.r<e.r?Sa(e,a=u):Sa(e=c,a),o--):(_a(e,i),a=i,n(i))}var d=(l+f)/2,y=(h+v)/2,m=0;for(o=0;o<s;o++)i=r[o],i.x-=d,i.y-=y,m=Math.max(m,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=m,r.forEach(Na)}}function ka(t){t._pack_next=t._pack_prev=t}function Na(t){delete t._pack_next,delete t._pack_prev}function Aa(t,n,r,e){var a=t.children;if(t.x=n+=e*t.x,t.y=r+=e*t.y,t.r*=e,a)for(var i=-1,o=a.length;++i<o;)Aa(a[i],n,r,e)}function Ca(t,n,r){var e=t.r+r.r,a=n.x-t.x,i=n.y-t.y;if(e&&(a||i)){var o=n.r+r.r,u=a*a+i*i;o*=o,e*=e;var c=.5+(e-o)/(2*u),s=Math.sqrt(Math.max(0,2*o*(e+u)-(e-=u)*e-o*o))/(2*u);r.x=t.x+c*a+s*i,r.y=t.y+c*i-s*a}else r.x=t.x+e,r.y=t.y}function Ta(t,n){return t.parent==n.parent?1:2}function Ra(t){var n=t.children;return n.length?n[0]:t.t}function za(t){var n,r=t.children;return(n=r.length)?r[n-1]:t.t}function La(t,n,r){var e=r/(n.i-t.i);n.c-=e,n.s+=r,t.c+=e,n.z+=r,n.m+=r}function Pa(t){for(var n,r=0,e=0,a=t.children,i=a.length;--i>=0;)n=a[i],n.z+=r,n.m+=r,r+=n.s+(e+=n.c)}function Da(t,n,r){return t.a.parent===n.parent?t.a:r}function ja(t){return 1+uo.max(t,function(t){return t.y})}function Ua(t){return t.reduce(function(t,n){return t+n.x},0)/t.length}function Fa(t){var n=t.children;return n&&n.length?Fa(n[0]):t}function Qa(t){var n,r=t.children;return r&&(n=r.length)?Qa(r[n-1]):t}function Ha(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Oa(t,n){var r=t.x+n[3],e=t.y+n[0],a=t.dx-n[1]-n[3],i=t.dy-n[0]-n[2];return a<0&&(r+=a/2,a=0),i<0&&(e+=i/2,i=0),{x:r,y:e,dx:a,dy:i}}function Ia(t){var n=t[0],r=t[t.length-1];return n<r?[n,r]:[r,n]}function Ya(t){return t.rangeExtent?t.rangeExtent():Ia(t.range())}function Za(t,n,r,e){var a=r(t[0],t[1]),i=e(n[0],n[1]);return function(t){return i(a(t))}}function Ba(t,n){var r,e=0,a=t.length-1,i=t[e],o=t[a];return o<i&&(r=e,e=a,a=r,r=i,i=o,o=r),t[e]=n.floor(i),t[a]=n.ceil(o),t}function Va(t){return t?{floor:function(n){return Math.floor(n/t)*t},ceil:function(n){return Math.ceil(n/t)*t}}:wc}function Ga(t,n,r,e){var a=[],i=[],o=0,u=Math.min(t.length,n.length)-1;for(t[u]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++o<=u;)a.push(r(t[o-1],t[o])),i.push(e(n[o-1],n[o]));return function(n){var r=uo.bisect(t,n,1,u)-1;return i[r](a[r](n))}}function Xa(t,n,r,e){function a(){var a=Math.min(t.length,n.length)>2?Ga:Za,c=e?Xe:Ge;return o=a(t,n,c,r),u=a(n,t,c,me),i}function i(t){return o(t)}var o,u;return i.invert=function(t){return u(t)},i.domain=function(n){return arguments.length?(t=n.map(Number),a()):t},i.range=function(t){return arguments.length?(n=t,a()):n},i.rangeRound=function(t){return i.range(t).interpolate(je)},i.clamp=function(t){return arguments.length?(e=t,a()):e},i.interpolate=function(t){return arguments.length?(r=t,a()):r},i.ticks=function(n){return Ka(t,n)},i.tickFormat=function(n,r){return ti(t,n,r)},i.nice=function(n){return Wa(t,n),a()},i.copy=function(){return Xa(t,n,r,e)},a()}function $a(t,n){return uo.rebind(t,n,"range","rangeRound","interpolate","clamp")}function Wa(t,n){return Ba(t,Va(Ja(t,n)[2])),Ba(t,Va(Ja(t,n)[2])),t}function Ja(t,n){null==n&&(n=10);var r=Ia(t),e=r[1]-r[0],a=Math.pow(10,Math.floor(Math.log(e/n)/Math.LN10)),i=n/e*a;return i<=.15?a*=10:i<=.35?a*=5:i<=.75&&(a*=2),r[0]=Math.ceil(r[0]/a)*a,r[1]=Math.floor(r[1]/a)*a+.5*a,r[2]=a,r}function Ka(t,n){return uo.range.apply(uo,Ja(t,n))}function ti(t,n,r){var e=Ja(t,n);if(r){var a=lu.exec(r);if(a.shift(),"s"===a[8]){var i=uo.formatPrefix(Math.max(yo(e[0]),yo(e[1])));return a[7]||(a[7]="."+ni(i.scale(e[2]))),a[8]="f",r=uo.format(a.join("")),function(t){return r(i.scale(t))+i.symbol}}a[7]||(a[7]="."+ri(a[8],e)),r=a.join("")}else r=",."+ni(e[2])+"f";return uo.format(r)}function ni(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function ri(t,n){var r=ni(n[2]);return t in _c?Math.abs(r-ni(Math.max(yo(n[0]),yo(n[1]))))+ +("e"!==t):r-2*("%"===t)}function ei(t,n,r,e){function a(t){return(r?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(n)}function i(t){return r?Math.pow(n,t):-Math.pow(n,-t)}function o(n){return t(a(n))}return o.invert=function(n){return i(t.invert(n))},o.domain=function(n){return arguments.length?(r=n[0]>=0,t.domain((e=n.map(Number)).map(a)),o):e},o.base=function(r){return arguments.length?(n=+r,t.domain(e.map(a)),o):n},o.nice=function(){var n=Ba(e.map(a),r?Math:Ec);return t.domain(n),e=n.map(i),o},o.ticks=function(){var t=Ia(e),o=[],u=t[0],c=t[1],s=Math.floor(a(u)),l=Math.ceil(a(c)),f=n%1?2:n;if(isFinite(l-s)){if(r){for(;s<l;s++)for(var h=1;h<f;h++)o.push(i(s)*h);o.push(i(s))}else for(o.push(i(s));s++<l;)for(var h=f-1;h>0;h--)o.push(i(s)*h);for(s=0;o[s]<u;s++);for(l=o.length;o[l-1]>c;l--);o=o.slice(s,l)}return o},o.tickFormat=function(t,r){if(!arguments.length)return Sc;arguments.length<2?r=Sc:"function"!=typeof r&&(r=uo.format(r));var e=Math.max(1,n*t/o.ticks().length);return function(t){var o=t/i(Math.round(a(t)));return o*n<n-.5&&(o*=n),o<=e?r(t):""}},o.copy=function(){return ei(t.copy(),n,r,e)},$a(o,t)}function ai(t,n,r){function e(n){return t(a(n))}var a=ii(n),i=ii(1/n);return e.invert=function(n){return i(t.invert(n))},e.domain=function(n){return arguments.length?(t.domain((r=n.map(Number)).map(a)),e):r},e.ticks=function(t){return Ka(r,t)},e.tickFormat=function(t,n){return ti(r,t,n)},e.nice=function(t){return e.domain(Wa(r,t))},e.exponent=function(o){return arguments.length?(a=ii(n=o),i=ii(1/n),t.domain(r.map(a)),e):n},e.copy=function(){return ai(t.copy(),n,r)},$a(e,t)}function ii(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function oi(t,n){function r(r){return i[((a.get(r)||("range"===n.t?a.set(r,t.push(r)):NaN))-1)%i.length]}function e(n,r){return uo.range(t.length).map(function(t){return n+r*t})}var a,i,o;return r.domain=function(e){if(!arguments.length)return t;t=[],a=new s;for(var i,o=-1,u=e.length;++o<u;)a.has(i=e[o])||a.set(i,t.push(i));return r[n.t].apply(r,n.a)},r.range=function(t){return arguments.length?(i=t,o=0,n={t:"range",a:arguments},r):i},r.rangePoints=function(a,u){arguments.length<2&&(u=0);var c=a[0],s=a[1],l=t.length<2?(c=(c+s)/2,0):(s-c)/(t.length-1+u);return i=e(c+l*u/2,l),o=0,n={t:"rangePoints",a:arguments},r},r.rangeRoundPoints=function(a,u){arguments.length<2&&(u=0);var c=a[0],s=a[1],l=t.length<2?(c=s=Math.round((c+s)/2),0):(s-c)/(t.length-1+u)|0;return i=e(c+Math.round(l*u/2+(s-c-(t.length-1+u)*l)/2),l),o=0,n={t:"rangeRoundPoints",a:arguments},r},r.rangeBands=function(a,u,c){arguments.length<2&&(u=0),arguments.length<3&&(c=u);var s=a[1]<a[0],l=a[s-0],f=a[1-s],h=(f-l)/(t.length-u+2*c);return i=e(l+h*c,h),s&&i.reverse(),o=h*(1-u),n={t:"rangeBands",a:arguments},r},r.rangeRoundBands=function(a,u,c){arguments.length<2&&(u=0),arguments.length<3&&(c=u);var s=a[1]<a[0],l=a[s-0],f=a[1-s],h=Math.floor((f-l)/(t.length-u+2*c));return i=e(l+Math.round((f-l-(t.length-u)*h)/2),h),s&&i.reverse(),o=Math.round(h*(1-u)),n={t:"rangeRoundBands",a:arguments},r},r.rangeBand=function(){return o},r.rangeExtent=function(){return Ia(n.a[0])},r.copy=function(){return oi(t,n)},r.domain(t)}function ui(t,n){function i(){var r=0,e=n.length;for(u=[];++r<e;)u[r-1]=uo.quantile(t,r/e);return o}function o(t){if(!isNaN(t=+t))return n[uo.bisect(u,t)]}var u;return o.domain=function(n){return arguments.length?(t=n.map(e).filter(a).sort(r),i()):t},o.range=function(t){return arguments.length?(n=t,i()):n},o.quantiles=function(){return u},o.invertExtent=function(r){return r=n.indexOf(r),r<0?[NaN,NaN]:[r>0?u[r-1]:t[0],r<u.length?u[r]:t[t.length-1]]},o.copy=function(){return ui(t,n)},i()}function ci(t,n,r){function e(n){return r[Math.max(0,Math.min(o,Math.floor(i*(n-t))))]}function a(){return i=r.length/(n-t),o=r.length-1,e}var i,o;return e.domain=function(r){return arguments.length?(t=+r[0],n=+r[r.length-1],a()):[t,n]},e.range=function(t){return arguments.length?(r=t,a()):r},e.invertExtent=function(n){return n=r.indexOf(n),n=n<0?NaN:n/i+t,[n,n+1/i]},e.copy=function(){return ci(t,n,r)},a()}function si(t,n){function r(r){if(r<=r)return n[uo.bisect(t,r)]}return r.domain=function(n){return arguments.length?(t=n,r):t},r.range=function(t){return arguments.length?(n=t,r):n},r.invertExtent=function(r){return r=n.indexOf(r),[t[r-1],t[r]]},r.copy=function(){return si(t,n)},r}function li(t){function n(t){return+t}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=r.map(n),n):t},n.ticks=function(n){return Ka(t,n)},n.tickFormat=function(n,r){return ti(t,n,r)},n.copy=function(){return li(t)},n}function fi(){return 0}function hi(t){return t.innerRadius}function vi(t){return t.outerRadius}function gi(t){return t.startAngle}function pi(t){return t.endAngle}function Mi(t){return t&&t.padAngle}function di(t,n,r,e){return(t-r)*n-(n-e)*t>0?0:1}function yi(t,n,r,e,a){var i=t[0]-n[0],o=t[1]-n[1],u=(a?e:-e)/Math.sqrt(i*i+o*o),c=u*o,s=-u*i,l=t[0]+c,f=t[1]+s,h=n[0]+c,v=n[1]+s,g=(l+h)/2,p=(f+v)/2,M=h-l,d=v-f,y=M*M+d*d,m=r-e,x=l*v-h*f,b=(d<0?-1:1)*Math.sqrt(Math.max(0,m*m*y-x*x)),w=(x*d-M*b)/y,_=(-x*M-d*b)/y,S=(x*d+M*b)/y,E=(-x*M+d*b)/y,q=w-g,k=_-p,N=S-g,A=E-p;return q*q+k*k>N*N+A*A&&(w=S,_=E),[[w-c,_-s],[w*r/m,_*r/m]]}function mi(t){function n(n){function o(){s.push("M",i(t(l),u))}for(var c,s=[],l=[],f=-1,h=n.length,v=qt(r),g=qt(e);++f<h;)a.call(this,c=n[f],f)?l.push([+v.call(this,c,f),+g.call(this,c,f)]):l.length&&(o(),l=[]);return l.length&&o(),s.length?s.join(""):null}var r=Ar,e=Cr,a=Cn,i=xi,o=i.key,u=.7;return n.x=function(t){return arguments.length?(r=t,n):r},n.y=function(t){return arguments.length?(e=t,n):e},n.defined=function(t){return arguments.length?(a=t,n):a},n.interpolate=function(t){return arguments.length?(o="function"==typeof t?i=t:(i=Tc.get(t)||xi).key,n):o},n.tension=function(t){return arguments.length?(u=t,n):u},n}function xi(t){return t.length>1?t.join("L"):t+"Z"}function bi(t){return t.join("L")+"Z"}function wi(t){for(var n=0,r=t.length,e=t[0],a=[e[0],",",e[1]];++n<r;)a.push("H",(e[0]+(e=t[n])[0])/2,"V",e[1]);return r>1&&a.push("H",e[0]),a.join("")}function _i(t){for(var n=0,r=t.length,e=t[0],a=[e[0],",",e[1]];++n<r;)a.push("V",(e=t[n])[1],"H",e[0]);return a.join("")}function Si(t){for(var n=0,r=t.length,e=t[0],a=[e[0],",",e[1]];++n<r;)a.push("H",(e=t[n])[0],"V",e[1]);return a.join("")}function Ei(t,n){return t.length<4?xi(t):t[1]+Ni(t.slice(1,-1),Ai(t,n))}function qi(t,n){return t.length<3?bi(t):t[0]+Ni((t.push(t[0]),t),Ai([t[t.length-2]].concat(t,[t[1]]),n))}function ki(t,n){return t.length<3?xi(t):t[0]+Ni(t,Ai(t,n))}function Ni(t,n){if(n.length<1||t.length!=n.length&&t.length!=n.length+2)return xi(t);var r=t.length!=n.length,e="",a=t[0],i=t[1],o=n[0],u=o,c=1;if(r&&(e+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],a=t[1],c=2),n.length>1){u=n[1],i=t[c],c++,e+="C"+(a[0]+o[0])+","+(a[1]+o[1])+","+(i[0]-u[0])+","+(i[1]-u[1])+","+i[0]+","+i[1];for(var s=2;s<n.length;s++,c++)i=t[c],u=n[s],e+="S"+(i[0]-u[0])+","+(i[1]-u[1])+","+i[0]+","+i[1]}if(r){var l=t[c];e+="Q"+(i[0]+2*u[0]/3)+","+(i[1]+2*u[1]/3)+","+l[0]+","+l[1]}return e}function Ai(t,n){for(var r,e=[],a=(1-n)/2,i=t[0],o=t[1],u=1,c=t.length;++u<c;)r=i,i=o,o=t[u],e.push([a*(o[0]-r[0]),a*(o[1]-r[1])]);return e}function Ci(t){if(t.length<3)return xi(t);var n=1,r=t.length,e=t[0],a=e[0],i=e[1],o=[a,a,a,(e=t[1])[0]],u=[i,i,i,e[1]],c=[a,",",i,"L",Li(Lc,o),",",Li(Lc,u)];for(t.push(t[r-1]);++n<=r;)e=t[n],o.shift(),o.push(e[0]),u.shift(),u.push(e[1]),Pi(c,o,u);return t.pop(),c.push("L",e),c.join("")}function Ti(t){if(t.length<4)return xi(t);for(var n,r=[],e=-1,a=t.length,i=[0],o=[0];++e<3;)n=t[e],i.push(n[0]),o.push(n[1]);for(r.push(Li(Lc,i)+","+Li(Lc,o)),--e;++e<a;)n=t[e],i.shift(),i.push(n[0]),o.shift(),o.push(n[1]),Pi(r,i,o);return r.join("")}function Ri(t){for(var n,r,e=-1,a=t.length,i=a+4,o=[],u=[];++e<4;)r=t[e%a],o.push(r[0]),u.push(r[1]);for(n=[Li(Lc,o),",",Li(Lc,u)],--e;++e<i;)r=t[e%a],o.shift(),o.push(r[0]),u.shift(),u.push(r[1]),Pi(n,o,u);return n.join("")}function zi(t,n){var r=t.length-1;if(r)for(var e,a,i=t[0][0],o=t[0][1],u=t[r][0]-i,c=t[r][1]-o,s=-1;++s<=r;)e=t[s],a=s/r,e[0]=n*e[0]+(1-n)*(i+a*u),e[1]=n*e[1]+(1-n)*(o+a*c);return Ci(t)}function Li(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]+t[3]*n[3]}function Pi(t,n,r){t.push("C",Li(Rc,n),",",Li(Rc,r),",",Li(zc,n),",",Li(zc,r),",",Li(Lc,n),",",Li(Lc,r))}function Di(t,n){return(n[1]-t[1])/(n[0]-t[0])}function ji(t){for(var n=0,r=t.length-1,e=[],a=t[0],i=t[1],o=e[0]=Di(a,i);++n<r;)e[n]=(o+(o=Di(a=i,i=t[n+1])))/2;return e[n]=o,e}function Ui(t){for(var n,r,e,a,i=[],o=ji(t),u=-1,c=t.length-1;++u<c;)n=Di(t[u],t[u+1]),yo(n)<Po?o[u]=o[u+1]=0:(r=o[u]/n,e=o[u+1]/n,a=r*r+e*e,a>9&&(a=3*n/Math.sqrt(a),o[u]=a*r,o[u+1]=a*e));for(u=-1;++u<=c;)a=(t[Math.min(c,u+1)][0]-t[Math.max(0,u-1)][0])/(6*(1+o[u]*o[u])),i.push([a||0,o[u]*a||0]);return i}function Fi(t){return t.length<3?xi(t):t[0]+Ni(t,Ui(t))}function Qi(t){for(var n,r,e,a=-1,i=t.length;++a<i;)n=t[a],r=n[0],e=n[1]-Qo,n[0]=r*Math.cos(e),n[1]=r*Math.sin(e);return t}function Hi(t){function n(n){function c(){p.push("M",u(t(d),f),l,s(t(M.reverse()),f),"Z")}for(var h,v,g,p=[],M=[],d=[],y=-1,m=n.length,x=qt(r),b=qt(a),w=r===e?function(){
return v}:qt(e),_=a===i?function(){return g}:qt(i);++y<m;)o.call(this,h=n[y],y)?(M.push([v=+x.call(this,h,y),g=+b.call(this,h,y)]),d.push([+w.call(this,h,y),+_.call(this,h,y)])):M.length&&(c(),M=[],d=[]);return M.length&&c(),p.length?p.join(""):null}var r=Ar,e=Ar,a=0,i=Cr,o=Cn,u=xi,c=u.key,s=u,l="L",f=.7;return n.x=function(t){return arguments.length?(r=e=t,n):e},n.x0=function(t){return arguments.length?(r=t,n):r},n.x1=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(a=i=t,n):i},n.y0=function(t){return arguments.length?(a=t,n):a},n.y1=function(t){return arguments.length?(i=t,n):i},n.defined=function(t){return arguments.length?(o=t,n):o},n.interpolate=function(t){return arguments.length?(c="function"==typeof t?u=t:(u=Tc.get(t)||xi).key,s=u.reverse||u,l=u.closed?"M":"L",n):c},n.tension=function(t){return arguments.length?(f=t,n):f},n}function Oi(t){return t.radius}function Ii(t){return[t.x,t.y]}function Yi(t){return function(){var n=t.apply(this,arguments),r=n[0],e=n[1]-Qo;return[r*Math.cos(e),r*Math.sin(e)]}}function Zi(){return 64}function Bi(){return"circle"}function Vi(t){var n=Math.sqrt(t/jo);return"M0,"+n+"A"+n+","+n+" 0 1,1 0,"+-n+"A"+n+","+n+" 0 1,1 0,"+n+"Z"}function Gi(t){return function(){var n,r,e;(n=this[t])&&(e=n[r=n.active])&&(e.timer.c=null,e.timer.t=NaN,--n.count?delete n[r]:delete this[t],n.active+=.5,e.event&&e.event.interrupt.call(this,this.__data__,e.index))}}function Xi(t,n,r){return _o(t,Hc),t.namespace=n,t.id=r,t}function $i(t,n,r,e){var a=t.id,i=t.namespace;return I(t,"function"==typeof r?function(t,o,u){t[i][a].tween.set(n,e(r.call(t,t.__data__,o,u)))}:(r=e(r),function(t){t[i][a].tween.set(n,r)}))}function Wi(t){return null==t&&(t=""),function(){this.textContent=t}}function Ji(t){return null==t?"__transition__":"__transition_"+t+"__"}function Ki(t,n,r,e,a){function i(t){var n=p.delay;return l.t=n+c,n<=t?o(t-n):void(l.c=o)}function o(r){var a=g.active,i=g[a];i&&(i.timer.c=null,i.timer.t=NaN,--g.count,delete g[a],i.event&&i.event.interrupt.call(t,t.__data__,i.index));for(var o in g)if(+o<e){var s=g[o];s.timer.c=null,s.timer.t=NaN,--g.count,delete g[o]}l.c=u,Tt(function(){return l.c&&u(r||1)&&(l.c=null,l.t=NaN),1},0,c),g.active=e,p.event&&p.event.start.call(t,t.__data__,n),v=[],p.tween.forEach(function(r,e){(e=e.call(t,t.__data__,n))&&v.push(e)}),h=p.ease,f=p.duration}function u(a){for(var i=a/f,o=h(i),u=v.length;u>0;)v[--u].call(t,o);if(i>=1)return p.event&&p.event.end.call(t,t.__data__,n),--g.count?delete g[e]:delete t[r],1}var c,l,f,h,v,g=t[r]||(t[r]={active:0,count:0}),p=g[e];p||(c=a.time,l=Tt(i,0,c),p=g[e]={tween:new s,time:c,timer:l,delay:a.delay,duration:a.duration,ease:a.ease,index:n},a=null,++g.count)}function to(t,n,r){t.attr("transform",function(t){var e=n(t);return"translate("+(isFinite(e)?e:r(t))+",0)"})}function no(t,n,r){t.attr("transform",function(t){var e=n(t);return"translate(0,"+(isFinite(e)?e:r(t))+")"})}function ro(t){return t.toISOString()}function eo(t,n,r){function e(n){return t(n)}function a(t,r){var e=t[1]-t[0],a=e/r,i=uo.bisect($c,a);return i==$c.length?[n.year,Ja(t.map(function(t){return t/31536e6}),r)[2]]:i?n[a/$c[i-1]<$c[i]/a?i-1:i]:[Kc,Ja(t,r)[2]]}return e.invert=function(n){return ao(t.invert(n))},e.domain=function(n){return arguments.length?(t.domain(n),e):t.domain().map(ao)},e.nice=function(t,n){function r(r){return!isNaN(r)&&!t.range(r,ao(+r+1),n).length}var i=e.domain(),o=Ia(i),u=null==t?a(o,10):"number"==typeof t&&a(o,t);return u&&(t=u[0],n=u[1]),e.domain(Ba(i,n>1?{floor:function(n){for(;r(n=t.floor(n));)n=ao(n-1);return n},ceil:function(n){for(;r(n=t.ceil(n));)n=ao(+n+1);return n}}:t))},e.ticks=function(t,n){var r=Ia(e.domain()),i=null==t?a(r,10):"number"==typeof t?a(r,t):!t.range&&[{range:t},n];return i&&(t=i[0],n=i[1]),t.range(r[0],ao(+r[1]+1),n<1?1:n)},e.tickFormat=function(){return r},e.copy=function(){return eo(t.copy(),n,r)},$a(e,t)}function ao(t){return new Date(t)}function io(t){return JSON.parse(t.responseText)}function oo(t){var n=lo.createRange();return n.selectNode(lo.body),n.createContextualFragment(t.responseText)}var uo={version:"3.5.17"},co=[].slice,so=function(t){return co.call(t)},lo=this.document;if(lo)try{so(lo.documentElement.childNodes)[0].nodeType}catch(t){so=function(t){for(var n=t.length,r=new Array(n);n--;)r[n]=t[n];return r}}if(Date.now||(Date.now=function(){return+new Date}),lo)try{lo.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var fo=this.Element.prototype,ho=fo.setAttribute,vo=fo.setAttributeNS,go=this.CSSStyleDeclaration.prototype,po=go.setProperty;fo.setAttribute=function(t,n){ho.call(this,t,n+"")},fo.setAttributeNS=function(t,n,r){vo.call(this,t,n,r+"")},go.setProperty=function(t,n,r){po.call(this,t,n+"",r)}}uo.ascending=r,uo.descending=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},uo.min=function(t,n){var r,e,a=-1,i=t.length;if(1===arguments.length){for(;++a<i;)if(null!=(e=t[a])&&e>=e){r=e;break}for(;++a<i;)null!=(e=t[a])&&r>e&&(r=e)}else{for(;++a<i;)if(null!=(e=n.call(t,t[a],a))&&e>=e){r=e;break}for(;++a<i;)null!=(e=n.call(t,t[a],a))&&r>e&&(r=e)}return r},uo.max=function(t,n){var r,e,a=-1,i=t.length;if(1===arguments.length){for(;++a<i;)if(null!=(e=t[a])&&e>=e){r=e;break}for(;++a<i;)null!=(e=t[a])&&e>r&&(r=e)}else{for(;++a<i;)if(null!=(e=n.call(t,t[a],a))&&e>=e){r=e;break}for(;++a<i;)null!=(e=n.call(t,t[a],a))&&e>r&&(r=e)}return r},uo.extent=function(t,n){var r,e,a,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(e=t[i])&&e>=e){r=a=e;break}for(;++i<o;)null!=(e=t[i])&&(r>e&&(r=e),a<e&&(a=e))}else{for(;++i<o;)if(null!=(e=n.call(t,t[i],i))&&e>=e){r=a=e;break}for(;++i<o;)null!=(e=n.call(t,t[i],i))&&(r>e&&(r=e),a<e&&(a=e))}return[r,a]},uo.sum=function(t,n){var r,e=0,i=t.length,o=-1;if(1===arguments.length)for(;++o<i;)a(r=+t[o])&&(e+=r);else for(;++o<i;)a(r=+n.call(t,t[o],o))&&(e+=r);return e},uo.mean=function(t,n){var r,i=0,o=t.length,u=-1,c=o;if(1===arguments.length)for(;++u<o;)a(r=e(t[u]))?i+=r:--c;else for(;++u<o;)a(r=e(n.call(t,t[u],u)))?i+=r:--c;if(c)return i/c},uo.quantile=function(t,n){var r=(t.length-1)*n+1,e=Math.floor(r),a=+t[e-1],i=r-e;return i?a+i*(t[e]-a):a},uo.median=function(t,n){var i,o=[],u=t.length,c=-1;if(1===arguments.length)for(;++c<u;)a(i=e(t[c]))&&o.push(i);else for(;++c<u;)a(i=e(n.call(t,t[c],c)))&&o.push(i);if(o.length)return uo.quantile(o.sort(r),.5)},uo.variance=function(t,n){var r,i,o=t.length,u=0,c=0,s=-1,l=0;if(1===arguments.length)for(;++s<o;)a(r=e(t[s]))&&(i=r-u,u+=i/++l,c+=i*(r-u));else for(;++s<o;)a(r=e(n.call(t,t[s],s)))&&(i=r-u,u+=i/++l,c+=i*(r-u));if(l>1)return c/(l-1)},uo.deviation=function(){var t=uo.variance.apply(this,arguments);return t?Math.sqrt(t):t};var Mo=i(r);uo.bisectLeft=Mo.left,uo.bisect=uo.bisectRight=Mo.right,uo.bisector=function(t){return i(1===t.length?function(n,e){return r(t(n),e)}:t)},uo.shuffle=function(t,n,r){(i=arguments.length)<3&&(r=t.length,i<2&&(n=0));for(var e,a,i=r-n;i;)a=Math.random()*i--|0,e=t[i+n],t[i+n]=t[a+n],t[a+n]=e;return t},uo.permute=function(t,n){for(var r=n.length,e=new Array(r);r--;)e[r]=t[n[r]];return e},uo.pairs=function(t){for(var n,r=0,e=t.length-1,a=t[0],i=new Array(e<0?0:e);r<e;)i[r]=[n=a,a=t[++r]];return i},uo.transpose=function(t){if(!(a=t.length))return[];for(var n=-1,r=uo.min(t,o),e=new Array(r);++n<r;)for(var a,i=-1,u=e[n]=new Array(a);++i<a;)u[i]=t[i][n];return e},uo.zip=function(){return uo.transpose(arguments)},uo.keys=function(t){var n=[];for(var r in t)n.push(r);return n},uo.values=function(t){var n=[];for(var r in t)n.push(t[r]);return n},uo.entries=function(t){var n=[];for(var r in t)n.push({key:r,value:t[r]});return n},uo.merge=function(t){for(var n,r,e,a=t.length,i=-1,o=0;++i<a;)o+=t[i].length;for(r=new Array(o);--a>=0;)for(e=t[a],n=e.length;--n>=0;)r[--o]=e[n];return r};var yo=Math.abs;uo.range=function(t,n,r){if(arguments.length<3&&(r=1,arguments.length<2&&(n=t,t=0)),(n-t)/r===1/0)throw new Error("infinite range");var e,a=[],i=u(yo(r)),o=-1;if(t*=i,n*=i,r*=i,r<0)for(;(e=t+r*++o)>n;)a.push(e/i);else for(;(e=t+r*++o)<n;)a.push(e/i);return a},uo.map=function(t,n){var r=new s;if(t instanceof s)t.forEach(function(t,n){r.set(t,n)});else if(Array.isArray(t)){var e,a=-1,i=t.length;if(1===arguments.length)for(;++a<i;)r.set(a,t[a]);else for(;++a<i;)r.set(n.call(t,e=t[a],a),e)}else for(var o in t)r.set(o,t[o]);return r};var mo="__proto__",xo="\0";c(s,{has:h,get:function(t){return this._[l(t)]},set:function(t,n){return this._[l(t)]=n},remove:v,keys:g,values:function(){var t=[];for(var n in this._)t.push(this._[n]);return t},entries:function(){var t=[];for(var n in this._)t.push({key:f(n),value:this._[n]});return t},size:p,empty:M,forEach:function(t){for(var n in this._)t.call(this,f(n),this._[n])}}),uo.nest=function(){function t(n,o,u){if(u>=i.length)return e?e.call(a,o):r?o.sort(r):o;for(var c,l,f,h,v=-1,g=o.length,p=i[u++],M=new s;++v<g;)(h=M.get(c=p(l=o[v])))?h.push(l):M.set(c,[l]);return n?(l=n(),f=function(r,e){l.set(r,t(n,e,u))}):(l={},f=function(r,e){l[r]=t(n,e,u)}),M.forEach(f),l}function n(t,r){if(r>=i.length)return t;var e=[],a=o[r++];return t.forEach(function(t,a){e.push({key:t,values:n(a,r)})}),a?e.sort(function(t,n){return a(t.key,n.key)}):e}var r,e,a={},i=[],o=[];return a.map=function(n,r){return t(r,n,0)},a.entries=function(r){return n(t(uo.map,r,0),0)},a.key=function(t){return i.push(t),a},a.sortKeys=function(t){return o[i.length-1]=t,a},a.sortValues=function(t){return r=t,a},a.rollup=function(t){return e=t,a},a},uo.set=function(t){var n=new d;if(t)for(var r=0,e=t.length;r<e;++r)n.add(t[r]);return n},c(d,{has:h,add:function(t){return this._[l(t+="")]=!0,t},remove:v,values:g,size:p,empty:M,forEach:function(t){for(var n in this._)t.call(this,f(n))}}),uo.behavior={},uo.rebind=function(t,n){for(var r,e=1,a=arguments.length;++e<a;)t[r=arguments[e]]=m(t,n,n[r]);return t};var bo=["webkit","ms","moz","Moz","o","O"];uo.dispatch=function(){for(var t=new w,n=-1,r=arguments.length;++n<r;)t[arguments[n]]=_(t);return t},w.prototype.on=function(t,n){var r=t.indexOf("."),e="";if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t)return arguments.length<2?this[t].on(e):this[t].on(e,n);if(2===arguments.length){if(null==n)for(t in this)this.hasOwnProperty(t)&&this[t].on(e,null);return this}},uo.event=null,uo.requote=function(t){return t.replace(wo,"\\$&")};var wo=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,_o={}.__proto__?function(t,n){t.__proto__=n}:function(t,n){for(var r in n)t[r]=n[r]},So=function(t,n){return n.querySelector(t)},Eo=function(t,n){return n.querySelectorAll(t)},qo=function(t,n){var r=t.matches||t[x(t,"matchesSelector")];return(qo=function(t,n){return r.call(t,n)})(t,n)};"function"==typeof Sizzle&&(So=function(t,n){return Sizzle(t,n)[0]||null},Eo=Sizzle,qo=Sizzle.matchesSelector),uo.selection=function(){return uo.select(lo.documentElement)};var ko=uo.selection.prototype=[];ko.select=function(t){var n,r,e,a,i=[];t=N(t);for(var o=-1,u=this.length;++o<u;){i.push(n=[]),n.parentNode=(e=this[o]).parentNode;for(var c=-1,s=e.length;++c<s;)(a=e[c])?(n.push(r=t.call(a,a.__data__,c,o)),r&&"__data__"in a&&(r.__data__=a.__data__)):n.push(null)}return k(i)},ko.selectAll=function(t){var n,r,e=[];t=A(t);for(var a=-1,i=this.length;++a<i;)for(var o=this[a],u=-1,c=o.length;++u<c;)(r=o[u])&&(e.push(n=so(t.call(r,r.__data__,u,a))),n.parentNode=r);return k(e)};var No="http://www.w3.org/1999/xhtml",Ao={svg:"http://www.w3.org/2000/svg",xhtml:No,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};uo.ns={prefix:Ao,qualify:function(t){var n=t.indexOf(":"),r=t;return n>=0&&"xmlns"!==(r=t.slice(0,n))&&(t=t.slice(n+1)),Ao.hasOwnProperty(r)?{space:Ao[r],local:t}:t}},ko.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var r=this.node();return t=uo.ns.qualify(t),t.local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(n in t)this.each(C(n,t[n]));return this}return this.each(C(t,n))},ko.classed=function(t,n){if(arguments.length<2){if("string"==typeof t){var r=this.node(),e=(t=z(t)).length,a=-1;if(n=r.classList){for(;++a<e;)if(!n.contains(t[a]))return!1}else for(n=r.getAttribute("class");++a<e;)if(!R(t[a]).test(n))return!1;return!0}for(n in t)this.each(L(n,t[n]));return this}return this.each(L(t,n))},ko.style=function(t,r,e){var a=arguments.length;if(a<3){if("string"!=typeof t){a<2&&(r="");for(e in t)this.each(D(e,t[e],r));return this}if(a<2){var i=this.node();return n(i).getComputedStyle(i,null).getPropertyValue(t)}e=""}return this.each(D(t,r,e))},ko.property=function(t,n){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(n in t)this.each(j(n,t[n]));return this}return this.each(j(t,n))},ko.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},ko.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},ko.append=function(t){return t=U(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},ko.insert=function(t,n){return t=U(t),n=N(n),this.select(function(){return this.insertBefore(t.apply(this,arguments),n.apply(this,arguments)||null)})},ko.remove=function(){return this.each(F)},ko.data=function(t,n){function r(t,r){var e,a,i,o=t.length,f=r.length,h=Math.min(o,f),v=new Array(f),g=new Array(f),p=new Array(o);if(n){var M,d=new s,y=new Array(o);for(e=-1;++e<o;)(a=t[e])&&(d.has(M=n.call(a,a.__data__,e))?p[e]=a:d.set(M,a),y[e]=M);for(e=-1;++e<f;)(a=d.get(M=n.call(r,i=r[e],e)))?a!==!0&&(v[e]=a,a.__data__=i):g[e]=Q(i),d.set(M,!0);for(e=-1;++e<o;)e in y&&d.get(y[e])!==!0&&(p[e]=t[e])}else{for(e=-1;++e<h;)a=t[e],i=r[e],a?(a.__data__=i,v[e]=a):g[e]=Q(i);for(;e<f;++e)g[e]=Q(r[e]);for(;e<o;++e)p[e]=t[e]}g.update=v,g.parentNode=v.parentNode=p.parentNode=t.parentNode,u.push(g),c.push(v),l.push(p)}var e,a,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(e=this[0]).length);++i<o;)(a=e[i])&&(t[i]=a.__data__);return t}var u=Y([]),c=k([]),l=k([]);if("function"==typeof t)for(;++i<o;)r(e=this[i],t.call(e,e.parentNode.__data__,i));else for(;++i<o;)r(e=this[i],t);return c.enter=function(){return u},c.exit=function(){return l},c},ko.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},ko.filter=function(t){var n,r,e,a=[];"function"!=typeof t&&(t=H(t));for(var i=0,o=this.length;i<o;i++){a.push(n=[]),n.parentNode=(r=this[i]).parentNode;for(var u=0,c=r.length;u<c;u++)(e=r[u])&&t.call(e,e.__data__,u,i)&&n.push(e)}return k(a)},ko.order=function(){for(var t=-1,n=this.length;++t<n;)for(var r,e=this[t],a=e.length-1,i=e[a];--a>=0;)(r=e[a])&&(i&&i!==r.nextSibling&&i.parentNode.insertBefore(r,i),i=r);return this},ko.sort=function(t){t=O.apply(this,arguments);for(var n=-1,r=this.length;++n<r;)this[n].sort(t);return this.order()},ko.each=function(t){return I(this,function(n,r,e){t.call(n,n.__data__,r,e)})},ko.call=function(t){var n=so(arguments);return t.apply(n[0]=this,n),this},ko.empty=function(){return!this.node()},ko.node=function(){for(var t=0,n=this.length;t<n;t++)for(var r=this[t],e=0,a=r.length;e<a;e++){var i=r[e];if(i)return i}return null},ko.size=function(){var t=0;return I(this,function(){++t}),t};var Co=[];uo.selection.enter=Y,uo.selection.enter.prototype=Co,Co.append=ko.append,Co.empty=ko.empty,Co.node=ko.node,Co.call=ko.call,Co.size=ko.size,Co.select=function(t){for(var n,r,e,a,i,o=[],u=-1,c=this.length;++u<c;){e=(a=this[u]).update,o.push(n=[]),n.parentNode=a.parentNode;for(var s=-1,l=a.length;++s<l;)(i=a[s])?(n.push(e[s]=r=t.call(a.parentNode,i.__data__,s,u)),r.__data__=i.__data__):n.push(null)}return k(o)},Co.insert=function(t,n){return arguments.length<2&&(n=Z(this)),ko.insert.call(this,t,n)},uo.select=function(n){var r;return"string"==typeof n?(r=[So(n,lo)],r.parentNode=lo.documentElement):(r=[n],r.parentNode=t(n)),k([r])},uo.selectAll=function(t){var n;return"string"==typeof t?(n=so(Eo(t,lo)),n.parentNode=lo.documentElement):(n=so(t),n.parentNode=null),k([n])},ko.on=function(t,n,r){var e=arguments.length;if(e<3){if("string"!=typeof t){e<2&&(n=!1);for(r in t)this.each(B(r,t[r],n));return this}if(e<2)return(e=this.node()["__on"+t])&&e._;r=!1}return this.each(B(t,n,r))};var To=uo.map({mouseenter:"mouseover",mouseleave:"mouseout"});lo&&To.forEach(function(t){"on"+t in lo&&To.remove(t)});var Ro,zo=0;uo.mouse=function(t){return $(t,E())};var Lo=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;uo.touch=function(t,n,r){if(arguments.length<3&&(r=n,n=E().changedTouches),n)for(var e,a=0,i=n.length;a<i;++a)if((e=n[a]).identifier===r)return $(t,e)},uo.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function r(t,n,r,i,o){return function(){function u(){var t,r,e=n(h,p);e&&(t=e[0]-m[0],r=e[1]-m[1],g|=t|r,m=e,v({type:"drag",x:e[0]+s[0],y:e[1]+s[1],dx:t,dy:r}))}function c(){n(h,p)&&(d.on(i+M,null).on(o+M,null),y(g),v({type:"dragend"}))}var s,l=this,f=uo.event.target.correspondingElement||uo.event.target,h=l.parentNode,v=e.of(l,arguments),g=0,p=t(),M=".drag"+(null==p?"":"-"+p),d=uo.select(r(f)).on(i+M,u).on(o+M,c),y=X(f),m=n(h,p);a?(s=a.apply(l,arguments),s=[s.x-m[0],s.y-m[1]]):s=[0,0],v({type:"dragstart"})}}var e=q(t,"drag","dragstart","dragend"),a=null,i=r(b,uo.mouse,n,"mousemove","mouseup"),o=r(W,uo.touch,y,"touchmove","touchend");return t.origin=function(n){return arguments.length?(a=n,t):a},uo.rebind(t,e,"on")},uo.touches=function(t,n){return arguments.length<2&&(n=E().touches),n?so(n).map(function(n){var r=$(t,n);return r.identifier=n.identifier,r}):[]};var Po=1e-6,Do=Po*Po,jo=Math.PI,Uo=2*jo,Fo=Uo-Po,Qo=jo/2,Ho=jo/180,Oo=180/jo,Io=Math.SQRT2,Yo=2,Zo=4;uo.interpolateZoom=function(t,n){var r,e,a=t[0],i=t[1],o=t[2],u=n[0],c=n[1],s=n[2],l=u-a,f=c-i,h=l*l+f*f;if(h<Do)e=Math.log(s/o)/Io,r=function(t){return[a+t*l,i+t*f,o*Math.exp(Io*t*e)]};else{var v=Math.sqrt(h),g=(s*s-o*o+Zo*h)/(2*o*Yo*v),p=(s*s-o*o-Zo*h)/(2*s*Yo*v),M=Math.log(Math.sqrt(g*g+1)-g),d=Math.log(Math.sqrt(p*p+1)-p);e=(d-M)/Io,r=function(t){var n=t*e,r=et(M),u=o/(Yo*v)*(r*at(Io*n+M)-rt(M));return[a+u*l,i+u*f,o*r/et(Io*n+M)]}}return r.duration=1e3*e,r},uo.behavior.zoom=function(){function t(t){t.on(T,f).on(Vo+".zoom",v).on("dblclick.zoom",g).on(L,h)}function r(t){return[(t[0]-E.x)/E.k,(t[1]-E.y)/E.k]}function e(t){return[t[0]*E.k+E.x,t[1]*E.k+E.y]}function a(t){E.k=Math.max(N[0],Math.min(N[1],t))}function i(t,n){n=e(n),E.x+=t[0]-n[0],E.y+=t[1]-n[1]}function o(n,r,e,o){n.__chart__={x:E.x,y:E.y,k:E.k},a(Math.pow(2,o)),i(M=r,e),n=uo.select(n),A>0&&(n=n.transition().duration(A)),n.call(t.event)}function u(){b&&b.domain(x.range().map(function(t){return(t-E.x)/E.k}).map(x.invert)),_&&_.domain(w.range().map(function(t){return(t-E.y)/E.k}).map(w.invert))}function c(t){C++||t({type:"zoomstart"})}function s(t){u(),t({type:"zoom",scale:E.k,translate:[E.x,E.y]})}function l(t){--C||(t({type:"zoomend"}),M=null)}function f(){function t(){u=1,i(uo.mouse(a),h),s(o)}function e(){f.on(R,null).on(z,null),v(u),l(o)}var a=this,o=P.of(a,arguments),u=0,f=uo.select(n(a)).on(R,t).on(z,e),h=r(uo.mouse(a)),v=X(a);Qc.call(a),c(o)}function h(){function t(){var t=uo.touches(g);return v=E.k,t.forEach(function(t){t.identifier in M&&(M[t.identifier]=r(t))}),t}function n(){var n=uo.event.target;uo.select(n).on(x,e).on(b,u),w.push(n);for(var r=uo.event.changedTouches,a=0,i=r.length;a<i;++a)M[r[a].identifier]=null;var c=t(),s=Date.now();if(1===c.length){if(s-m<500){var l=c[0];o(g,l,M[l.identifier],Math.floor(Math.log(E.k)/Math.LN2)+1),S()}m=s}else if(c.length>1){var l=c[0],f=c[1],h=l[0]-f[0],v=l[1]-f[1];d=h*h+v*v}}function e(){var t,n,r,e,o=uo.touches(g);Qc.call(g);for(var u=0,c=o.length;u<c;++u,e=null)if(r=o[u],e=M[r.identifier]){if(n)break;t=r,n=e}if(e){var l=(l=r[0]-t[0])*l+(l=r[1]-t[1])*l,f=d&&Math.sqrt(l/d);t=[(t[0]+r[0])/2,(t[1]+r[1])/2],n=[(n[0]+e[0])/2,(n[1]+e[1])/2],a(f*v)}m=null,i(t,n),s(p)}function u(){if(uo.event.touches.length){for(var n=uo.event.changedTouches,r=0,e=n.length;r<e;++r)delete M[n[r].identifier];for(var a in M)return void t()}uo.selectAll(w).on(y,null),_.on(T,f).on(L,h),q(),l(p)}var v,g=this,p=P.of(g,arguments),M={},d=0,y=".zoom-"+uo.event.changedTouches[0].identifier,x="touchmove"+y,b="touchend"+y,w=[],_=uo.select(g),q=X(g);n(),c(p),_.on(T,null).on(L,n)}function v(){var t=P.of(this,arguments);y?clearTimeout(y):(Qc.call(this),p=r(M=d||uo.mouse(this)),c(t)),y=setTimeout(function(){y=null,l(t)},50),S(),a(Math.pow(2,.002*Bo())*E.k),i(M,p),s(t)}function g(){var t=uo.mouse(this),n=Math.log(E.k)/Math.LN2;o(this,t,r(t),uo.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var p,M,d,y,m,x,b,w,_,E={x:0,y:0,k:1},k=[960,500],N=Go,A=250,C=0,T="mousedown.zoom",R="mousemove.zoom",z="mouseup.zoom",L="touchstart.zoom",P=q(t,"zoomstart","zoom","zoomend");return Vo||(Vo="onwheel"in lo?(Bo=function(){return-uo.event.deltaY*(uo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in lo?(Bo=function(){return uo.event.wheelDelta},"mousewheel"):(Bo=function(){return-uo.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=P.of(this,arguments),n=E;Uc?uo.select(this).transition().each("start.zoom",function(){E=this.__chart__||{x:0,y:0,k:1},c(t)}).tween("zoom:zoom",function(){var r=k[0],e=k[1],a=M?M[0]:r/2,i=M?M[1]:e/2,o=uo.interpolateZoom([(a-E.x)/E.k,(i-E.y)/E.k,r/E.k],[(a-n.x)/n.k,(i-n.y)/n.k,r/n.k]);return function(n){var e=o(n),u=r/e[2];this.__chart__=E={x:a-e[0]*u,y:i-e[1]*u,k:u},s(t)}}).each("interrupt.zoom",function(){l(t)}).each("end.zoom",function(){l(t)}):(this.__chart__=E,c(t),s(t),l(t))})},t.translate=function(n){return arguments.length?(E={x:+n[0],y:+n[1],k:E.k},u(),t):[E.x,E.y]},t.scale=function(n){return arguments.length?(E={x:E.x,y:E.y,k:null},a(+n),u(),t):E.k},t.scaleExtent=function(n){return arguments.length?(N=null==n?Go:[+n[0],+n[1]],t):N},t.center=function(n){return arguments.length?(d=n&&[+n[0],+n[1]],t):d},t.size=function(n){return arguments.length?(k=n&&[+n[0],+n[1]],t):k},t.duration=function(n){return arguments.length?(A=+n,t):A},t.x=function(n){return arguments.length?(b=n,x=n.copy(),E={x:0,y:0,k:1},t):b},t.y=function(n){return arguments.length?(_=n,w=n.copy(),E={x:0,y:0,k:1},t):_},uo.rebind(t,P,"on")};var Bo,Vo,Go=[0,1/0];uo.color=ot,ot.prototype.toString=function(){return this.rgb()+""},uo.hsl=ut;var Xo=ut.prototype=new ot;Xo.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new ut(this.h,this.s,this.l/t)},Xo.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ut(this.h,this.s,t*this.l)},Xo.rgb=function(){return ct(this.h,this.s,this.l)},uo.hcl=st;var $o=st.prototype=new ot;$o.brighter=function(t){return new st(this.h,this.c,Math.min(100,this.l+Wo*(arguments.length?t:1)))},$o.darker=function(t){return new st(this.h,this.c,Math.max(0,this.l-Wo*(arguments.length?t:1)))},$o.rgb=function(){return lt(this.h,this.c,this.l).rgb()},uo.lab=ft;var Wo=18,Jo=.95047,Ko=1,tu=1.08883,nu=ft.prototype=new ot;nu.brighter=function(t){return new ft(Math.min(100,this.l+Wo*(arguments.length?t:1)),this.a,this.b)},nu.darker=function(t){return new ft(Math.max(0,this.l-Wo*(arguments.length?t:1)),this.a,this.b)},nu.rgb=function(){return ht(this.l,this.a,this.b)},uo.rgb=dt;var ru=dt.prototype=new ot;ru.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var n=this.r,r=this.g,e=this.b,a=30;return n||r||e?(n&&n<a&&(n=a),r&&r<a&&(r=a),e&&e<a&&(e=a),new dt(Math.min(255,n/t),Math.min(255,r/t),Math.min(255,e/t))):new dt(a,a,a)},ru.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new dt(t*this.r,t*this.g,t*this.b)},ru.hsl=function(){return wt(this.r,this.g,this.b)},ru.toString=function(){return"#"+xt(this.r)+xt(this.g)+xt(this.b)};var eu=uo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});eu.forEach(function(t,n){eu.set(t,yt(n))}),uo.functor=qt,uo.xhr=kt(y),uo.dsv=function(t,n){function r(t,r,i){arguments.length<3&&(i=r,r=null);var o=Nt(t,n,null==r?e:a(r),i);return o.row=function(t){return arguments.length?o.response(null==(r=t)?e:a(t)):r},o}function e(t){return r.parse(t.responseText)}function a(t){return function(n){return r.parse(n.responseText,t)}}function i(n){return n.map(o).join(t)}function o(t){return u.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var u=new RegExp('["'+t+"\n]"),c=t.charCodeAt(0);return r.parse=function(t,n){var e;return r.parseRows(t,function(t,r){if(e)return e(t,r-1);var a=new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}");e=n?function(t,r){return n(a(t),r)}:a})},r.parseRows=function(t,n){function r(){if(l>=s)return o;if(a)return a=!1,i;var n=l;if(34===t.charCodeAt(n)){for(var r=n;r++<s;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;++r}l=r+2;var e=t.charCodeAt(r+1);return 13===e?(a=!0,10===t.charCodeAt(r+2)&&++l):10===e&&(a=!0),t.slice(n+1,r).replace(/""/g,'"')}for(;l<s;){var e=t.charCodeAt(l++),u=1;if(10===e)a=!0;else if(13===e)a=!0,10===t.charCodeAt(l)&&(++l,++u);else if(e!==c)continue;return t.slice(n,l-u)}return t.slice(n)}for(var e,a,i={},o={},u=[],s=t.length,l=0,f=0;(e=r())!==o;){for(var h=[];e!==i&&e!==o;)h.push(e),e=r();n&&null==(h=n(h,f++))||u.push(h)}return u},r.format=function(n){if(Array.isArray(n[0]))return r.formatRows(n);var e=new d,a=[];return n.forEach(function(t){for(var n in t)e.has(n)||a.push(e.add(n))}),[a.map(o).join(t)].concat(n.map(function(n){return a.map(function(t){return o(n[t])}).join(t)})).join("\n")},r.formatRows=function(t){return t.map(i).join("\n")},r},uo.csv=uo.dsv(",","text/csv"),uo.tsv=uo.dsv("\t","text/tab-separated-values");var au,iu,ou,uu,cu=this[x(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};uo.timer=function(){Tt.apply(this,arguments)},uo.timer.flush=function(){zt(),Lt()},uo.round=function(t,n){return n?Math.round(t*(n=Math.pow(10,n)))/n:Math.round(t)};var su=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Dt);uo.formatPrefix=function(t,n){var r=0;return(t=+t)&&(t<0&&(t*=-1),n&&(t=uo.round(t,Pt(t,n))),r=1+Math.floor(1e-12+Math.log(t)/Math.LN10),r=Math.max(-24,Math.min(24,3*Math.floor((r-1)/3)))),su[8+r/3]};var lu=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,fu=uo.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,n){return t.toPrecision(n)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},r:function(t,n){return(t=uo.round(t,Pt(t,n))).toFixed(Math.max(0,Math.min(20,Pt(t*(1+1e-15),n))))}}),hu=uo.time={},vu=Date;Ft.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){gu.setUTCDate.apply(this._,arguments)},setDay:function(){gu.setUTCDay.apply(this._,arguments)},setFullYear:function(){gu.setUTCFullYear.apply(this._,arguments)},setHours:function(){gu.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){gu.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){gu.setUTCMinutes.apply(this._,arguments)},setMonth:function(){gu.setUTCMonth.apply(this._,arguments)},setSeconds:function(){gu.setUTCSeconds.apply(this._,arguments)},setTime:function(){gu.setTime.apply(this._,arguments)}};var gu=Date.prototype;hu.year=Qt(function(t){return t=hu.day(t),t.setMonth(0,1),t},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t){return t.getFullYear()}),hu.years=hu.year.range,hu.years.utc=hu.year.utc.range,hu.day=Qt(function(t){var n=new vu(2e3,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n},function(t,n){t.setDate(t.getDate()+n)},function(t){return t.getDate()-1}),hu.days=hu.day.range,hu.days.utc=hu.day.utc.range,hu.dayOfYear=function(t){var n=hu.year(t);return Math.floor((t-n-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,n){n=7-n;var r=hu[t]=Qt(function(t){return(t=hu.day(t)).setDate(t.getDate()-(t.getDay()+n)%7),t},function(t,n){t.setDate(t.getDate()+7*Math.floor(n))},function(t){var r=hu.year(t).getDay();return Math.floor((hu.dayOfYear(t)+(r+n)%7)/7)-(r!==n)});hu[t+"s"]=r.range,hu[t+"s"].utc=r.utc.range,hu[t+"OfYear"]=function(t){var r=hu.year(t).getDay();return Math.floor((hu.dayOfYear(t)+(r+n)%7)/7)}}),hu.week=hu.sunday,hu.weeks=hu.sunday.range,hu.weeks.utc=hu.sunday.utc.range,hu.weekOfYear=hu.sundayOfYear;var pu={"-":"",_:" ",0:"0"},Mu=/^\s*\d+/,du=/^%/;uo.locale=function(t){return{numberFormat:jt(t),timeFormat:Ot(t)}};var yu=uo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],
shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});uo.format=yu.numberFormat,uo.geo={},ln.prototype={s:0,t:0,add:function(t){fn(t,this.t,mu),fn(mu.s,this.s,this),this.s?this.t+=mu.t:this.s=mu.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var mu=new ln;uo.geo.stream=function(t,n){t&&xu.hasOwnProperty(t.type)?xu[t.type](t,n):hn(t,n)};var xu={Feature:function(t,n){hn(t.geometry,n)},FeatureCollection:function(t,n){for(var r=t.features,e=-1,a=r.length;++e<a;)hn(r[e].geometry,n)}},bu={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var r=t.coordinates,e=-1,a=r.length;++e<a;)t=r[e],n.point(t[0],t[1],t[2])},LineString:function(t,n){vn(t.coordinates,n,0)},MultiLineString:function(t,n){for(var r=t.coordinates,e=-1,a=r.length;++e<a;)vn(r[e],n,0)},Polygon:function(t,n){gn(t.coordinates,n)},MultiPolygon:function(t,n){for(var r=t.coordinates,e=-1,a=r.length;++e<a;)gn(r[e],n)},GeometryCollection:function(t,n){for(var r=t.geometries,e=-1,a=r.length;++e<a;)hn(r[e],n)}};uo.geo.area=function(t){return wu=0,uo.geo.stream(t,Su),wu};var wu,_u=new ln,Su={sphere:function(){wu+=4*jo},point:b,lineStart:b,lineEnd:b,polygonStart:function(){_u.reset(),Su.lineStart=pn},polygonEnd:function(){var t=2*_u;wu+=t<0?4*jo+t:t,Su.lineStart=Su.lineEnd=Su.point=b}};uo.geo.bounds=function(){function t(t,n){m.push(x=[l=t,h=t]),n<f&&(f=n),n>v&&(v=n)}function n(n,r){var e=Mn([n*Ho,r*Ho]);if(d){var a=yn(d,e),i=[a[1],-a[0],0],o=yn(i,a);bn(o),o=wn(o);var c=n-g,s=c>0?1:-1,p=o[0]*Oo*s,M=yo(c)>180;if(M^(s*g<p&&p<s*n)){var y=o[1]*Oo;y>v&&(v=y)}else if(p=(p+360)%360-180,M^(s*g<p&&p<s*n)){var y=-o[1]*Oo;y<f&&(f=y)}else r<f&&(f=r),r>v&&(v=r);M?n<g?u(l,n)>u(l,h)&&(h=n):u(n,h)>u(l,h)&&(l=n):h>=l?(n<l&&(l=n),n>h&&(h=n)):n>g?u(l,n)>u(l,h)&&(h=n):u(n,h)>u(l,h)&&(l=n)}else t(n,r);d=e,g=n}function r(){b.point=n}function e(){x[0]=l,x[1]=h,b.point=t,d=null}function a(t,r){if(d){var e=t-g;y+=yo(e)>180?e+(e>0?360:-360):e}else p=t,M=r;Su.point(t,r),n(t,r)}function i(){Su.lineStart()}function o(){a(p,M),Su.lineEnd(),yo(y)>Po&&(l=-(h=180)),x[0]=l,x[1]=h,d=null}function u(t,n){return(n-=t)<0?n+360:n}function c(t,n){return t[0]-n[0]}function s(t,n){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}var l,f,h,v,g,p,M,d,y,m,x,b={point:t,lineStart:r,lineEnd:e,polygonStart:function(){b.point=a,b.lineStart=i,b.lineEnd=o,y=0,Su.polygonStart()},polygonEnd:function(){Su.polygonEnd(),b.point=t,b.lineStart=r,b.lineEnd=e,_u<0?(l=-(h=180),f=-(v=90)):y>Po?v=90:y<-Po&&(f=-90),x[0]=l,x[1]=h}};return function(t){v=h=-(l=f=1/0),m=[],uo.geo.stream(t,b);var n=m.length;if(n){m.sort(c);for(var r,e=1,a=m[0],i=[a];e<n;++e)r=m[e],s(r[0],a)||s(r[1],a)?(u(a[0],r[1])>u(a[0],a[1])&&(a[1]=r[1]),u(r[0],a[1])>u(a[0],a[1])&&(a[0]=r[0])):i.push(a=r);for(var o,r,g=-(1/0),n=i.length-1,e=0,a=i[n];e<=n;a=r,++e)r=i[e],(o=u(a[1],r[0]))>g&&(g=o,l=r[0],h=a[1])}return m=x=null,l===1/0||f===1/0?[[NaN,NaN],[NaN,NaN]]:[[l,f],[h,v]]}}(),uo.geo.centroid=function(t){Eu=qu=ku=Nu=Au=Cu=Tu=Ru=zu=Lu=Pu=0,uo.geo.stream(t,Du);var n=zu,r=Lu,e=Pu,a=n*n+r*r+e*e;return a<Do&&(n=Cu,r=Tu,e=Ru,qu<Po&&(n=ku,r=Nu,e=Au),a=n*n+r*r+e*e,a<Do)?[NaN,NaN]:[Math.atan2(r,n)*Oo,nt(e/Math.sqrt(a))*Oo]};var Eu,qu,ku,Nu,Au,Cu,Tu,Ru,zu,Lu,Pu,Du={sphere:b,point:Sn,lineStart:qn,lineEnd:kn,polygonStart:function(){Du.lineStart=Nn},polygonEnd:function(){Du.lineStart=qn}},ju=Ln(Cn,Un,Qn,[-jo,-jo/2]),Uu=1e9;uo.geo.clipExtent=function(){var t,n,r,e,a,i,o={stream:function(t){return a&&(a.valid=!1),a=i(t),a.valid=!0,a},extent:function(u){return arguments.length?(i=Yn(t=+u[0][0],n=+u[0][1],r=+u[1][0],e=+u[1][1]),a&&(a.valid=!1,a=null),o):[[t,n],[r,e]]}};return o.extent([[0,0],[960,500]])},(uo.geo.conicEqualArea=function(){return Zn(Bn)}).raw=Bn,uo.geo.albers=function(){return uo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},uo.geo.albersUsa=function(){function t(t){var i=t[0],o=t[1];return n=null,r(i,o),n||(e(i,o),n)||a(i,o),n}var n,r,e,a,i=uo.geo.albers(),o=uo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=uo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,r){n=[t,r]}};return t.invert=function(t){var n=i.scale(),r=i.translate(),e=(t[0]-r[0])/n,a=(t[1]-r[1])/n;return(a>=.12&&a<.234&&e>=-.425&&e<-.214?o:a>=.166&&a<.234&&e>=-.214&&e<-.115?u:i).invert(t)},t.stream=function(t){var n=i.stream(t),r=o.stream(t),e=u.stream(t);return{point:function(t,a){n.point(t,a),r.point(t,a),e.point(t,a)},sphere:function(){n.sphere(),r.sphere(),e.sphere()},lineStart:function(){n.lineStart(),r.lineStart(),e.lineStart()},lineEnd:function(){n.lineEnd(),r.lineEnd(),e.lineEnd()},polygonStart:function(){n.polygonStart(),r.polygonStart(),e.polygonStart()},polygonEnd:function(){n.polygonEnd(),r.polygonEnd(),e.polygonEnd()}}},t.precision=function(n){return arguments.length?(i.precision(n),o.precision(n),u.precision(n),t):i.precision()},t.scale=function(n){return arguments.length?(i.scale(n),o.scale(.35*n),u.scale(n),t.translate(i.translate())):i.scale()},t.translate=function(n){if(!arguments.length)return i.translate();var s=i.scale(),l=+n[0],f=+n[1];return r=i.translate(n).clipExtent([[l-.455*s,f-.238*s],[l+.455*s,f+.238*s]]).stream(c).point,e=o.translate([l-.307*s,f+.201*s]).clipExtent([[l-.425*s+Po,f+.12*s+Po],[l-.214*s-Po,f+.234*s-Po]]).stream(c).point,a=u.translate([l-.205*s,f+.212*s]).clipExtent([[l-.214*s+Po,f+.166*s+Po],[l-.115*s-Po,f+.234*s-Po]]).stream(c).point,t},t.scale(1070)};var Fu,Qu,Hu,Ou,Iu,Yu,Zu={point:b,lineStart:b,lineEnd:b,polygonStart:function(){Qu=0,Zu.lineStart=Vn},polygonEnd:function(){Zu.lineStart=Zu.lineEnd=Zu.point=b,Fu+=yo(Qu/2)}},Bu={point:Gn,lineStart:b,lineEnd:b,polygonStart:b,polygonEnd:b},Vu={point:Wn,lineStart:Jn,lineEnd:Kn,polygonStart:function(){Vu.lineStart=tr},polygonEnd:function(){Vu.point=Wn,Vu.lineStart=Jn,Vu.lineEnd=Kn}};uo.geo.path=function(){function t(t){return t&&("function"==typeof u&&i.pointRadius(+u.apply(this,arguments)),o&&o.valid||(o=a(i)),uo.geo.stream(t,o)),i.result()}function n(){return o=null,t}var r,e,a,i,o,u=4.5;return t.area=function(t){return Fu=0,uo.geo.stream(t,a(Zu)),Fu},t.centroid=function(t){return ku=Nu=Au=Cu=Tu=Ru=zu=Lu=Pu=0,uo.geo.stream(t,a(Vu)),Pu?[zu/Pu,Lu/Pu]:Ru?[Cu/Ru,Tu/Ru]:Au?[ku/Au,Nu/Au]:[NaN,NaN]},t.bounds=function(t){return Iu=Yu=-(Hu=Ou=1/0),uo.geo.stream(t,a(Bu)),[[Hu,Ou],[Iu,Yu]]},t.projection=function(t){return arguments.length?(a=(r=t)?t.stream||er(t):y,n()):r},t.context=function(t){return arguments.length?(i=null==(e=t)?new Xn:new nr(t),"function"!=typeof u&&i.pointRadius(u),n()):e},t.pointRadius=function(n){return arguments.length?(u="function"==typeof n?n:(i.pointRadius(+n),+n),t):u},t.projection(uo.geo.albersUsa()).context(null)},uo.geo.transform=function(t){return{stream:function(n){var r=new ar(n);for(var e in t)r[e]=t[e];return r}}},ar.prototype={point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},uo.geo.projection=or,uo.geo.projectionMutator=ur,(uo.geo.equirectangular=function(){return or(sr)}).raw=sr.invert=sr,uo.geo.rotation=function(t){function n(n){return n=t(n[0]*Ho,n[1]*Ho),n[0]*=Oo,n[1]*=Oo,n}return t=fr(t[0]%360*Ho,t[1]*Ho,t.length>2?t[2]*Ho:0),n.invert=function(n){return n=t.invert(n[0]*Ho,n[1]*Ho),n[0]*=Oo,n[1]*=Oo,n},n},lr.invert=sr,uo.geo.circle=function(){function t(){var t="function"==typeof e?e.apply(this,arguments):e,n=fr(-t[0]*Ho,-t[1]*Ho,0).invert,a=[];return r(null,null,1,{point:function(t,r){a.push(t=n(t,r)),t[0]*=Oo,t[1]*=Oo}}),{type:"Polygon",coordinates:[a]}}var n,r,e=[0,0],a=6;return t.origin=function(n){return arguments.length?(e=n,t):e},t.angle=function(e){return arguments.length?(r=pr((n=+e)*Ho,a*Ho),t):n},t.precision=function(e){return arguments.length?(r=pr(n*Ho,(a=+e)*Ho),t):a},t.angle(90)},uo.geo.distance=function(t,n){var r,e=(n[0]-t[0])*Ho,a=t[1]*Ho,i=n[1]*Ho,o=Math.sin(e),u=Math.cos(e),c=Math.sin(a),s=Math.cos(a),l=Math.sin(i),f=Math.cos(i);return Math.atan2(Math.sqrt((r=f*o)*r+(r=s*l-c*f*u)*r),c*l+s*f*u)},uo.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:n()}}function n(){return uo.range(Math.ceil(i/M)*M,a,M).map(h).concat(uo.range(Math.ceil(s/d)*d,c,d).map(v)).concat(uo.range(Math.ceil(e/g)*g,r,g).filter(function(t){return yo(t%M)>Po}).map(l)).concat(uo.range(Math.ceil(u/p)*p,o,p).filter(function(t){return yo(t%d)>Po}).map(f))}var r,e,a,i,o,u,c,s,l,f,h,v,g=10,p=g,M=90,d=360,y=2.5;return t.lines=function(){return n().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(v(c).slice(1),h(a).reverse().slice(1),v(s).reverse().slice(1))]}},t.extent=function(n){return arguments.length?t.majorExtent(n).minorExtent(n):t.minorExtent()},t.majorExtent=function(n){return arguments.length?(i=+n[0][0],a=+n[1][0],s=+n[0][1],c=+n[1][1],i>a&&(n=i,i=a,a=n),s>c&&(n=s,s=c,c=n),t.precision(y)):[[i,s],[a,c]]},t.minorExtent=function(n){return arguments.length?(e=+n[0][0],r=+n[1][0],u=+n[0][1],o=+n[1][1],e>r&&(n=e,e=r,r=n),u>o&&(n=u,u=o,o=n),t.precision(y)):[[e,u],[r,o]]},t.step=function(n){return arguments.length?t.majorStep(n).minorStep(n):t.minorStep()},t.majorStep=function(n){return arguments.length?(M=+n[0],d=+n[1],t):[M,d]},t.minorStep=function(n){return arguments.length?(g=+n[0],p=+n[1],t):[g,p]},t.precision=function(n){return arguments.length?(y=+n,l=dr(u,o,90),f=yr(e,r,y),h=dr(s,c,90),v=yr(i,a,y),t):y},t.majorExtent([[-180,-90+Po],[180,90-Po]]).minorExtent([[-180,-80-Po],[180,80+Po]])},uo.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[n||e.apply(this,arguments),r||a.apply(this,arguments)]}}var n,r,e=mr,a=xr;return t.distance=function(){return uo.geo.distance(n||e.apply(this,arguments),r||a.apply(this,arguments))},t.source=function(r){return arguments.length?(e=r,n="function"==typeof r?null:r,t):e},t.target=function(n){return arguments.length?(a=n,r="function"==typeof n?null:n,t):a},t.precision=function(){return arguments.length?t:0},t},uo.geo.interpolate=function(t,n){return br(t[0]*Ho,t[1]*Ho,n[0]*Ho,n[1]*Ho)},uo.geo.length=function(t){return Gu=0,uo.geo.stream(t,Xu),Gu};var Gu,Xu={sphere:b,point:b,lineStart:wr,lineEnd:b,polygonStart:b,polygonEnd:b},$u=_r(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(uo.geo.azimuthalEqualArea=function(){return or($u)}).raw=$u;var Wu=_r(function(t){var n=Math.acos(t);return n&&n/Math.sin(n)},y);(uo.geo.azimuthalEquidistant=function(){return or(Wu)}).raw=Wu,(uo.geo.conicConformal=function(){return Zn(Sr)}).raw=Sr,(uo.geo.conicEquidistant=function(){return Zn(Er)}).raw=Er;var Ju=_r(function(t){return 1/t},Math.atan);(uo.geo.gnomonic=function(){return or(Ju)}).raw=Ju,qr.invert=function(t,n){return[t,2*Math.atan(Math.exp(n))-Qo]},(uo.geo.mercator=function(){return kr(qr)}).raw=qr;var Ku=_r(function(){return 1},Math.asin);(uo.geo.orthographic=function(){return or(Ku)}).raw=Ku;var tc=_r(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(uo.geo.stereographic=function(){return or(tc)}).raw=tc,Nr.invert=function(t,n){return[-n,2*Math.atan(Math.exp(t))-Qo]},(uo.geo.transverseMercator=function(){var t=kr(Nr),n=t.center,r=t.rotate;return t.center=function(t){return t?n([-t[1],t[0]]):(t=n(),[t[1],-t[0]])},t.rotate=function(t){return t?r([t[0],t[1],t.length>2?t[2]+90:90]):(t=r(),[t[0],t[1],t[2]-90])},r([0,0,90])}).raw=Nr,uo.geom={},uo.geom.hull=function(t){function n(t){if(t.length<3)return[];var n,a=qt(r),i=qt(e),o=t.length,u=[],c=[];for(n=0;n<o;n++)u.push([+a.call(this,t[n],n),+i.call(this,t[n],n),n]);for(u.sort(Rr),n=0;n<o;n++)c.push([u[n][0],-u[n][1]]);var s=Tr(u),l=Tr(c),f=l[0]===s[0],h=l[l.length-1]===s[s.length-1],v=[];for(n=s.length-1;n>=0;--n)v.push(t[u[s[n]][2]]);for(n=+f;n<l.length-h;++n)v.push(t[u[l[n]][2]]);return v}var r=Ar,e=Cr;return arguments.length?n(t):(n.x=function(t){return arguments.length?(r=t,n):r},n.y=function(t){return arguments.length?(e=t,n):e},n)},uo.geom.polygon=function(t){return _o(t,nc),t};var nc=uo.geom.polygon.prototype=[];nc.area=function(){for(var t,n=-1,r=this.length,e=this[r-1],a=0;++n<r;)t=e,e=this[n],a+=t[1]*e[0]-t[0]*e[1];return.5*a},nc.centroid=function(t){var n,r,e=-1,a=this.length,i=0,o=0,u=this[a-1];for(arguments.length||(t=-1/(6*this.area()));++e<a;)n=u,u=this[e],r=n[0]*u[1]-u[0]*n[1],i+=(n[0]+u[0])*r,o+=(n[1]+u[1])*r;return[i*t,o*t]},nc.clip=function(t){for(var n,r,e,a,i,o,u=Pr(t),c=-1,s=this.length-Pr(this),l=this[s-1];++c<s;){for(n=t.slice(),t.length=0,a=this[c],i=n[(e=n.length-u)-1],r=-1;++r<e;)o=n[r],zr(o,l,a)?(zr(i,l,a)||t.push(Lr(i,o,l,a)),t.push(o)):zr(i,l,a)&&t.push(Lr(i,o,l,a)),i=o;u&&t.push(t[0]),l=a}return t};var rc,ec,ac,ic,oc,uc=[],cc=[];Ir.prototype.prepare=function(){for(var t,n=this.edges,r=n.length;r--;)t=n[r].edge,t.b&&t.a||n.splice(r,1);return n.sort(Zr),n.length},ne.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},re.prototype={insert:function(t,n){var r,e,a;if(t){if(n.P=t,n.N=t.N,t.N&&(t.N.P=n),t.N=n,t.R){for(t=t.R;t.L;)t=t.L;t.L=n}else t.R=n;r=t}else this._?(t=oe(this._),n.P=null,n.N=t,t.P=t.L=n,r=t):(n.P=n.N=null,this._=n,r=null);for(n.L=n.R=null,n.U=r,n.C=!0,t=n;r&&r.C;)e=r.U,r===e.L?(a=e.R,a&&a.C?(r.C=a.C=!1,e.C=!0,t=e):(t===r.R&&(ae(this,r),t=r,r=t.U),r.C=!1,e.C=!0,ie(this,e))):(a=e.L,a&&a.C?(r.C=a.C=!1,e.C=!0,t=e):(t===r.L&&(ie(this,r),t=r,r=t.U),r.C=!1,e.C=!0,ae(this,e))),r=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var n,r,e,a=t.U,i=t.L,o=t.R;if(r=i?o?oe(o):i:o,a?a.L===t?a.L=r:a.R=r:this._=r,i&&o?(e=r.C,r.C=t.C,r.L=i,i.U=r,r!==o?(a=r.U,r.U=t.U,t=r.R,a.L=t,r.R=o,o.U=r):(r.U=a,a=r,t=r.R)):(e=t.C,t=r),t&&(t.U=a),!e){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===a.L){if(n=a.R,n.C&&(n.C=!1,a.C=!0,ae(this,a),n=a.R),n.L&&n.L.C||n.R&&n.R.C){n.R&&n.R.C||(n.L.C=!1,n.C=!0,ie(this,n),n=a.R),n.C=a.C,a.C=n.R.C=!1,ae(this,a),t=this._;break}}else if(n=a.L,n.C&&(n.C=!1,a.C=!0,ie(this,a),n=a.L),n.L&&n.L.C||n.R&&n.R.C){n.L&&n.L.C||(n.R.C=!1,n.C=!0,ae(this,n),n=a.L),n.C=a.C,a.C=n.L.C=!1,ie(this,a),t=this._;break}n.C=!0,t=a,a=a.U}while(!t.C);t&&(t.C=!1)}}},uo.geom.voronoi=function(t){function n(t){var n=new Array(t.length),e=u[0][0],a=u[0][1],i=u[1][0],o=u[1][1];return ue(r(t),u).cells.forEach(function(r,u){var c=r.edges,s=r.site,l=n[u]=c.length?c.map(function(t){var n=t.start();return[n.x,n.y]}):s.x>=e&&s.x<=i&&s.y>=a&&s.y<=o?[[e,o],[i,o],[i,a],[e,a]]:[];l.point=t[u]}),n}function r(t){return t.map(function(t,n){return{x:Math.round(i(t,n)/Po)*Po,y:Math.round(o(t,n)/Po)*Po,i:n}})}var e=Ar,a=Cr,i=e,o=a,u=sc;return t?n(t):(n.links=function(t){return ue(r(t)).edges.filter(function(t){return t.l&&t.r}).map(function(n){return{source:t[n.l.i],target:t[n.r.i]}})},n.triangles=function(t){var n=[];return ue(r(t)).cells.forEach(function(r,e){for(var a,i,o=r.site,u=r.edges.sort(Zr),c=-1,s=u.length,l=u[s-1].edge,f=l.l===o?l.r:l.l;++c<s;)a=l,i=f,l=u[c].edge,f=l.l===o?l.r:l.l,e<i.i&&e<f.i&&se(o,i,f)<0&&n.push([t[e],t[i.i],t[f.i]])}),n},n.x=function(t){return arguments.length?(i=qt(e=t),n):e},n.y=function(t){return arguments.length?(o=qt(a=t),n):a},n.clipExtent=function(t){return arguments.length?(u=null==t?sc:t,n):u===sc?null:u},n.size=function(t){return arguments.length?n.clipExtent(t&&[[0,0],t]):u===sc?null:u&&u[1]},n)};var sc=[[-1e6,-1e6],[1e6,1e6]];uo.geom.delaunay=function(t){return uo.geom.voronoi().triangles(t)},uo.geom.quadtree=function(t,n,r,e,a){function i(t){function i(t,n,r,e,a,i,o,u){if(!isNaN(r)&&!isNaN(e))if(t.leaf){var c=t.x,l=t.y;if(null!=c)if(yo(c-r)+yo(l-e)<.01)s(t,n,r,e,a,i,o,u);else{var f=t.point;t.x=t.y=t.point=null,s(t,f,c,l,a,i,o,u),s(t,n,r,e,a,i,o,u)}else t.x=r,t.y=e,t.point=n}else s(t,n,r,e,a,i,o,u)}function s(t,n,r,e,a,o,u,c){var s=.5*(a+u),l=.5*(o+c),f=r>=s,h=e>=l,v=h<<1|f;t.leaf=!1,t=t.nodes[v]||(t.nodes[v]=he()),f?a=s:u=s,h?o=l:c=l,i(t,n,r,e,a,o,u,c)}var l,f,h,v,g,p,M,d,y,m=qt(u),x=qt(c);if(null!=n)p=n,M=r,d=e,y=a;else if(d=y=-(p=M=1/0),f=[],h=[],g=t.length,o)for(v=0;v<g;++v)l=t[v],l.x<p&&(p=l.x),l.y<M&&(M=l.y),l.x>d&&(d=l.x),l.y>y&&(y=l.y),f.push(l.x),h.push(l.y);else for(v=0;v<g;++v){var b=+m(l=t[v],v),w=+x(l,v);b<p&&(p=b),w<M&&(M=w),b>d&&(d=b),w>y&&(y=w),f.push(b),h.push(w)}var _=d-p,S=y-M;_>S?y=M+_:d=p+S;var E=he();if(E.add=function(t){i(E,t,+m(t,++v),+x(t,v),p,M,d,y)},E.visit=function(t){ve(t,E,p,M,d,y)},E.find=function(t){return ge(E,t[0],t[1],p,M,d,y)},v=-1,null==n){for(;++v<g;)i(E,t[v],f[v],h[v],p,M,d,y);--v}else t.forEach(E.add);return f=h=t=l=null,E}var o,u=Ar,c=Cr;return(o=arguments.length)?(u=le,c=fe,3===o&&(a=r,e=n,r=n=0),i(t)):(i.x=function(t){return arguments.length?(u=t,i):u},i.y=function(t){return arguments.length?(c=t,i):c},i.extent=function(t){return arguments.length?(null==t?n=r=e=a=null:(n=+t[0][0],r=+t[0][1],e=+t[1][0],a=+t[1][1]),i):null==n?null:[[n,r],[e,a]]},i.size=function(t){return arguments.length?(null==t?n=r=e=a=null:(n=r=0,e=+t[0],a=+t[1]),i):null==n?null:[e-n,a-r]},i)},uo.interpolateRgb=pe,uo.interpolateObject=Me,uo.interpolateNumber=de,uo.interpolateString=ye;var lc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fc=new RegExp(lc.source,"g");uo.interpolate=me,uo.interpolators=[function(t,n){var r=typeof n;return("string"===r?eu.has(n.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(n)?pe:ye:n instanceof ot?pe:Array.isArray(n)?xe:"object"===r&&isNaN(n)?Me:de)(t,n)}],uo.interpolateArray=xe;var hc=function(){return y},vc=uo.map({linear:hc,poly:ke,quad:function(){return Se},cubic:function(){return Ee},sin:function(){return Ne},exp:function(){return Ae},circle:function(){return Ce},elastic:Te,back:Re,bounce:function(){return ze}}),gc=uo.map({in:y,out:we,"in-out":_e,"out-in":function(t){return _e(we(t))}});uo.ease=function(t){var n=t.indexOf("-"),r=n>=0?t.slice(0,n):t,e=n>=0?t.slice(n+1):"in";return r=vc.get(r)||hc,e=gc.get(e)||y,be(e(r.apply(null,co.call(arguments,1))))},uo.interpolateHcl=Le,uo.interpolateHsl=Pe,uo.interpolateLab=De,uo.interpolateRound=je,uo.transform=function(t){var n=lo.createElementNS(uo.ns.prefix.svg,"g");return(uo.transform=function(t){if(null!=t){n.setAttribute("transform",t);var r=n.transform.baseVal.consolidate()}return new Ue(r?r.matrix:pc)})(t)},Ue.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var pc={a:1,b:0,c:0,d:1,e:0,f:0};uo.interpolateTransform=Ve,uo.layout={},uo.layout.bundle=function(){return function(t){for(var n=[],r=-1,e=t.length;++r<e;)n.push($e(t[r]));return n}},uo.layout.chord=function(){function t(){var t,s,f,h,v,g={},p=[],M=uo.range(i),d=[];for(r=[],e=[],t=0,h=-1;++h<i;){for(s=0,v=-1;++v<i;)s+=a[h][v];p.push(s),d.push(uo.range(i)),t+=s}for(o&&M.sort(function(t,n){return o(p[t],p[n])}),u&&d.forEach(function(t,n){t.sort(function(t,r){return u(a[n][t],a[n][r])})}),t=(Uo-l*i)/t,s=0,h=-1;++h<i;){for(f=s,v=-1;++v<i;){var y=M[h],m=d[y][v],x=a[y][m],b=s,w=s+=x*t;g[y+"-"+m]={index:y,subindex:m,startAngle:b,endAngle:w,value:x}}e[y]={index:y,startAngle:f,endAngle:s,value:p[y]},s+=l}for(h=-1;++h<i;)for(v=h-1;++v<i;){var _=g[h+"-"+v],S=g[v+"-"+h];(_.value||S.value)&&r.push(_.value<S.value?{source:S,target:_}:{source:_,target:S})}c&&n()}function n(){r.sort(function(t,n){return c((t.source.value+t.target.value)/2,(n.source.value+n.target.value)/2)})}var r,e,a,i,o,u,c,s={},l=0;return s.matrix=function(t){return arguments.length?(i=(a=t)&&a.length,r=e=null,s):a},s.padding=function(t){return arguments.length?(l=t,r=e=null,s):l},s.sortGroups=function(t){return arguments.length?(o=t,r=e=null,s):o},s.sortSubgroups=function(t){return arguments.length?(u=t,r=null,s):u},s.sortChords=function(t){return arguments.length?(c=t,r&&n(),s):c},s.chords=function(){return r||t(),r},s.groups=function(){return e||t(),e},s},uo.layout.force=function(){function t(t){return function(n,r,e,a){if(n.point!==t){var i=n.cx-t.x,o=n.cy-t.y,u=a-r,c=i*i+o*o;if(u*u/d<c){if(c<p){var s=n.charge/c;t.px-=i*s,t.py-=o*s}return!0}if(n.point&&c&&c<p){var s=n.pointCharge/c;t.px-=i*s,t.py-=o*s}}return!n.charge}}function n(t){t.px=uo.event.x,t.py=uo.event.y,c.resume()}var r,e,a,i,o,u,c={},s=uo.dispatch("start","tick","end"),l=[1,1],f=.9,h=Mc,v=dc,g=-30,p=yc,M=.1,d=.64,m=[],x=[];return c.tick=function(){if((a*=.99)<.005)return r=null,s.end({type:"end",alpha:a=0}),!0;var n,e,c,h,v,p,d,y,b,w=m.length,_=x.length;for(e=0;e<_;++e)c=x[e],h=c.source,v=c.target,y=v.x-h.x,b=v.y-h.y,(p=y*y+b*b)&&(p=a*o[e]*((p=Math.sqrt(p))-i[e])/p,y*=p,b*=p,v.x-=y*(d=h.weight+v.weight?h.weight/(h.weight+v.weight):.5),v.y-=b*d,h.x+=y*(d=1-d),h.y+=b*d);if((d=a*M)&&(y=l[0]/2,b=l[1]/2,e=-1,d))for(;++e<w;)c=m[e],c.x+=(y-c.x)*d,c.y+=(b-c.y)*d;if(g)for(ea(n=uo.geom.quadtree(m),a,u),e=-1;++e<w;)(c=m[e]).fixed||n.visit(t(c));for(e=-1;++e<w;)c=m[e],c.fixed?(c.x=c.px,c.y=c.py):(c.x-=(c.px-(c.px=c.x))*f,c.y-=(c.py-(c.py=c.y))*f);s.tick({type:"tick",alpha:a})},c.nodes=function(t){return arguments.length?(m=t,c):m},c.links=function(t){return arguments.length?(x=t,c):x},c.size=function(t){return arguments.length?(l=t,c):l},c.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,c):h},c.distance=c.linkDistance,c.linkStrength=function(t){return arguments.length?(v="function"==typeof t?t:+t,c):v},c.friction=function(t){return arguments.length?(f=+t,c):f},c.charge=function(t){return arguments.length?(g="function"==typeof t?t:+t,c):g},c.chargeDistance=function(t){return arguments.length?(p=t*t,c):Math.sqrt(p)},c.gravity=function(t){return arguments.length?(M=+t,c):M},c.theta=function(t){return arguments.length?(d=t*t,c):Math.sqrt(d)},c.alpha=function(t){return arguments.length?(t=+t,a?t>0?a=t:(r.c=null,r.t=NaN,r=null,s.end({type:"end",alpha:a=0})):t>0&&(s.start({type:"start",alpha:a=t}),r=Tt(c.tick)),c):a},c.start=function(){function t(t,e){if(!r){for(r=new Array(a),c=0;c<a;++c)r[c]=[];for(c=0;c<s;++c){var i=x[c];r[i.source.index].push(i.target),r[i.target.index].push(i.source)}}for(var o,u=r[n],c=-1,l=u.length;++c<l;)if(!isNaN(o=u[c][t]))return o;return Math.random()*e}var n,r,e,a=m.length,s=x.length,f=l[0],p=l[1];for(n=0;n<a;++n)(e=m[n]).index=n,e.weight=0;for(n=0;n<s;++n)e=x[n],"number"==typeof e.source&&(e.source=m[e.source]),"number"==typeof e.target&&(e.target=m[e.target]),++e.source.weight,++e.target.weight;for(n=0;n<a;++n)e=m[n],isNaN(e.x)&&(e.x=t("x",f)),isNaN(e.y)&&(e.y=t("y",p)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(i=[],"function"==typeof h)for(n=0;n<s;++n)i[n]=+h.call(this,x[n],n);else for(n=0;n<s;++n)i[n]=h;if(o=[],"function"==typeof v)for(n=0;n<s;++n)o[n]=+v.call(this,x[n],n);else for(n=0;n<s;++n)o[n]=v;if(u=[],"function"==typeof g)for(n=0;n<a;++n)u[n]=+g.call(this,m[n],n);else for(n=0;n<a;++n)u[n]=g;return c.resume()},c.resume=function(){return c.alpha(.1)},c.stop=function(){return c.alpha(0)},c.drag=function(){return e||(e=uo.behavior.drag().origin(y).on("dragstart.force",Ke).on("drag.force",n).on("dragend.force",ta)),arguments.length?void this.on("mouseover.force",na).on("mouseout.force",ra).call(e):e},uo.rebind(c,s,"on")};var Mc=20,dc=1,yc=1/0;uo.layout.hierarchy=function(){function t(a){var i,o=[a],u=[];for(a.depth=0;null!=(i=o.pop());)if(u.push(i),(s=r.call(t,i,i.depth))&&(c=s.length)){for(var c,s,l;--c>=0;)o.push(l=s[c]),l.parent=i,l.depth=i.depth+1;e&&(i.value=0),i.children=s}else e&&(i.value=+e.call(t,i,i.depth)||0),delete i.children;return oa(a,function(t){var r,a;n&&(r=t.children)&&r.sort(n),e&&(a=t.parent)&&(a.value+=t.value)}),u}var n=sa,r=ua,e=ca;return t.sort=function(r){return arguments.length?(n=r,t):n},t.children=function(n){return arguments.length?(r=n,t):r},t.value=function(n){return arguments.length?(e=n,t):e},t.revalue=function(n){return e&&(ia(n,function(t){t.children&&(t.value=0)}),oa(n,function(n){var r;n.children||(n.value=+e.call(t,n,n.depth)||0),(r=n.parent)&&(r.value+=n.value)})),n},t},uo.layout.partition=function(){function t(n,r,e,a){var i=n.children;if(n.x=r,n.y=n.depth*a,n.dx=e,n.dy=a,i&&(o=i.length)){var o,u,c,s=-1;for(e=n.value?e/n.value:0;++s<o;)t(u=i[s],r,c=u.value*e,a),r+=c}}function n(t){var r=t.children,e=0;if(r&&(a=r.length))for(var a,i=-1;++i<a;)e=Math.max(e,n(r[i]));return 1+e}function r(r,i){var o=e.call(this,r,i);return t(o[0],0,a[0],a[1]/n(o[0])),o}var e=uo.layout.hierarchy(),a=[1,1];return r.size=function(t){return arguments.length?(a=t,r):a},aa(r,e)},uo.layout.pie=function(){function t(o){var u,c=o.length,s=o.map(function(r,e){return+n.call(t,r,e)}),l=+("function"==typeof e?e.apply(this,arguments):e),f=("function"==typeof a?a.apply(this,arguments):a)-l,h=Math.min(Math.abs(f)/c,+("function"==typeof i?i.apply(this,arguments):i)),v=h*(f<0?-1:1),g=uo.sum(s),p=g?(f-c*v)/g:0,M=uo.range(c),d=[];return null!=r&&M.sort(r===mc?function(t,n){return s[n]-s[t]}:function(t,n){return r(o[t],o[n])}),M.forEach(function(t){d[t]={data:o[t],value:u=s[t],startAngle:l,endAngle:l+=u*p+v,padAngle:h}}),d}var n=Number,r=mc,e=0,a=Uo,i=0;return t.value=function(r){return arguments.length?(n=r,t):n},t.sort=function(n){return arguments.length?(r=n,t):r},t.startAngle=function(n){return arguments.length?(e=n,t):e},t.endAngle=function(n){return arguments.length?(a=n,t):a},t.padAngle=function(n){return arguments.length?(i=n,t):i},t};var mc={};uo.layout.stack=function(){function t(u,c){if(!(h=u.length))return u;var s=u.map(function(r,e){return n.call(t,r,e)}),l=s.map(function(n){return n.map(function(n,r){return[i.call(t,n,r),o.call(t,n,r)]})}),f=r.call(t,l,c);s=uo.permute(s,f),l=uo.permute(l,f);var h,v,g,p,M=e.call(t,l,c),d=s[0].length;for(g=0;g<d;++g)for(a.call(t,s[0][g],p=M[g],l[0][g][1]),v=1;v<h;++v)a.call(t,s[v][g],p+=l[v-1][g][1],l[v][g][1]);return u}var n=y,r=ga,e=pa,a=va,i=fa,o=ha;return t.values=function(r){return arguments.length?(n=r,t):n},t.order=function(n){return arguments.length?(r="function"==typeof n?n:xc.get(n)||ga,t):r},t.offset=function(n){return arguments.length?(e="function"==typeof n?n:bc.get(n)||pa,t):e},t.x=function(n){return arguments.length?(i=n,t):i},t.y=function(n){return arguments.length?(o=n,t):o},t.out=function(n){return arguments.length?(a=n,t):a},t};var xc=uo.map({"inside-out":function(t){var n,r,e=t.length,a=t.map(Ma),i=t.map(da),o=uo.range(e).sort(function(t,n){return a[t]-a[n]}),u=0,c=0,s=[],l=[];for(n=0;n<e;++n)r=o[n],u<c?(u+=i[r],s.push(r)):(c+=i[r],l.push(r));return l.reverse().concat(s)},reverse:function(t){return uo.range(t.length).reverse()},default:ga}),bc=uo.map({silhouette:function(t){var n,r,e,a=t.length,i=t[0].length,o=[],u=0,c=[];for(r=0;r<i;++r){for(n=0,e=0;n<a;n++)e+=t[n][r][1];e>u&&(u=e),o.push(e)}for(r=0;r<i;++r)c[r]=(u-o[r])/2;return c},wiggle:function(t){var n,r,e,a,i,o,u,c,s,l=t.length,f=t[0],h=f.length,v=[];for(v[0]=c=s=0,r=1;r<h;++r){for(n=0,a=0;n<l;++n)a+=t[n][r][1];for(n=0,i=0,u=f[r][0]-f[r-1][0];n<l;++n){for(e=0,o=(t[n][r][1]-t[n][r-1][1])/(2*u);e<n;++e)o+=(t[e][r][1]-t[e][r-1][1])/u;i+=o*t[n][r][1]}v[r]=c-=a?i/a*u:0,c<s&&(s=c)}for(r=0;r<h;++r)v[r]-=s;return v},expand:function(t){var n,r,e,a=t.length,i=t[0].length,o=1/a,u=[];for(r=0;r<i;++r){for(n=0,e=0;n<a;n++)e+=t[n][r][1];if(e)for(n=0;n<a;n++)t[n][r][1]/=e;else for(n=0;n<a;n++)t[n][r][1]=o}for(r=0;r<i;++r)u[r]=0;return u},zero:pa});uo.layout.histogram=function(){function t(t,i){for(var o,u,c=[],s=t.map(r,this),l=e.call(this,s,i),f=a.call(this,l,s,i),i=-1,h=s.length,v=f.length-1,g=n?1:1/h;++i<v;)o=c[i]=[],o.dx=f[i+1]-(o.x=f[i]),o.y=0;if(v>0)for(i=-1;++i<h;)u=s[i],u>=l[0]&&u<=l[1]&&(o=c[uo.bisect(f,u,1,v)-1],o.y+=g,o.push(t[i]));return c}var n=!0,r=Number,e=ba,a=ma;return t.value=function(n){return arguments.length?(r=n,t):r},t.range=function(n){return arguments.length?(e=qt(n),t):e},t.bins=function(n){return arguments.length?(a="number"==typeof n?function(t){return xa(t,n)}:qt(n),t):a},t.frequency=function(r){return arguments.length?(n=!!r,t):n},t},uo.layout.pack=function(){function t(t,i){var o=r.call(this,t,i),u=o[0],c=a[0],s=a[1],l=null==n?Math.sqrt:"function"==typeof n?n:function(){return n};if(u.x=u.y=0,oa(u,function(t){t.r=+l(t.value)}),oa(u,qa),e){var f=e*(n?1:Math.max(2*u.r/c,2*u.r/s))/2;oa(u,function(t){t.r+=f}),oa(u,qa),oa(u,function(t){t.r-=f})}return Aa(u,c/2,s/2,n?1:1/Math.max(2*u.r/c,2*u.r/s)),o}var n,r=uo.layout.hierarchy().sort(wa),e=0,a=[1,1];return t.size=function(n){return arguments.length?(a=n,t):a},t.radius=function(r){return arguments.length?(n=null==r||"function"==typeof r?r:+r,t):n},t.padding=function(n){return arguments.length?(e=+n,t):e},aa(t,r)},uo.layout.tree=function(){function t(t,a){var l=o.call(this,t,a),f=l[0],h=n(f);if(oa(h,r),h.parent.m=-h.z,ia(h,e),s)ia(f,i);else{var v=f,g=f,p=f;ia(f,function(t){t.x<v.x&&(v=t),t.x>g.x&&(g=t),t.depth>p.depth&&(p=t)});var M=u(v,g)/2-v.x,d=c[0]/(g.x+u(g,v)/2+M),y=c[1]/(p.depth||1);ia(f,function(t){t.x=(t.x+M)*d,t.y=t.depth*y})}return l}function n(t){for(var n,r={A:null,children:[t]},e=[r];null!=(n=e.pop());)for(var a,i=n.children,o=0,u=i.length;o<u;++o)e.push((i[o]=a={_:i[o],parent:n,children:(a=i[o].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=a);return r.children[0]}function r(t){var n=t.children,r=t.parent.children,e=t.i?r[t.i-1]:null;if(n.length){Pa(t);var i=(n[0].z+n[n.length-1].z)/2;e?(t.z=e.z+u(t._,e._),t.m=t.z-i):t.z=i}else e&&(t.z=e.z+u(t._,e._));t.parent.A=a(t,e,t.parent.A||r[0])}function e(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t,n,r){if(n){for(var e,a=t,i=t,o=n,c=a.parent.children[0],s=a.m,l=i.m,f=o.m,h=c.m;o=za(o),a=Ra(a),o&&a;)c=Ra(c),i=za(i),i.a=t,e=o.z+f-a.z-s+u(o._,a._),e>0&&(La(Da(o,t,r),t,e),s+=e,l+=e),f+=o.m,s+=a.m,h+=c.m,l+=i.m;o&&!za(i)&&(i.t=o,i.m+=f-l),a&&!Ra(c)&&(c.t=a,c.m+=s-h,r=t)}return r}function i(t){t.x*=c[0],t.y=t.depth*c[1]}var o=uo.layout.hierarchy().sort(null).value(null),u=Ta,c=[1,1],s=null;return t.separation=function(n){return arguments.length?(u=n,t):u},t.size=function(n){return arguments.length?(s=null==(c=n)?i:null,t):s?null:c},t.nodeSize=function(n){return arguments.length?(s=null==(c=n)?null:i,t):s?c:null},aa(t,o)},uo.layout.cluster=function(){function t(t,i){var o,u=n.call(this,t,i),c=u[0],s=0;oa(c,function(t){var n=t.children;n&&n.length?(t.x=Ua(n),t.y=ja(n)):(t.x=o?s+=r(t,o):0,t.y=0,o=t)});var l=Fa(c),f=Qa(c),h=l.x-r(l,f)/2,v=f.x+r(f,l)/2;return oa(c,a?function(t){t.x=(t.x-c.x)*e[0],t.y=(c.y-t.y)*e[1]}:function(t){t.x=(t.x-h)/(v-h)*e[0],t.y=(1-(c.y?t.y/c.y:1))*e[1]}),u}var n=uo.layout.hierarchy().sort(null).value(null),r=Ta,e=[1,1],a=!1;return t.separation=function(n){return arguments.length?(r=n,t):r},t.size=function(n){return arguments.length?(a=null==(e=n),t):a?null:e},t.nodeSize=function(n){return arguments.length?(a=null!=(e=n),t):a?e:null},aa(t,n)},uo.layout.treemap=function(){function t(t,n){for(var r,e,a=-1,i=t.length;++a<i;)e=(r=t[a]).value*(n<0?0:n),r.area=isNaN(e)||e<=0?0:e}function n(r){var i=r.children;if(i&&i.length){var o,u,c,s=f(r),l=[],h=i.slice(),g=1/0,p="slice"===v?s.dx:"dice"===v?s.dy:"slice-dice"===v?1&r.depth?s.dy:s.dx:Math.min(s.dx,s.dy);for(t(h,s.dx*s.dy/r.value),l.area=0;(c=h.length)>0;)l.push(o=h[c-1]),l.area+=o.area,"squarify"!==v||(u=e(l,p))<=g?(h.pop(),g=u):(l.area-=l.pop().area,a(l,p,s,!1),p=Math.min(s.dx,s.dy),l.length=l.area=0,g=1/0);l.length&&(a(l,p,s,!0),l.length=l.area=0),i.forEach(n)}}function r(n){var e=n.children;if(e&&e.length){var i,o=f(n),u=e.slice(),c=[];for(t(u,o.dx*o.dy/n.value),c.area=0;i=u.pop();)c.push(i),c.area+=i.area,null!=i.z&&(a(c,i.z?o.dx:o.dy,o,!u.length),c.length=c.area=0);e.forEach(r)}}function e(t,n){for(var r,e=t.area,a=0,i=1/0,o=-1,u=t.length;++o<u;)(r=t[o].area)&&(r<i&&(i=r),r>a&&(a=r));return e*=e,n*=n,e?Math.max(n*a*g/e,e/(n*i*g)):1/0}function a(t,n,r,e){var a,i=-1,o=t.length,u=r.x,s=r.y,l=n?c(t.area/n):0;
if(n==r.dx){for((e||l>r.dy)&&(l=r.dy);++i<o;)a=t[i],a.x=u,a.y=s,a.dy=l,u+=a.dx=Math.min(r.x+r.dx-u,l?c(a.area/l):0);a.z=!0,a.dx+=r.x+r.dx-u,r.y+=l,r.dy-=l}else{for((e||l>r.dx)&&(l=r.dx);++i<o;)a=t[i],a.x=u,a.y=s,a.dx=l,s+=a.dy=Math.min(r.y+r.dy-s,l?c(a.area/l):0);a.z=!1,a.dy+=r.y+r.dy-s,r.x+=l,r.dx-=l}}function i(e){var a=o||u(e),i=a[0];return i.x=i.y=0,i.value?(i.dx=s[0],i.dy=s[1]):i.dx=i.dy=0,o&&u.revalue(i),t([i],i.dx*i.dy/i.value),(o?r:n)(i),h&&(o=a),a}var o,u=uo.layout.hierarchy(),c=Math.round,s=[1,1],l=null,f=Ha,h=!1,v="squarify",g=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(s=t,i):s},i.padding=function(t){function n(n){var r=t.call(i,n,n.depth);return null==r?Ha(n):Oa(n,"number"==typeof r?[r,r,r,r]:r)}function r(n){return Oa(n,t)}if(!arguments.length)return l;var e;return f=null==(l=t)?Ha:"function"==(e=typeof t)?n:"number"===e?(t=[t,t,t,t],r):r,i},i.round=function(t){return arguments.length?(c=t?Math.round:Number,i):c!=Number},i.sticky=function(t){return arguments.length?(h=t,o=null,i):h},i.ratio=function(t){return arguments.length?(g=t,i):g},i.mode=function(t){return arguments.length?(v=t+"",i):v},aa(i,u)},uo.random={normal:function(t,n){var r=arguments.length;return r<2&&(n=1),r<1&&(t=0),function(){var r,e,a;do r=2*Math.random()-1,e=2*Math.random()-1,a=r*r+e*e;while(!a||a>1);return t+n*r*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var t=uo.random.normal.apply(uo,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=uo.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(t){return function(){for(var n=0,r=0;r<t;r++)n+=Math.random();return n}}},uo.scale={};var wc={floor:y,ceil:y};uo.scale.linear=function(){return Xa([0,1],[0,1],me,!1)};var _c={s:1,g:1,p:1,r:1,e:1};uo.scale.log=function(){return ei(uo.scale.linear().domain([0,1]),10,!0,[1,10])};var Sc=uo.format(".0e"),Ec={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};uo.scale.pow=function(){return ai(uo.scale.linear(),1,[0,1])},uo.scale.sqrt=function(){return uo.scale.pow().exponent(.5)},uo.scale.ordinal=function(){return oi([],{t:"range",a:[[]]})},uo.scale.category10=function(){return uo.scale.ordinal().range(qc)},uo.scale.category20=function(){return uo.scale.ordinal().range(kc)},uo.scale.category20b=function(){return uo.scale.ordinal().range(Nc)},uo.scale.category20c=function(){return uo.scale.ordinal().range(Ac)};var qc=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(mt),kc=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(mt),Nc=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(mt),Ac=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(mt);uo.scale.quantile=function(){return ui([],[])},uo.scale.quantize=function(){return ci(0,1,[0,1])},uo.scale.threshold=function(){return si([.5],[0,1])},uo.scale.identity=function(){return li([0,1])},uo.svg={},uo.svg.arc=function(){function t(){var t=Math.max(0,+r.apply(this,arguments)),s=Math.max(0,+e.apply(this,arguments)),l=o.apply(this,arguments)-Qo,f=u.apply(this,arguments)-Qo,h=Math.abs(f-l),v=l>f?0:1;if(s<t&&(g=s,s=t,t=g),h>=Fo)return n(s,v)+(t?n(t,1-v):"")+"Z";var g,p,M,d,y,m,x,b,w,_,S,E,q=0,k=0,N=[];if((d=(+c.apply(this,arguments)||0)/2)&&(M=i===Cc?Math.sqrt(t*t+s*s):+i.apply(this,arguments),v||(k*=-1),s&&(k=nt(M/s*Math.sin(d))),t&&(q=nt(M/t*Math.sin(d)))),s){y=s*Math.cos(l+k),m=s*Math.sin(l+k),x=s*Math.cos(f-k),b=s*Math.sin(f-k);var A=Math.abs(f-l-2*k)<=jo?0:1;if(k&&di(y,m,x,b)===v^A){var C=(l+f)/2;y=s*Math.cos(C),m=s*Math.sin(C),x=b=null}}else y=m=0;if(t){w=t*Math.cos(f-q),_=t*Math.sin(f-q),S=t*Math.cos(l+q),E=t*Math.sin(l+q);var T=Math.abs(l-f+2*q)<=jo?0:1;if(q&&di(w,_,S,E)===1-v^T){var R=(l+f)/2;w=t*Math.cos(R),_=t*Math.sin(R),S=E=null}}else w=_=0;if(h>Po&&(g=Math.min(Math.abs(s-t)/2,+a.apply(this,arguments)))>.001){p=t<s^v?0:1;var z=g,L=g;if(h<jo){var P=null==S?[w,_]:null==x?[y,m]:Lr([y,m],[S,E],[x,b],[w,_]),D=y-P[0],j=m-P[1],U=x-P[0],F=b-P[1],Q=1/Math.sin(Math.acos((D*U+j*F)/(Math.sqrt(D*D+j*j)*Math.sqrt(U*U+F*F)))/2),H=Math.sqrt(P[0]*P[0]+P[1]*P[1]);L=Math.min(g,(t-H)/(Q-1)),z=Math.min(g,(s-H)/(Q+1))}if(null!=x){var O=yi(null==S?[w,_]:[S,E],[y,m],s,z,v),I=yi([x,b],[w,_],s,z,v);g===z?N.push("M",O[0],"A",z,",",z," 0 0,",p," ",O[1],"A",s,",",s," 0 ",1-v^di(O[1][0],O[1][1],I[1][0],I[1][1]),",",v," ",I[1],"A",z,",",z," 0 0,",p," ",I[0]):N.push("M",O[0],"A",z,",",z," 0 1,",p," ",I[0])}else N.push("M",y,",",m);if(null!=S){var Y=yi([y,m],[S,E],t,-L,v),Z=yi([w,_],null==x?[y,m]:[x,b],t,-L,v);g===L?N.push("L",Z[0],"A",L,",",L," 0 0,",p," ",Z[1],"A",t,",",t," 0 ",v^di(Z[1][0],Z[1][1],Y[1][0],Y[1][1]),",",1-v," ",Y[1],"A",L,",",L," 0 0,",p," ",Y[0]):N.push("L",Z[0],"A",L,",",L," 0 0,",p," ",Y[0])}else N.push("L",w,",",_)}else N.push("M",y,",",m),null!=x&&N.push("A",s,",",s," 0 ",A,",",v," ",x,",",b),N.push("L",w,",",_),null!=S&&N.push("A",t,",",t," 0 ",T,",",1-v," ",S,",",E);return N.push("Z"),N.join("")}function n(t,n){return"M0,"+t+"A"+t+","+t+" 0 1,"+n+" 0,"+-t+"A"+t+","+t+" 0 1,"+n+" 0,"+t}var r=hi,e=vi,a=fi,i=Cc,o=gi,u=pi,c=Mi;return t.innerRadius=function(n){return arguments.length?(r=qt(n),t):r},t.outerRadius=function(n){return arguments.length?(e=qt(n),t):e},t.cornerRadius=function(n){return arguments.length?(a=qt(n),t):a},t.padRadius=function(n){return arguments.length?(i=n==Cc?Cc:qt(n),t):i},t.startAngle=function(n){return arguments.length?(o=qt(n),t):o},t.endAngle=function(n){return arguments.length?(u=qt(n),t):u},t.padAngle=function(n){return arguments.length?(c=qt(n),t):c},t.centroid=function(){var t=(+r.apply(this,arguments)+ +e.apply(this,arguments))/2,n=(+o.apply(this,arguments)+ +u.apply(this,arguments))/2-Qo;return[Math.cos(n)*t,Math.sin(n)*t]},t};var Cc="auto";uo.svg.line=function(){return mi(y)};var Tc=uo.map({linear:xi,"linear-closed":bi,step:wi,"step-before":_i,"step-after":Si,basis:Ci,"basis-open":Ti,"basis-closed":Ri,bundle:zi,cardinal:ki,"cardinal-open":Ei,"cardinal-closed":qi,monotone:Fi});Tc.forEach(function(t,n){n.key=t,n.closed=/-closed$/.test(t)});var Rc=[0,2/3,1/3,0],zc=[0,1/3,2/3,0],Lc=[0,1/6,2/3,1/6];uo.svg.line.radial=function(){var t=mi(Qi);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},_i.reverse=Si,Si.reverse=_i,uo.svg.area=function(){return Hi(y)},uo.svg.area.radial=function(){var t=Hi(Qi);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},uo.svg.chord=function(){function t(t,u){var c=n(this,i,t,u),s=n(this,o,t,u);return"M"+c.p0+e(c.r,c.p1,c.a1-c.a0)+(r(c,s)?a(c.r,c.p1,c.r,c.p0):a(c.r,c.p1,s.r,s.p0)+e(s.r,s.p1,s.a1-s.a0)+a(s.r,s.p1,c.r,c.p0))+"Z"}function n(t,n,r,e){var a=n.call(t,r,e),i=u.call(t,a,e),o=c.call(t,a,e)-Qo,l=s.call(t,a,e)-Qo;return{r:i,a0:o,a1:l,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(l),i*Math.sin(l)]}}function r(t,n){return t.a0==n.a0&&t.a1==n.a1}function e(t,n,r){return"A"+t+","+t+" 0 "+ +(r>jo)+",1 "+n}function a(t,n,r,e){return"Q 0,0 "+e}var i=mr,o=xr,u=Oi,c=gi,s=pi;return t.radius=function(n){return arguments.length?(u=qt(n),t):u},t.source=function(n){return arguments.length?(i=qt(n),t):i},t.target=function(n){return arguments.length?(o=qt(n),t):o},t.startAngle=function(n){return arguments.length?(c=qt(n),t):c},t.endAngle=function(n){return arguments.length?(s=qt(n),t):s},t},uo.svg.diagonal=function(){function t(t,a){var i=n.call(this,t,a),o=r.call(this,t,a),u=(i.y+o.y)/2,c=[i,{x:i.x,y:u},{x:o.x,y:u},o];return c=c.map(e),"M"+c[0]+"C"+c[1]+" "+c[2]+" "+c[3]}var n=mr,r=xr,e=Ii;return t.source=function(r){return arguments.length?(n=qt(r),t):n},t.target=function(n){return arguments.length?(r=qt(n),t):r},t.projection=function(n){return arguments.length?(e=n,t):e},t},uo.svg.diagonal.radial=function(){var t=uo.svg.diagonal(),n=Ii,r=t.projection;return t.projection=function(t){return arguments.length?r(Yi(n=t)):n},t},uo.svg.symbol=function(){function t(t,e){return(Pc.get(n.call(this,t,e))||Vi)(r.call(this,t,e))}var n=Bi,r=Zi;return t.type=function(r){return arguments.length?(n=qt(r),t):n},t.size=function(n){return arguments.length?(r=qt(n),t):r},t};var Pc=uo.map({circle:Vi,cross:function(t){var n=Math.sqrt(t/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(t){var n=Math.sqrt(t/(2*jc)),r=n*jc;return"M0,"+-n+"L"+r+",0 0,"+n+" "+-r+",0Z"},square:function(t){var n=Math.sqrt(t)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(t){var n=Math.sqrt(t/Dc),r=n*Dc/2;return"M0,"+r+"L"+n+","+-r+" "+-n+","+-r+"Z"},"triangle-up":function(t){var n=Math.sqrt(t/Dc),r=n*Dc/2;return"M0,"+-r+"L"+n+","+r+" "+-n+","+r+"Z"}});uo.svg.symbolTypes=Pc.keys();var Dc=Math.sqrt(3),jc=Math.tan(30*Ho);ko.transition=function(t){for(var n,r,e=Uc||++Oc,a=Ji(t),i=[],o=Fc||{time:Date.now(),ease:qe,delay:0,duration:250},u=-1,c=this.length;++u<c;){i.push(n=[]);for(var s=this[u],l=-1,f=s.length;++l<f;)(r=s[l])&&Ki(r,l,a,e,o),n.push(r)}return Xi(i,a,e)},ko.interrupt=function(t){return this.each(null==t?Qc:Gi(Ji(t)))};var Uc,Fc,Qc=Gi(Ji()),Hc=[],Oc=0;Hc.call=ko.call,Hc.empty=ko.empty,Hc.node=ko.node,Hc.size=ko.size,uo.transition=function(t,n){return t&&t.transition?Uc?t.transition(n):t:uo.selection().transition(t)},uo.transition.prototype=Hc,Hc.select=function(t){var n,r,e,a=this.id,i=this.namespace,o=[];t=N(t);for(var u=-1,c=this.length;++u<c;){o.push(n=[]);for(var s=this[u],l=-1,f=s.length;++l<f;)(e=s[l])&&(r=t.call(e,e.__data__,l,u))?("__data__"in e&&(r.__data__=e.__data__),Ki(r,l,i,a,e[i][a]),n.push(r)):n.push(null)}return Xi(o,i,a)},Hc.selectAll=function(t){var n,r,e,a,i,o=this.id,u=this.namespace,c=[];t=A(t);for(var s=-1,l=this.length;++s<l;)for(var f=this[s],h=-1,v=f.length;++h<v;)if(e=f[h]){i=e[u][o],r=t.call(e,e.__data__,h,s),c.push(n=[]);for(var g=-1,p=r.length;++g<p;)(a=r[g])&&Ki(a,g,u,o,i),n.push(a)}return Xi(c,u,o)},Hc.filter=function(t){var n,r,e,a=[];"function"!=typeof t&&(t=H(t));for(var i=0,o=this.length;i<o;i++){a.push(n=[]);for(var r=this[i],u=0,c=r.length;u<c;u++)(e=r[u])&&t.call(e,e.__data__,u,i)&&n.push(e)}return Xi(a,this.namespace,this.id)},Hc.tween=function(t,n){var r=this.id,e=this.namespace;return arguments.length<2?this.node()[e][r].tween.get(t):I(this,null==n?function(n){n[e][r].tween.remove(t)}:function(a){a[e][r].tween.set(t,n)})},Hc.attr=function(t,n){function r(){this.removeAttribute(u)}function e(){this.removeAttributeNS(u.space,u.local)}function a(t){return null==t?r:(t+="",function(){var n,r=this.getAttribute(u);return r!==t&&(n=o(r,t),function(t){this.setAttribute(u,n(t))})})}function i(t){return null==t?e:(t+="",function(){var n,r=this.getAttributeNS(u.space,u.local);return r!==t&&(n=o(r,t),function(t){this.setAttributeNS(u.space,u.local,n(t))})})}if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var o="transform"==t?Ve:me,u=uo.ns.qualify(t);return $i(this,"attr."+t,n,u.local?i:a)},Hc.attrTween=function(t,n){function r(t,r){var e=n.call(this,t,r,this.getAttribute(a));return e&&function(t){this.setAttribute(a,e(t))}}function e(t,r){var e=n.call(this,t,r,this.getAttributeNS(a.space,a.local));return e&&function(t){this.setAttributeNS(a.space,a.local,e(t))}}var a=uo.ns.qualify(t);return this.tween("attr."+t,a.local?e:r)},Hc.style=function(t,r,e){function a(){this.style.removeProperty(t)}function i(r){return null==r?a:(r+="",function(){var a,i=n(this).getComputedStyle(this,null).getPropertyValue(t);return i!==r&&(a=me(i,r),function(n){this.style.setProperty(t,a(n),e)})})}var o=arguments.length;if(o<3){if("string"!=typeof t){o<2&&(r="");for(e in t)this.style(e,t[e],r);return this}e=""}return $i(this,"style."+t,r,i)},Hc.styleTween=function(t,r,e){function a(a,i){var o=r.call(this,a,i,n(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(n){this.style.setProperty(t,o(n),e)}}return arguments.length<3&&(e=""),this.tween("style."+t,a)},Hc.text=function(t){return $i(this,"text",t,Wi)},Hc.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var n;this[t].count<2&&(n=this.parentNode)&&n.removeChild(this)})},Hc.ease=function(t){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof t&&(t=uo.ease.apply(uo,arguments)),I(this,function(e){e[r][n].ease=t}))},Hc.delay=function(t){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].delay:I(this,"function"==typeof t?function(e,a,i){e[r][n].delay=+t.call(e,e.__data__,a,i)}:(t=+t,function(e){e[r][n].delay=t}))},Hc.duration=function(t){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].duration:I(this,"function"==typeof t?function(e,a,i){e[r][n].duration=Math.max(1,t.call(e,e.__data__,a,i))}:(t=Math.max(1,t),function(e){e[r][n].duration=t}))},Hc.each=function(t,n){var r=this.id,e=this.namespace;if(arguments.length<2){var a=Fc,i=Uc;try{Uc=r,I(this,function(n,a,i){Fc=n[e][r],t.call(n,n.__data__,a,i)})}finally{Fc=a,Uc=i}}else I(this,function(a){var i=a[e][r];(i.event||(i.event=uo.dispatch("start","end","interrupt"))).on(t,n)});return this},Hc.transition=function(){for(var t,n,r,e,a=this.id,i=++Oc,o=this.namespace,u=[],c=0,s=this.length;c<s;c++){u.push(t=[]);for(var n=this[c],l=0,f=n.length;l<f;l++)(r=n[l])&&(e=r[o][a],Ki(r,l,o,i,{time:e.time,ease:e.ease,delay:e.delay+e.duration,duration:e.duration})),t.push(r)}return Xi(u,o,i)},uo.svg.axis=function(){function t(t){t.each(function(){var t,s=uo.select(this),l=this.__chart__||r,f=this.__chart__=r.copy(),h=null==c?f.ticks?f.ticks.apply(f,u):f.domain():c,v=null==n?f.tickFormat?f.tickFormat.apply(f,u):y:n,g=s.selectAll(".tick").data(h,f),p=g.enter().insert("g",".domain").attr("class","tick").style("opacity",Po),M=uo.transition(g.exit()).style("opacity",Po).remove(),d=uo.transition(g.order()).style("opacity",1),m=Math.max(a,0)+o,x=Ya(f),b=s.selectAll(".domain").data([0]),w=(b.enter().append("path").attr("class","domain"),uo.transition(b));p.append("line"),p.append("text");var _,S,E,q,k=p.select("line"),N=d.select("line"),A=g.select("text").text(v),C=p.select("text"),T=d.select("text"),R="top"===e||"left"===e?-1:1;if("bottom"===e||"top"===e?(t=to,_="x",E="y",S="x2",q="y2",A.attr("dy",R<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+x[0]+","+R*i+"V0H"+x[1]+"V"+R*i)):(t=no,_="y",E="x",S="y2",q="x2",A.attr("dy",".32em").style("text-anchor",R<0?"end":"start"),w.attr("d","M"+R*i+","+x[0]+"H0V"+x[1]+"H"+R*i)),k.attr(q,R*a),C.attr(E,R*m),N.attr(S,0).attr(q,R*a),T.attr(_,0).attr(E,R*m),f.rangeBand){var z=f,L=z.rangeBand()/2;l=f=function(t){return z(t)+L}}else l.rangeBand?l=f:M.call(t,f,l);p.call(t,l,f),d.call(t,f,f)})}var n,r=uo.scale.linear(),e=Ic,a=6,i=6,o=3,u=[10],c=null;return t.scale=function(n){return arguments.length?(r=n,t):r},t.orient=function(n){return arguments.length?(e=n in Yc?n+"":Ic,t):e},t.ticks=function(){return arguments.length?(u=so(arguments),t):u},t.tickValues=function(n){return arguments.length?(c=n,t):c},t.tickFormat=function(r){return arguments.length?(n=r,t):n},t.tickSize=function(n){var r=arguments.length;return r?(a=+n,i=+arguments[r-1],t):a},t.innerTickSize=function(n){return arguments.length?(a=+n,t):a},t.outerTickSize=function(n){return arguments.length?(i=+n,t):i},t.tickPadding=function(n){return arguments.length?(o=+n,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var Ic="bottom",Yc={top:1,right:1,bottom:1,left:1};uo.svg.brush=function(){function t(n){n.each(function(){var n=uo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=n.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),n.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var u=n.selectAll(".resize").data(p,y);u.exit().remove(),u.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Zc[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),u.style("display",t.empty()?"none":null);var c,f=uo.transition(n),h=uo.transition(o);s&&(c=Ya(s),h.attr("x",c[0]).attr("width",c[1]-c[0]),e(f)),l&&(c=Ya(l),h.attr("y",c[0]).attr("height",c[1]-c[0]),a(f)),r(f)})}function r(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+f[+/e$/.test(t)]+","+h[+/^s/.test(t)]+")"})}function e(t){t.select(".extent").attr("x",f[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",f[1]-f[0])}function a(t){t.select(".extent").attr("y",h[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function i(){function i(){32==uo.event.keyCode&&(A||(m=null,T[0]-=f[1],T[1]-=h[1],A=2),S())}function p(){32==uo.event.keyCode&&2==A&&(T[0]+=f[1],T[1]+=h[1],A=0,S())}function M(){var t=uo.mouse(b),n=!1;x&&(t[0]+=x[0],t[1]+=x[1]),A||(uo.event.altKey?(m||(m=[(f[0]+f[1])/2,(h[0]+h[1])/2]),T[0]=f[+(t[0]<m[0])],T[1]=h[+(t[1]<m[1])]):m=null),k&&d(t,s,0)&&(e(E),n=!0),N&&d(t,l,1)&&(a(E),n=!0),n&&(r(E),_({type:"brush",mode:A?"move":"resize"}))}function d(t,n,r){var e,a,i=Ya(n),c=i[0],s=i[1],l=T[r],p=r?h:f,M=p[1]-p[0];if(A&&(c-=l,s-=M+l),e=(r?g:v)?Math.max(c,Math.min(s,t[r])):t[r],A?a=(e+=l)+M:(m&&(l=Math.max(c,Math.min(s,2*m[r]-e))),l<e?(a=e,e=l):a=l),p[0]!=e||p[1]!=a)return r?u=null:o=null,p[0]=e,p[1]=a,!0}function y(){M(),E.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),uo.select("body").style("cursor",null),R.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),C(),_({type:"brushend"})}var m,x,b=this,w=uo.select(uo.event.target),_=c.of(b,arguments),E=uo.select(b),q=w.datum(),k=!/^(n|s)$/.test(q)&&s,N=!/^(e|w)$/.test(q)&&l,A=w.classed("extent"),C=X(b),T=uo.mouse(b),R=uo.select(n(b)).on("keydown.brush",i).on("keyup.brush",p);if(uo.event.changedTouches?R.on("touchmove.brush",M).on("touchend.brush",y):R.on("mousemove.brush",M).on("mouseup.brush",y),E.interrupt().selectAll("*").interrupt(),A)T[0]=f[0]-T[0],T[1]=h[0]-T[1];else if(q){var z=+/w$/.test(q),L=+/^n/.test(q);x=[f[1-z]-T[0],h[1-L]-T[1]],T[0]=f[z],T[1]=h[L]}else uo.event.altKey&&(m=T.slice());E.style("pointer-events","none").selectAll(".resize").style("display",null),uo.select("body").style("cursor",w.style("cursor")),_({type:"brushstart"}),M()}var o,u,c=q(t,"brushstart","brush","brushend"),s=null,l=null,f=[0,0],h=[0,0],v=!0,g=!0,p=Bc[0];return t.event=function(t){t.each(function(){var t=c.of(this,arguments),n={x:f,y:h,i:o,j:u},r=this.__chart__||n;this.__chart__=n,Uc?uo.select(this).transition().each("start.brush",function(){o=r.i,u=r.j,f=r.x,h=r.y,t({type:"brushstart"})}).tween("brush:brush",function(){var r=xe(f,n.x),e=xe(h,n.y);return o=u=null,function(a){f=n.x=r(a),h=n.y=e(a),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=n.i,u=n.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(n){return arguments.length?(s=n,p=Bc[!s<<1|!l],t):s},t.y=function(n){return arguments.length?(l=n,p=Bc[!s<<1|!l],t):l},t.clamp=function(n){return arguments.length?(s&&l?(v=!!n[0],g=!!n[1]):s?v=!!n:l&&(g=!!n),t):s&&l?[v,g]:s?v:l?g:null},t.extent=function(n){var r,e,a,i,c;return arguments.length?(s&&(r=n[0],e=n[1],l&&(r=r[0],e=e[0]),o=[r,e],s.invert&&(r=s(r),e=s(e)),e<r&&(c=r,r=e,e=c),r==f[0]&&e==f[1]||(f=[r,e])),l&&(a=n[0],i=n[1],s&&(a=a[1],i=i[1]),u=[a,i],l.invert&&(a=l(a),i=l(i)),i<a&&(c=a,a=i,i=c),a==h[0]&&i==h[1]||(h=[a,i])),t):(s&&(o?(r=o[0],e=o[1]):(r=f[0],e=f[1],s.invert&&(r=s.invert(r),e=s.invert(e)),e<r&&(c=r,r=e,e=c))),l&&(u?(a=u[0],i=u[1]):(a=h[0],i=h[1],l.invert&&(a=l.invert(a),i=l.invert(i)),i<a&&(c=a,a=i,i=c))),s&&l?[[r,a],[e,i]]:s?[r,e]:l&&[a,i])},t.clear=function(){return t.empty()||(f=[0,0],h=[0,0],o=u=null),t},t.empty=function(){return!!s&&f[0]==f[1]||!!l&&h[0]==h[1]},uo.rebind(t,c,"on")};var Zc={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Bc=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Vc=hu.format=yu.timeFormat,Gc=Vc.utc,Xc=Gc("%Y-%m-%dT%H:%M:%S.%LZ");Vc.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ro:Xc,ro.parse=function(t){var n=new Date(t);return isNaN(n)?null:n},ro.toString=Xc.toString,hu.second=Qt(function(t){return new vu(1e3*Math.floor(t/1e3))},function(t,n){t.setTime(t.getTime()+1e3*Math.floor(n))},function(t){return t.getSeconds()}),hu.seconds=hu.second.range,hu.seconds.utc=hu.second.utc.range,hu.minute=Qt(function(t){return new vu(6e4*Math.floor(t/6e4))},function(t,n){t.setTime(t.getTime()+6e4*Math.floor(n))},function(t){return t.getMinutes()}),hu.minutes=hu.minute.range,hu.minutes.utc=hu.minute.utc.range,hu.hour=Qt(function(t){var n=t.getTimezoneOffset()/60;return new vu(36e5*(Math.floor(t/36e5-n)+n))},function(t,n){t.setTime(t.getTime()+36e5*Math.floor(n))},function(t){return t.getHours()}),hu.hours=hu.hour.range,hu.hours.utc=hu.hour.utc.range,hu.month=Qt(function(t){return t=hu.day(t),t.setDate(1),t},function(t,n){t.setMonth(t.getMonth()+n)},function(t){return t.getMonth()}),hu.months=hu.month.range,hu.months.utc=hu.month.utc.range;var $c=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Wc=[[hu.second,1],[hu.second,5],[hu.second,15],[hu.second,30],[hu.minute,1],[hu.minute,5],[hu.minute,15],[hu.minute,30],[hu.hour,1],[hu.hour,3],[hu.hour,6],[hu.hour,12],[hu.day,1],[hu.day,2],[hu.week,1],[hu.month,1],[hu.month,3],[hu.year,1]],Jc=Vc.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Cn]]),Kc={range:function(t,n,r){return uo.range(Math.ceil(t/r)*r,+n,r).map(ao)},floor:y,ceil:y};Wc.year=hu.year,hu.scale=function(){return eo(uo.scale.linear(),Wc,Jc)};var ts=Wc.map(function(t){return[t[0].utc,t[1]]}),ns=Gc.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Cn]]);ts.year=hu.year.utc,hu.scale.utc=function(){return eo(uo.scale.linear(),ts,ns)},uo.text=kt(function(t){return t.responseText}),uo.json=function(t,n){return Nt(t,"application/json",io,n)},uo.html=function(t,n){return Nt(t,"text/html",oo,n)},uo.xml=kt(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=uo,define(uo)):"object"==typeof module&&module.exports?module.exports=uo:this.d3=uo}(),function(){function t(t,r){return{type:"Feature",id:t.id,properties:t.properties,geometry:n(t.geometry,r)}}function n(t,r){if(!t)return null;if("GeometryCollection"===t.type)return{type:"GeometryCollection",geometries:object.geometries.map(function(t){return n(t,r)})};if(!pn.hasOwnProperty(t.type))return null;var e=pn[t.type];return d3.geo.stream(t,r(e)),e.result()}function r(){}function e(t){if((n=t.length)<4)return!1;for(var n,r=0,e=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++r<n;)e+=t[r-1][1]*t[r][0]-t[r-1][0]*t[r][1];return e<=0}function a(t,n){for(var r=n[0],e=n[1],a=!1,i=0,o=t.length,u=o-1;i<o;u=i++){var c=t[i],s=c[0],l=c[1],f=t[u],h=f[0],v=f[1];l>e^v>e&&r<(h-s)*(e-l)/(v-l)+s&&(a=!a)}return a}function i(t){return t?t/Math.sin(t):1}function o(t){return t>0?1:t<0?-1:0}function u(t){return t>1?mn:t<-1?-mn:Math.asin(t)}function c(t){return t>1?0:t<-1?yn:Math.acos(t)}function s(t){return t>0?Math.sqrt(t):0}function l(t){function n(t,n){var r=Math.cos(t),a=Math.cos(n),i=Math.sin(n),o=a*r,u=-((1-o?Math.log(.5*(1+o))/(1-o):-.5)+e/(1+o));return[u*a*Math.sin(t),u*i]}var r=Math.tan(.5*t),e=2*Math.log(Math.cos(.5*t))/(r*r);return n.invert=function(n,r){var a,i=Math.sqrt(n*n+r*r),o=t*-.5,c=50;if(!i)return[0,0];do{var s=.5*o,l=Math.cos(s),f=Math.sin(s),h=Math.tan(s),v=Math.log(1/l);o-=a=(2/h*v-e*h-i)/(-v/(f*f)+1-e/(2*l*l))}while(Math.abs(a)>Mn&&--c>0);var g=Math.sin(o);return[Math.atan2(n*g,i*Math.cos(o)),u(r*g/i)]},n}function f(){var t=mn,n=Sn(l),r=n(t);return r.radius=function(r){return arguments.length?n(t=r*yn/180):t/yn*180},r}function h(t,n){var r=Math.cos(n),e=i(c(r*Math.cos(t/=2)));return[2*r*Math.sin(t)*e,Math.sin(n)*e]}function v(t){function n(t,n){var u=Math.cos(n),c=Math.cos(t/=2);return[(1+u)*Math.sin(t),(a*n>-Math.atan2(c,i)-.001?0:10*-a)+o+Math.sin(n)*e-(1+u)*r*c]}var r=Math.sin(t),e=Math.cos(t),a=t>0?1:-1,i=Math.tan(a*t),o=(1+r-e)/2;return n.invert=function(t,n){var u=0,c=0,s=50;do{var l=Math.cos(u),f=Math.sin(u),h=Math.cos(c),v=Math.sin(c),g=1+h,p=g*f-t,M=o+v*e-g*r*l-n,d=.5*g*l,y=-f*v,m=.5*r*g*f,x=e*h+r*l*v,b=y*m-x*d,w=.5*(M*y-p*x)/b,_=(p*m-M*d)/b;u-=w,c-=_}while((Math.abs(w)>Mn||Math.abs(_)>Mn)&&--s>0);return a*c>-Math.atan2(Math.cos(u),i)-.001?[2*u,c]:null},n}function g(){var t=yn/9,n=t>0?1:-1,r=Math.tan(n*t),e=Sn(v),a=e(t),i=a.stream;return a.parallel=function(a){return arguments.length?(r=Math.tan((n=(t=a*yn/180)>0?1:-1)*t),e(t)):t/yn*180},a.stream=function(e){var o=a.rotate(),u=i(e),c=(a.rotate([0,0]),i(e));return a.rotate(o),u.sphere=function(){c.polygonStart(),c.lineStart();for(var e=n*-180;n*e<180;e+=90*n)c.point(e,90*n);for(;n*(e-=t)>=-180;)c.point(e,n*-Math.atan2(Math.cos(e*bn/2),r)*wn);c.lineEnd(),c.polygonEnd()},u},a}function p(t){return t=Math.exp(2*t),(t-1)/(t+1)}function M(t){return.5*(Math.exp(t)-Math.exp(-t))}function d(t){return.5*(Math.exp(t)+Math.exp(-t))}function y(t){return Math.log(t+s(t*t+1))}function m(t){return Math.log(t+s(t*t-1))}function x(t,n){var r=Math.tan(n/2),e=s(1-r*r),a=1+e*Math.cos(t/=2),i=Math.sin(t)*e/a,o=r/a,u=i*i,c=o*o;return[4/3*i*(3+u-3*c),4/3*o*(3+3*u-c)]}function b(t,n){var r=Math.abs(n);return r<yn/4?[t,Math.log(Math.tan(yn/4+n/2))]:[t*Math.cos(r)*(2*Math.SQRT2-1/Math.sin(r)),o(n)*(2*Math.SQRT2*(r-yn/4)-Math.log(Math.tan(r/2)))]}function w(t){function n(t,n){var e=qn(t,n);if(Math.abs(t)>mn){var a=Math.atan2(e[1],e[0]),i=Math.sqrt(e[0]*e[0]+e[1]*e[1]),o=r*Math.round((a-mn)/r)+mn,c=Math.atan2(Math.sin(a-=o),2-Math.cos(a));a=o+u(yn/i*Math.sin(c))-c,e[0]=i*Math.cos(a),e[1]=i*Math.sin(a)}return e}var r=2*yn/t;return n.invert=function(t,n){var e=Math.sqrt(t*t+n*n);if(e>mn){var a=Math.atan2(n,t),i=r*Math.round((a-mn)/r)+mn,o=a>i?-1:1,u=e*Math.cos(i-a),c=1/Math.tan(o*Math.acos((u-yn)/Math.sqrt(yn*(yn-2*u)+e*e)));a=i+2*Math.atan((c+o*Math.sqrt(c*c-3))/3),t=e*Math.cos(a),n=e*Math.sin(a)}return qn.invert(t,n)},n}function _(){var t=5,n=Sn(w),r=n(t),e=r.stream,a=.01,i=-Math.cos(a*bn),o=Math.sin(a*bn);return r.lobes=function(r){return arguments.length?n(t=+r):t},r.stream=function(n){var c=r.rotate(),s=e(n),l=(r.rotate([0,0]),e(n));return r.rotate(c),s.sphere=function(){l.polygonStart(),l.lineStart();for(var n=0,r=360/t,e=2*yn/t,c=90-180/t,s=mn;n<t;++n,c-=r,s-=e)l.point(Math.atan2(o*Math.cos(s),i)*wn,u(o*Math.sin(s))*wn),c<-90?(l.point(-90,-180-c-a),l.point(-90,-180-c+a)):(l.point(90,c+a),l.point(90,c-a));l.lineEnd(),l.polygonEnd()},s},r}function S(t){return function(n){var r,e=t*Math.sin(n),a=30;do n-=r=(n+Math.sin(n)-e)/(1+Math.cos(n));while(Math.abs(r)>Mn&&--a>0);return n/2}}function E(t,n,r){function e(r,e){return[t*r*Math.cos(e=a(e)),n*Math.sin(e)]}var a=S(r);return e.invert=function(e,a){var i=u(a/n);return[e/(t*Math.cos(i)),u((2*i+Math.sin(2*i))/r)]},e}function q(t,n){var r=2.00276,e=kn(n);return[r*t/(1/Math.cos(n)+1.11072/Math.cos(e)),(n+Math.SQRT2*Math.sin(e))/r]}function k(t){var n=0,r=Sn(t),e=r(n);return e.parallel=function(t){return arguments.length?r(n=t*yn/180):n/yn*180},e}function N(t,n){return[t*Math.cos(n),n]}function A(t){function n(n,e){var a=r+t-e,i=a?n*Math.cos(e)/a:a;return[a*Math.sin(i),r-a*Math.cos(i)]}if(!t)return N;var r=1/Math.tan(t);return n.invert=function(n,e){var a=Math.sqrt(n*n+(e=r-e)*e),i=r+t-a;return[a/Math.cos(i)*Math.atan2(n,e),i]},n}function C(t){function n(t,n){var e=mn-n,a=e?t*r*Math.sin(e)/e:e;return[e*Math.sin(a)/r,mn-e*Math.cos(a)]}var r=Math.sin(t);return n.invert=function(t,n){var e=t*r,a=mn-n,i=Math.sqrt(e*e+a*a),o=Math.atan2(e,a);return[(i?i/Math.sin(i):1)*o/r,mn-i]},n}function T(t){function n(n,r){for(var e=Math.sin(r),a=Math.cos(r),i=new Array(3),s=0;s<3;++s){var l=t[s];if(i[s]=z(r-l[1],l[3],l[2],a,e,n-l[0]),!i[s][0])return l.point;i[s][1]=P(i[s][1]-l.v[1])}for(var f=c.slice(),s=0;s<3;++s){var h=2==s?0:s+1,v=L(t[s].v[0],i[s][0],i[h][0]);i[s][1]<0&&(v=-v),s?1==s?(v=o-v,f[0]-=i[s][0]*Math.cos(v),f[1]-=i[s][0]*Math.sin(v)):(v=u-v,f[0]+=i[s][0]*Math.cos(v),f[1]+=i[s][0]*Math.sin(v)):(f[0]+=i[s][0]*Math.cos(v),f[1]-=i[s][0]*Math.sin(v))}return f[0]/=3,f[1]/=3,f}t=t.map(function(t){return[t[0],t[1],Math.sin(t[1]),Math.cos(t[1])]});for(var r,e=t[2],a=0;a<3;++a,e=r)r=t[a],e.v=z(r[1]-e[1],e[3],e[2],r[3],r[2],r[0]-e[0]),e.point=[0,0];var i=L(t[0].v[0],t[2].v[0],t[1].v[0]),o=L(t[0].v[0],t[1].v[0],t[2].v[0]),u=yn-i;t[2].point[1]=0,t[0].point[0]=-(t[1].point[0]=.5*t[0].v[0]);var c=[t[2].point[0]=t[0].point[0]+t[2].v[0]*Math.cos(i),2*(t[0].point[1]=t[1].point[1]=t[2].v[0]*Math.sin(i))];return n}function R(){var t=[[0,0],[0,0],[0,0]],n=Sn(T),r=n(t),e=r.rotate;return delete r.rotate,r.points=function(a){if(!arguments.length)return t;t=a;var i=d3.geo.centroid({type:"MultiPoint",coordinates:t}),o=[-i[0],-i[1]];return e.call(r,o),n(t.map(d3.geo.rotation(o)).map(D))},r.points([[-150,55],[-35,55],[-92.5,10]])}function z(t,n,r,e,a,i){var o,s=Math.cos(i);if(Math.abs(t)>1||Math.abs(i)>1)o=c(r*a+n*e*s);else{var l=Math.sin(.5*t),f=Math.sin(.5*i);o=2*u(Math.sqrt(l*l+n*e*f*f))}return Math.abs(o)>Mn?[o,Math.atan2(e*Math.sin(i),n*a-r*e*s)]:[0,0]}function L(t,n,r){return c(.5*(t*t+n*n-r*r)/(t*n))}function P(t){return t-2*yn*Math.floor((t+yn)/(2*yn))}function D(t){return[t[0]*bn,t[1]*bn]}function j(t,n){var r=s(1-Math.sin(n));return[2/xn*t*r,xn*(1-r)]}function U(t){function n(t,n){return[t,(t?t/Math.sin(t):1)*(Math.sin(n)*Math.cos(t)-r*Math.cos(n))]}var r=Math.tan(t);return n.invert=r?function(t,n){t&&(n*=Math.sin(t)/t);var e=Math.cos(t);return[t,2*Math.atan2(Math.sqrt(e*e+r*r-n*n)-e,r-n)]}:function(t,n){return[t,u(t?n*Math.tan(t)/t:n)]},n}function F(t,n){var r=Math.sqrt(3);return[r*t*(2*Math.cos(2*n/3)-1)/xn,r*xn*Math.sin(n/3)]}function Q(t){function n(t,n){return[t*r,Math.sin(n)/r]}var r=Math.cos(t);return n.invert=function(t,n){return[t/r,u(n*r)]},n}function H(t){function n(t,n){return[t*r,(1+r)*Math.tan(.5*n)]}var r=Math.cos(t);return n.invert=function(t,n){return[t/r,2*Math.atan(n/(1+r))]},n}function O(t,n){var r=Math.sqrt(8/(3*yn));return[r*t*(1-Math.abs(n)/yn),r*n]}function I(t,n){var r=Math.sqrt(4-3*Math.sin(Math.abs(n)));return[2/Math.sqrt(6*yn)*t*r,o(n)*Math.sqrt(2*yn/3)*(2-r)]}function Y(t,n){var r=Math.sqrt(yn*(4+yn));return[2/r*t*(1+Math.sqrt(1-4*n*n/(yn*yn))),4/r*n]}function Z(t,n){var r=(2+mn)*Math.sin(n);n/=2;for(var e=0,a=1/0;e<10&&Math.abs(a)>Mn;e++){var i=Math.cos(n);n-=a=(n+Math.sin(n)*(i+2)-r)/(2*i*(1+i))}return[2/Math.sqrt(yn*(4+yn))*t*(1+Math.cos(n)),2*Math.sqrt(yn/(4+yn))*Math.sin(n)]}function B(t,n){return[t*(1+Math.cos(n))/Math.sqrt(2+yn),2*n/Math.sqrt(2+yn)]}function V(t,n){for(var r=(1+mn)*Math.sin(n),e=0,a=1/0;e<10&&Math.abs(a)>Mn;e++)n-=a=(n+Math.sin(n)-r)/(1+Math.cos(n));
return r=Math.sqrt(2+yn),[t*(1+Math.cos(n))/r,2*n/r]}function G(t,n){var r=Math.sin(t/=2),e=Math.cos(t),a=Math.sqrt(Math.cos(n)),i=Math.cos(n/=2),o=Math.sin(n)/(i+Math.SQRT2*e*a),u=Math.sqrt(2/(1+o*o)),c=Math.sqrt((Math.SQRT2*i+(e+r)*a)/(Math.SQRT2*i+(e-r)*a));return[Cn*(u*(c-1/c)-2*Math.log(c)),Cn*(u*o*(c+1/c)-2*Math.atan(o))]}function X(t,n){var r=Math.tan(n/2);return[t*Tn*s(1-r*r),(1+Tn)*r]}function $(t,n){var r=n/2,e=Math.cos(r);return[2*t/xn*Math.cos(n)*e*e,xn*Math.tan(r)]}function W(t,n){function r(n,r){var i=Rn(n,r),o=i[0],u=i[1],c=o*o+u*u;if(c>a){var s=Math.sqrt(c),l=Math.atan2(u,o),f=e*Math.round(l/e),h=l-f,v=t*Math.cos(h),g=(t*Math.sin(h)-h*Math.sin(v))/(mn-v),p=J(h,g),M=(yn-t)/tt(p,v,yn);o=s;var d,y=50;do o-=d=(t+tt(p,v,o)*M-s)/(p(o)*M);while(Math.abs(d)>Mn&&--y>0);u=h*Math.sin(o),o<mn&&(u-=g*(o-mn));var m=Math.sin(f),x=Math.cos(f);i[0]=o*x-u*m,i[1]=o*m+u*x}return i}var e=2*yn/n,a=t*t;return r.invert=function(n,r){var i=n*n+r*r;if(i>a){var o=Math.sqrt(i),u=Math.atan2(r,n),c=e*Math.round(u/e),s=u-c,n=o*Math.cos(s);r=o*Math.sin(s);for(var l=n-mn,f=Math.sin(n),h=r/f,v=n<mn?1/0:0,g=10;;){var p=t*Math.sin(h),M=t*Math.cos(h),d=Math.sin(M),y=mn-M,m=(p-h*d)/y,x=J(h,m);if(Math.abs(v)<dn||!--g)break;h-=v=(h*f-m*l-r)/(f-2*l*(y*(M+h*p*Math.cos(M)-d)-p*(p-h*d))/(y*y))}o=t+tt(x,M,n)*(yn-t)/tt(x,M,yn),u=c+h,n=o*Math.cos(u),r=o*Math.sin(u)}return Rn.invert(n,r)},r}function J(t,n){return function(r){var e=t*Math.cos(r);return r<mn&&(e-=n),Math.sqrt(1+e*e)}}function K(){var t=6,n=30*bn,r=Math.cos(n),e=Math.sin(n),a=Sn(W),i=a(n,t),o=i.stream,u=.01,c=-Math.cos(u*bn),s=Math.sin(u*bn);return i.radius=function(i){return arguments.length?(r=Math.cos(n=i*bn),e=Math.sin(n),a(n,t)):n*wn},i.lobes=function(r){return arguments.length?a(n,t=+r):t},i.stream=function(n){var a=i.rotate(),u=o(n),l=(i.rotate([0,0]),o(n));return i.rotate(a),u.sphere=function(){l.polygonStart(),l.lineStart();for(var n=0,a=2*yn/t,i=0;n<t;++n,i-=a)l.point(Math.atan2(s*Math.cos(i),c)*wn,Math.asin(s*Math.sin(i))*wn),l.point(Math.atan2(e*Math.cos(i-a/2),r)*wn,Math.asin(e*Math.sin(i-a/2))*wn);l.lineEnd(),l.polygonEnd()},u},i}function tt(t,n,r){for(var e=50,a=(r-n)/e,i=t(n)+t(r),o=1,u=n;o<e;++o)i+=2*t(u+=a);return.5*i*a}function nt(t,n,r,e,a,i,o,u){function c(c,s){if(!s)return[t*c/yn,0];var l=s*s,f=t+l*(n+l*(r+l*e)),h=s*(a-1+l*(i-u+l*o)),v=(f*f+h*h)/(2*h),g=c*Math.asin(f/v)/yn;return[v*Math.sin(g),s*(1+l*u)+v*(1-Math.cos(g))]}return arguments.length<8&&(u=0),c.invert=function(c,l){var f,h,v=yn*c/t,g=l,p=50;do{var M=g*g,d=t+M*(n+M*(r+M*e)),y=g*(a-1+M*(i-u+M*o)),m=d*d+y*y,x=2*y,b=m/x,w=b*b,_=Math.asin(d/b)/yn,S=v*_;if(xB2=d*d,dxBd=(2*n+M*(4*r+6*M*e))*g,dyBd=a+M*(3*i+5*M*o),dpd=2*(d*dxBd+y*(dyBd-1)),dqd=2*(dyBd-1),dmd=(dpd*x-m*dqd)/(x*x),cos=Math.cos(S),sin=Math.sin(S),mcos=b*cos,msin=b*sin,dd=v/yn*(1/s(1-xB2/w))*(dxBd*b-d*dmd)/w,fx=msin-c,fy=g*(1+M*u)+b-mcos-l,x=dmd*sin+mcos*dd,x=mcos*_,y=1+dmd-(dmd*cos-msin*dd),y=msin*_,denominator=x*y-y*x,!denominator)break;v-=f=(fy*x-fx*y)/denominator,g-=h=(fx*y-fy*x)/denominator}while((Math.abs(f)>Mn||Math.abs(h)>Mn)&&--p>0);return[v,g]},c}function rt(t,n){var r=t*t,e=n*n;return[t*(1-.162388*e)*(.87-952426e-9*r*r),n*(1+e/12)]}function et(t){function n(){var t=!1,n=Sn(r),e=n(t);return e.quincuncial=function(r){return arguments.length?n(t=!!r):t},e}function r(n){var r=n?function(n,r){var a=Math.abs(n)<mn,i=t(a?n:n>0?n-yn:n+yn,r),u=(i[0]-i[1])*Math.SQRT1_2,c=(i[0]+i[1])*Math.SQRT1_2;if(a)return[u,c];var s=e*Math.SQRT1_2,l=u>0^c>0?-1:1;return[l*u-o(c)*s,l*c-o(u)*s]}:function(n,r){var a=n>0?-.5:.5,i=t(n+a*yn,r);return i[0]-=a*e,i};return t.invert&&(r.invert=n?function(n,r){var a=(n+r)*Math.SQRT1_2,i=(r-n)*Math.SQRT1_2,o=Math.abs(a)<.5*e&&Math.abs(i)<.5*e;if(!o){var u=e*Math.SQRT1_2,c=a>0^i>0?-1:1,s=-c*(n+(i>0?1:-1)*u),l=-c*(r+(a>0?1:-1)*u);a=(-s-l)*Math.SQRT1_2,i=(s-l)*Math.SQRT1_2}var f=t.invert(a,i);return o||(f[0]+=a>0?yn:-yn),f}:function(n,r){var a=n>0?-.5:.5,i=t.invert(n+a*e,r),o=i[0]-a*yn;return o<-yn?o+=2*yn:o>yn&&(o-=2*yn),i[0]=o,i}),r}var e=t(mn,0)[0]-t(-mn,0)[0];return n.raw=r,n}function at(t,n){var r=o(t),e=o(n),a=Math.cos(n),i=Math.cos(t)*a,c=Math.sin(t)*a,s=Math.sin(e*n);t=Math.abs(Math.atan2(c,s)),n=u(i),Math.abs(t-mn)>Mn&&(t%=mn);var l=it(t>yn/4?mn-t:t,n);return t>yn/4&&(s=l[0],l[0]=-l[1],l[1]=-s),l[0]*=r,l[1]*=-e,l}function it(t,n){if(n===mn)return[0,0];var r=Math.sin(n),e=r*r,a=e*e,i=1+a,o=1+3*a,c=1-a,l=u(1/Math.sqrt(i)),f=c+e*i*l,h=(1-r)/f,v=Math.sqrt(h),g=h*i,p=Math.sqrt(g),M=v*c;if(0===t)return[0,-(M+e*p)];var d=Math.cos(n),y=1/d,m=2*r*d,x=(-3*e+l*o)*m,b=(-f*d-(1-r)*x)/(f*f),w=.5*b/v,_=c*w-2*e*v*m,S=e*i*b+h*o*m,E=-y*m,q=-y*S,k=-2*y*_,N=4*t/yn;if(t>.222*yn||n<yn/4&&t>.175*yn){var A=(M+e*s(g*(1+a)-M*M))/(1+a);if(t>yn/4)return[A,A];var C=A,T=.5*A,R=50;A=.5*(T+C);do{var z=Math.sqrt(g-A*A),L=A*(k+E*z)+q*u(A/p)-N;if(!L)break;L<0?T=A:C=A,A=.5*(T+C)}while(Math.abs(C-T)>Mn&&--R>0)}else{var P,A=Mn,R=25;do{var D=A*A,z=s(g-D),j=k+E*z,L=A*j+q*u(A/p)-N,U=j+(q-E*D)/z;A-=P=z?L/U:0}while(Math.abs(P)>Mn&&--R>0)}return[A,-M-e*s(g-A*A)]}function ot(t,n){for(var r=0,e=1,a=.5,i=50;;){var o=a*a,u=Math.sqrt(a),c=Math.asin(1/Math.sqrt(1+o)),s=1-o+a*(1+o)*c,l=(1-u)/s,f=Math.sqrt(l),h=l*(1+o),v=f*(1-o),g=h-t*t,p=Math.sqrt(g),M=n+v+a*p;if(Math.abs(e-r)<dn||0===--i||0===M)break;M>0?r=a:e=a,a=.5*(r+e)}if(!i)return null;var d=Math.asin(u),y=Math.cos(d),m=1/y,x=2*u*y,b=(-3*a+c*(1+3*o))*x,w=(-s*y-(1-u)*b)/(s*s),_=.5*w/f,S=(1-o)*_-2*a*f*x,E=-2*m*S,q=-m*x,k=-m*(a*(1+o)*w+l*(1+3*o)*x);return[yn/4*(t*(E+q*p)+k*Math.asin(t/Math.sqrt(h))),d]}function ut(t,n,r){if(!t){var e=ct(n,1-r);return[[0,e[0]/e[1]],[1/e[1],0],[e[2]/e[1],0]]}var a=ct(t,r);if(!n)return[[a[0],0],[a[1],0],[a[2],0]];var e=ct(n,1-r),i=e[1]*e[1]+r*a[0]*a[0]*e[0]*e[0];return[[a[0]*e[2]/i,a[1]*a[2]*e[0]*e[1]/i],[a[1]*e[1]/i,-a[0]*a[2]*e[0]*e[2]/i],[a[2]*e[1]*e[2]/i,-r*a[0]*a[1]*e[0]/i]]}function ct(t,n){var r,e,a,i,o;if(n<Mn)return i=Math.sin(t),e=Math.cos(t),r=.25*n*(t-i*e),[i-r*e,e+r*i,1-.5*n*i*i,t-r];if(n>=1-Mn)return r=.25*(1-n),e=d(t),i=p(t),a=1/e,o=e*M(t),[i+r*(o-t)/(e*e),a-r*i*a*(o-t),a+r*i*a*(o+t),2*Math.atan(Math.exp(t))-mn+r*(o-t)/e];var c=[1,0,0,0,0,0,0,0,0],l=[Math.sqrt(n),0,0,0,0,0,0,0,0],f=0;for(e=Math.sqrt(1-n),o=1;Math.abs(l[f]/c[f])>Mn&&f<8;)r=c[f++],l[f]=.5*(r-e),c[f]=.5*(r+e),e=s(r*e),o*=2;a=o*c[f]*t;do i=l[f]*Math.sin(e=a)/c[f],a=.5*(u(i)+a);while(--f);return[Math.sin(a),i=Math.cos(a),i/Math.cos(a-e),a]}function st(t,n,r){var e=Math.abs(t),a=Math.abs(n),i=M(a);if(e){var u=1/Math.sin(e),c=1/(Math.tan(e)*Math.tan(e)),l=-(c+r*i*i*u*u-1+r),f=(r-1)*c,h=.5*(-l+Math.sqrt(l*l-4*f));return[lt(Math.atan(1/Math.sqrt(h)),r)*o(t),lt(Math.atan(s((h/c-1)/r)),1-r)*o(n)]}return[0,lt(Math.atan(i),1-r)*o(n)]}function lt(t,n){if(!n)return t;if(1===n)return Math.log(Math.tan(t/2+yn/4));for(var r=1,e=Math.sqrt(1-n),a=Math.sqrt(n),i=0;Math.abs(a)>Mn;i++){if(t%yn){var o=Math.atan(e*Math.tan(t)/r);o<0&&(o+=yn),t+=o+~~(t/yn)*yn}else t+=t;a=(r+e)/2,e=Math.sqrt(r*e),a=((r=a)-e)/2}return t/(Math.pow(2,i)*r)}function ft(t,n){var r=(Math.SQRT2-1)/(Math.SQRT2+1),e=Math.sqrt(1-r*r),a=lt(mn,e*e),i=-1,o=Math.log(Math.tan(yn/4+Math.abs(n)/2)),u=Math.exp(i*o)/Math.sqrt(r),c=ht(u*Math.cos(i*t),u*Math.sin(i*t)),s=st(c[0],c[1],e*e);return[-s[1],(n>=0?1:-1)*(.5*a-s[0])]}function ht(t,n){var r=t*t,e=n+1,a=1-r-n*n;return[.5*((t>=0?mn:-mn)-Math.atan2(a,2*t)),-.25*Math.log(a*a+4*r)+.5*Math.log(e*e+r)]}function vt(t,n){var r=n[0]*n[0]+n[1]*n[1];return[(t[0]*n[0]+t[1]*n[1])/r,(t[1]*n[0]-t[0]*n[1])/r]}function gt(t){function n(t,n){var i=a(t,n);t=i[0],n=i[1];var o=Math.sin(n),u=Math.cos(n),s=Math.cos(t),l=c(r*o+e*u*s),f=Math.sin(l),h=Math.abs(f)>Mn?l/f:1;return[h*e*Math.sin(t),(Math.abs(t)>mn?h:-h)*(r*u-e*o*s)]}var r=Math.sin(t),e=Math.cos(t),a=pt(t);return a.invert=pt(-t),n.invert=function(t,n){var e=Math.sqrt(t*t+n*n),i=-Math.sin(e),o=Math.cos(e),u=e*o,c=-n*i,l=e*r,f=s(u*u+c*c-l*l),h=Math.atan2(u*l+c*f,c*l-u*f),v=(e>mn?-1:1)*Math.atan2(t*i,e*Math.cos(h)*o+n*Math.sin(h)*i);return a.invert(v,h)},n}function pt(t){var n=Math.sin(t),r=Math.cos(t);return function(t,e){var a=Math.cos(e),i=Math.cos(t)*a,o=Math.sin(t)*a,c=Math.sin(e);return[Math.atan2(o,i*r-c*n),u(c*r+i*n)]}}function Mt(){var t=0,n=Sn(gt),r=n(t),e=r.rotate,a=r.stream,i=d3.geo.circle();return r.parallel=function(e){if(!arguments.length)return t/yn*180;var a=r.rotate();return n(t=e*yn/180).rotate(a)},r.rotate=function(n){return arguments.length?(e.call(r,[n[0],n[1]-t/yn*180]),i.origin([-n[0],-n[1]]),r):(n=e.call(r),n[1]+=t/yn*180,n)},r.stream=function(t){return t=a(t),t.sphere=function(){t.polygonStart();var n,r=.01,e=i.angle(90-r)().coordinates[0],a=e.length-1,o=-1;for(t.lineStart();++o<a;)t.point((n=e[o])[0],n[1]);for(t.lineEnd(),e=i.angle(90+r)().coordinates[0],a=e.length-1,t.lineStart();--o>=0;)t.point((n=e[o])[0],n[1]);t.lineEnd(),t.polygonEnd()},t},r}function dt(t,n){function r(r,e){var a=jn(r/n,e);return a[0]*=t,a}return arguments.length<2&&(n=t),1===n?jn:n===1/0?mt:(r.invert=function(r,e){var a=jn.invert(r/t,e);return a[0]*=n,a},r)}function yt(){var t=2,n=Sn(dt),r=n(t);return r.coefficient=function(r){return arguments.length?n(t=+r):t},r}function mt(t,n){return[t*Math.cos(n)/Math.cos(n/=2),2*Math.sin(n)]}function xt(t,n){for(var r,e=Math.sin(n)*(n<0?2.43763:2.67595),a=0;a<20&&(n-=r=(n+Math.sin(n)-e)/(1+Math.cos(n)),!(Math.abs(r)<Mn));a++);return[.85*t*Math.cos(n*=.5),Math.sin(n)*(n<0?1.93052:1.75859)]}function bt(t){function n(n,l){var f,h=Math.abs(l);if(h>e){var v=Math.min(t-1,Math.max(0,Math.floor((n+yn)/s)));n+=yn*(t-1)/t-v*s,f=d3.geo.collignon.raw(n,h),f[0]=f[0]*a/i-a*(t-1)/(2*t)+v*a/t,f[1]=o+4*(f[1]-u)*c/a,l<0&&(f[1]=-f[1])}else f=r(n,l);return f[0]/=2,f}var r=d3.geo.cylindricalEqualArea.raw(0),e=Un*yn/180,a=2*yn,i=d3.geo.collignon.raw(yn,e)[0]-d3.geo.collignon.raw(-yn,e)[0],o=r(0,e)[1],u=d3.geo.collignon.raw(0,e)[1],c=d3.geo.collignon.raw(0,mn)[1]-u,s=2*yn/t;return n.invert=function(n,e){n*=2;var l=Math.abs(e);if(l>o){var f=Math.min(t-1,Math.max(0,Math.floor((n+yn)/s)));n=(n+yn*(t-1)/t-f*s)*i/a;var h=d3.geo.collignon.raw.invert(n,.25*(l-o)*a/c+u);return h[0]-=yn*(t-1)/t-f*s,e<0&&(h[1]=-h[1]),h}return r.invert(n,e)},n}function wt(){function t(){var t=180/n;return{type:"Polygon",coordinates:[d3.range(-180,180+t/2,t).map(function(t,n){return[t,1&n?90-1e-6:Un]}).concat(d3.range(180,-180-t/2,-t).map(function(t,n){return[t,1&n?-90+1e-6:-Un]}))]}}var n=2,r=Sn(bt),e=r(n),a=e.stream;return e.lobes=function(t){return arguments.length?r(n=+t):n},e.stream=function(n){var r=e.rotate(),i=a(n),o=(e.rotate([0,0]),a(n));return e.rotate(r),i.sphere=function(){d3.geo.stream(t(),o)},i},e}function _t(t){function n(n,a){var u,c,h=1-Math.sin(a);if(h&&h<2){var v,g=mn-a,p=25;do{var M=Math.sin(g),d=Math.cos(g),y=i+Math.atan2(M,e-d),m=1+f-2*e*d;g-=v=(g-l*i-e*M+m*y-.5*h*r)/(2*e*M*y)}while(Math.abs(v)>dn&&--p>0);u=o*Math.sqrt(m),c=n*y/yn}else u=o*(t+h),c=n*i/yn;return[u*Math.sin(c),s-u*Math.cos(c)]}var r,e=1+t,a=Math.sin(1/e),i=u(a),o=2*Math.sqrt(yn/(r=yn+4*i*e)),s=.5*o*(e+Math.sqrt(t*(2+t))),l=t*t,f=e*e;return n.invert=function(t,n){var a=t*t+(n-=s)*n,h=(1+f-a/(o*o))/(2*e),v=c(h),g=Math.sin(v),p=i+Math.atan2(g,e-h);return[u(t/Math.sqrt(a))*yn/p,u(1-2*(v-l*i-e*g+(1+f-2*e*h)*p)/r)]},n}function St(){var t=1,n=Sn(_t),r=n(t);return r.ratio=function(r){return arguments.length?n(t=+r):t},r}function Et(t,n){return n>-Fn?(t=Nn(t,n),t[1]+=Qn,t):N(t,n)}function qt(t,n){return Math.abs(n)>Fn?(t=Nn(t,n),t[1]-=n>0?Qn:-Qn,t):N(t,n)}function kt(t,n){return[3*t/(2*yn)*Math.sqrt(yn*yn/3-n*n),n]}function Nt(t){function n(n,r){if(Math.abs(Math.abs(r)-mn)<Mn)return[0,r<0?-2:2];var e=Math.sin(r),a=Math.pow((1+e)/(1-e),t/2),i=.5*(a+1/a)+Math.cos(n*=t);return[2*Math.sin(n)/i,(a-1/a)/i]}return n.invert=function(n,r){var e=Math.abs(r);if(Math.abs(e-2)<Mn)return n?null:[0,o(r)*mn];if(e>2)return null;n/=2,r/=2;var a=n*n,i=r*r,c=2*r/(1+a+i);return c=Math.pow((1+c)/(1-c),1/t),[Math.atan2(2*n,1-a-i)/t,u((c-1)/(c+1))]},n}function At(){var t=.5,n=Sn(Nt),r=n(t);return r.spacing=function(r){return arguments.length?n(t=+r):t},r}function Ct(t,n){return[t*(1+Math.sqrt(Math.cos(n)))/2,n/(Math.cos(n/2)*Math.cos(t/6))]}function Tt(t,n){var r=t*t,e=n*n;return[t*(.975534+e*(-.119161+r*-.0143059+e*-.0547009)),n*(1.00384+r*(.0802894+e*-.02855+199025e-9*r)+e*(.0998909+e*-.0491032))]}function Rt(t,n){return[Math.sin(t)/Math.cos(n),Math.tan(n)*Math.cos(t)]}function zt(t){function n(n,a){var i=a-t,o=Math.abs(i)<Mn?n*r:Math.abs(o=yn/4+a/2)<Mn||Math.abs(Math.abs(o)-mn)<Mn?0:n*i/Math.log(Math.tan(o)/e);return[o,i]}var r=Math.cos(t),e=Math.tan(yn/4+t/2);return n.invert=function(n,a){var i,o=a+t;return[Math.abs(a)<Mn?n/r:Math.abs(i=yn/4+o/2)<Mn||Math.abs(Math.abs(i)-mn)<Mn?0:n*Math.log(Math.tan(i)/e)/a,o]},n}function Lt(t,n){return[t,1.25*Math.log(Math.tan(yn/4+.4*n))]}function Pt(t){function n(n,e){for(var a,i=Math.cos(e),o=2/(1+i*Math.cos(n)),u=o*i*Math.sin(n),c=o*Math.sin(e),s=r,l=t[s],f=l[0],h=l[1];--s>=0;)l=t[s],f=l[0]+u*(a=f)-c*h,h=l[1]+u*h+c*a;return f=u*(a=f)-c*h,h=u*h+c*a,[f,h]}var r=t.length-1;return n.invert=function(n,e){var a=20,i=n,o=e;do{for(var c,s=r,l=t[s],f=l[0],h=l[1],v=0,g=0;--s>=0;)l=t[s],v=f+i*(c=v)-o*g,g=h+i*g+o*c,f=l[0]+i*(c=f)-o*h,h=l[1]+i*h+o*c;v=f+i*(c=v)-o*g,g=h+i*g+o*c,f=i*(c=f)-o*h-n,h=i*h+o*c-e;var p,M,d=v*v+g*g;i-=p=(f*v+h*g)/d,o-=M=(h*v-f*g)/d}while(Math.abs(p)+Math.abs(M)>Mn*Mn&&--a>0);if(a){var y=Math.sqrt(i*i+o*o),m=2*Math.atan(.5*y),x=Math.sin(m);return[Math.atan2(i*x,y*Math.cos(m)),y?u(o*x/y):0]}},n}function Dt(){var t=Hn.miller,n=Sn(Pt),r=n(t);return r.coefficients=function(r){return arguments.length?n(t="string"==typeof r?Hn[r]:r):t},r}function jt(t,n){var r=Math.sqrt(6),e=Math.sqrt(7),a=Math.asin(7*Math.sin(n)/(3*r));return[r*t*(2*Math.cos(2*a/3)-1)/e,9*Math.sin(a/3)/e]}function Ut(t,n){for(var r,e=(1+Math.SQRT1_2)*Math.sin(n),a=n,i=0;i<25&&(a-=r=(Math.sin(a/2)+Math.sin(a)-e)/(.5*Math.cos(a/2)+Math.cos(a)),!(Math.abs(r)<Mn));i++);return[t*(1+2*Math.cos(a)/Math.cos(a/2))/(3*Math.SQRT2),2*Math.sqrt(3)*Math.sin(a/2)/Math.sqrt(2+Math.SQRT2)]}function Ft(t,n){for(var r,e=Math.sqrt(6/(4+yn)),a=(1+yn/4)*Math.sin(n),i=n/2,o=0;o<25&&(i-=r=(i/2+Math.sin(i)-a)/(.5+Math.cos(i)),!(Math.abs(r)<Mn));o++);return[e*(.5+Math.cos(i))*t/1.5,e*i]}function Qt(t,n){var r=n*n,e=r*r;return[t*(.8707-.131979*r+e*(-.013791+e*(.003971*r-.001529*e))),n*(1.007226+r*(.015085+e*(-.044475+.028874*r-.005916*e)))]}function Ht(t,n){return[t*(1+Math.cos(n))/2,2*(n-Math.tan(n/2))]}function Ot(t,n){var r=n*n;return[t,n*(On+r*r*(In+r*(Yn+Zn*r)))]}function It(t,n){if(Math.abs(n)<Mn)return[t,0];var r=Math.tan(n),e=t*Math.sin(n);return[Math.sin(e)/r,n+(1-Math.cos(e))/r]}function Yt(t){function n(n,e){var a=r?Math.tan(n*r/2)/r:n/2;if(!e)return[2*a,-t];var i=2*Math.atan(a*Math.sin(e)),o=1/Math.tan(e);return[Math.sin(i)*o,e+(1-Math.cos(i))*o-t]}var r=Math.sin(t);return n.invert=function(n,e){if(Math.abs(e+=t)<Mn)return[r?2*Math.atan(r*n/2)/r:n,0];var a,i=n*n+e*e,o=0,s=10;do{var l=Math.tan(o),f=1/Math.cos(o),h=i-2*e*o+o*o;o-=a=(l*h+2*(o-e))/(2+h*f*f+2*(o-e)*l)}while(Math.abs(a)>Mn&&--s>0);var v=n*(l=Math.tan(o)),g=Math.tan(Math.abs(e)<Math.abs(o+1/l)?.5*u(v):.5*c(v)+yn/4)/Math.sin(o);return[r?2*Math.atan(r*g)/r:2*g,o]},n}function Zt(t,n){var r,e=Math.min(18,36*Math.abs(n)/yn),a=Math.floor(e),i=e-a,o=(r=Jn[a])[0],u=r[1],c=(r=Jn[++a])[0],s=r[1],l=(r=Jn[Math.min(19,++a)])[0],f=r[1];return[t*(c+i*(l-o)/2+i*i*(l-2*c+o)/2),(n>0?mn:-mn)*(s+i*(f-u)/2+i*i*(f-2*s+u)/2)]}function Bt(t){function n(n,r){var e=Math.cos(r),a=(t-1)/(t-e*Math.cos(n));return[a*e*Math.sin(n),a*Math.sin(r)]}return n.invert=function(n,r){var e=n*n+r*r,a=Math.sqrt(e),i=(t-Math.sqrt(1-e*(t+1)/(t-1)))/((t-1)/a+a/(t-1));return[Math.atan2(n*i,a*Math.sqrt(1-i*i)),a?u(r*i/a):0]},n}function Vt(t,n){function r(n,r){var o=e(n,r),u=o[1],c=u*i/(t-1)+a;return[o[0]*a/c,u/c]}var e=Bt(t);if(!n)return e;var a=Math.cos(n),i=Math.sin(n);return r.invert=function(n,r){var o=(t-1)/(t-1-r*i);return e.invert(o*n,o*r*a)},r}function Gt(){var t=1.4,n=0,r=Sn(Vt),e=r(t,n);return e.distance=function(e){return arguments.length?r(t=+e,n):t},e.tilt=function(e){return arguments.length?r(t,n=e*yn/180):180*n/yn},e}function Xt(t,n){var r=Math.tan(n/2),e=Math.sin(yn/4*r);return[t*(.74482-.34588*e*e),1.70711*r]}function $t(t){function n(n,i){var o=c(Math.cos(i)*Math.cos(n-r)),u=c(Math.cos(i)*Math.cos(n-e)),l=i<0?-1:1;return o*=o,u*=u,[(o-u)/(2*t),l*s(4*a*u-(a-o+u)*(a-o+u))/(2*t)]}if(!t)return d3.geo.azimuthalEquidistant.raw;var r=-t/2,e=-r,a=t*t,i=Math.tan(e),o=.5/Math.sin(e);return n.invert=function(t,n){var a,u,s=n*n,l=Math.cos(Math.sqrt(s+(a=t+r)*a)),f=Math.cos(Math.sqrt(s+(a=t+e)*a));return[Math.atan2(u=l-f,a=(l+f)*i),(n<0?-1:1)*c(Math.sqrt(a*a+u*u)*o)]},n}function Wt(){var t=[[0,0],[0,0]],n=Sn($t),r=n(0),e=r.rotate;return delete r.rotate,r.points=function(r){if(!arguments.length)return t;t=r;var a=d3.geo.interpolate(r[0],r[1]),i=a(.5),o=d3.geo.rotation([-i[0],-i[1]])(r[0]),c=.5*a.distance,s=-u(Math.sin(o[1]*bn)/Math.sin(c));return o[0]>0&&(s=yn-s),e.call(o,[-i[0],-i[1],-s*wn]),n(2*c)},r}function Jt(t){function n(t,n){var e=d3.geo.gnomonic.raw(t,n);return e[0]*=r,e}var r=Math.cos(t);return n.invert=function(t,n){return d3.geo.gnomonic.raw.invert(t/r,n)},n}function Kt(){var t=[[0,0],[0,0]],n=Sn(Jt),r=n(0),e=r.rotate;return delete r.rotate,r.points=function(r){if(!arguments.length)return t;t=r;var a=d3.geo.interpolate(r[0],r[1]),i=a(.5),o=d3.geo.rotation([-i[0],-i[1]])(r[0]),c=.5*a.distance,s=-u(Math.sin(o[1]*bn)/Math.sin(c));return o[0]>0&&(s=yn-s),e.call(o,[-i[0],-i[1],-s*wn]),n(c)},r}function tn(t,n){if(Math.abs(n)<Mn)return[t,0];var r=Math.abs(n/mn),e=u(r);if(Math.abs(t)<Mn||Math.abs(Math.abs(n)-mn)<Mn)return[0,o(n)*yn*Math.tan(e/2)];var a=Math.cos(e),i=Math.abs(yn/t-t/yn)/2,c=i*i,s=a/(r+a-1),l=s*(2/r-1),f=l*l,h=f+c,v=s-f,g=c+s;return[o(t)*yn*(i*v+Math.sqrt(c*v*v-h*(s*s-f)))/h,o(n)*yn*(l*g-i*Math.sqrt((c+1)*h-g*g))/h]}function nn(t,n){if(Math.abs(n)<Mn)return[t,0];var r=Math.abs(n/mn),e=u(r);if(Math.abs(t)<Mn||Math.abs(Math.abs(n)-mn)<Mn)return[0,o(n)*yn*Math.tan(e/2)];var a=Math.cos(e),i=Math.abs(yn/t-t/yn)/2,c=i*i,l=a*(Math.sqrt(1+c)-i*a)/(1+c*r*r);return[o(t)*yn*l,o(n)*yn*s(1-l*(2*i+l))]}function rn(t,n){if(Math.abs(n)<Mn)return[t,0];var r=n/mn,e=u(r);if(Math.abs(t)<Mn||Math.abs(Math.abs(n)-mn)<Mn)return[0,yn*Math.tan(e/2)];var a=(yn/t-t/yn)/2,i=r/(1+Math.cos(e));return[yn*(o(t)*s(a*a+1-i*i)-a),yn*i]}function en(t,n){if(!n)return[t,0];var r=Math.abs(n);if(!t||r===mn)return[0,n];var e=r/mn,a=e*e,i=(8*e-a*(a+2)-5)/(2*a*(e-1)),u=i*i,c=e*i,l=a+u+2*c,f=e+3*i,h=t/mn,v=h+1/h,g=o(Math.abs(t)-mn)*Math.sqrt(v*v-4),p=g*g,M=l*(a+u*p-1)+(1-a)*(a*(f*f+4*u)+12*c*u+4*u*u),d=(g*(l+u-1)+2*s(M))/(4*l+p);return[o(t)*mn*d,o(n)*mn*s(1+g*Math.abs(d)-d*d)]}function an(t,n){return[t*Math.sqrt(1-3*n*n/(yn*yn)),n]}function on(t,n){var r=.90631*Math.sin(n),e=Math.sqrt(1-r*r),a=Math.sqrt(2/(1+e*Math.cos(t/=3)));return[2.66723*e*a*Math.sin(t),1.24104*r*a]}function un(t,n){var r=Math.cos(n),e=Math.cos(t)*r,a=1-e,i=Math.cos(t=Math.atan2(Math.sin(t)*r,-Math.sin(n))),o=Math.sin(t);return r=s(1-e*e),[o*r-i*a,-i*r-o*a]}function cn(t,n){var r=h(t,n);return[(r[0]+t/mn)/2,(r[1]+n)/2]}d3.geo.project=function(t,r){var e=r.stream;if(!e)throw new Error("not yet supported");return(t&&sn.hasOwnProperty(t.type)?sn[t.type]:n)(t,e)};var sn={Feature:t,FeatureCollection:function(n,r){return{type:"FeatureCollection",features:n.features.map(function(n){return t(n,r)})}}},ln=[],fn=[],hn={point:function(t,n){ln.push([t,n])},result:function(){var t=ln.length?ln.length<2?{type:"Point",coordinates:ln[0]}:{type:"MultiPoint",coordinates:ln}:null;return ln=[],t}},vn={lineStart:r,point:function(t,n){ln.push([t,n])},lineEnd:function(){ln.length&&(fn.push(ln),ln=[])},result:function(){var t=fn.length?fn.length<2?{type:"LineString",coordinates:fn[0]}:{type:"MultiLineString",coordinates:fn}:null;return fn=[],t}},gn={polygonStart:r,lineStart:r,point:function(t,n){ln.push([t,n])},lineEnd:function(){var t=ln.length;if(t){do ln.push(ln[0].slice());while(++t<4);fn.push(ln),ln=[]}},polygonEnd:r,result:function(){if(!fn.length)return null;var t=[],n=[];return fn.forEach(function(r){e(r)?t.push([r]):n.push(r)}),n.forEach(function(n){var r=n[0];t.some(function(t){if(a(t[0],r))return t.push(n),!0})||t.push([n])}),fn=[],t.length?t.length>1?{type:"MultiPolygon",coordinates:t}:{type:"Polygon",coordinates:t[0]}:null}},pn={Point:hn,MultiPoint:hn,LineString:vn,MultiLineString:vn,Polygon:gn,MultiPolygon:gn,Sphere:gn},Mn=1e-6,dn=Mn*Mn,yn=Math.PI,mn=yn/2,xn=Math.sqrt(yn),bn=yn/180,wn=180/yn,_n=d3.geo.projection,Sn=d3.geo.projectionMutator;d3.geo.interrupt=function(t){function n(n,r){for(var e=r<0?-1:1,a=u[+(r<0)],i=0,o=a.length-1;i<o&&n>a[i][2][0];++i);var c=t(n-a[i][1][0],r);return c[0]+=t(a[i][1][0],e*r>e*a[i][0][1]?a[i][0][1]:r)[0],c}function r(){o=u.map(function(n){return n.map(function(n){var r,e=t(n[0][0],n[0][1])[0],a=t(n[2][0],n[2][1])[0],i=t(n[1][0],n[0][1])[1],o=t(n[1][0],n[1][1])[1];return i>o&&(r=i,i=o,o=r),[[e,i],[a,o]]})})}function e(){for(var t=1e-6,n=[],r=0,e=u[0].length;r<e;++r){var i=u[0][r],o=180*i[0][0]/yn,c=180*i[0][1]/yn,s=180*i[1][1]/yn,l=180*i[2][0]/yn,f=180*i[2][1]/yn;n.push(a([[o+t,c+t],[o+t,s-t],[l-t,s-t],[l-t,f+t]],30))}for(var r=u[1].length-1;r>=0;--r){var i=u[1][r],o=180*i[0][0]/yn,c=180*i[0][1]/yn,s=180*i[1][1]/yn,l=180*i[2][0]/yn,f=180*i[2][1]/yn;n.push(a([[l-t,f-t],[l-t,s+t],[o+t,s+t],[o+t,c-t]],30))}return{type:"Polygon",coordinates:[d3.merge(n)]}}function a(t,n){for(var r,e,a,i=-1,o=t.length,u=t[0],c=[];++i<o;){r=t[i],e=(r[0]-u[0])/n,a=(r[1]-u[1])/n;for(var s=0;s<n;++s)c.push([u[0]+s*e,u[1]+s*a]);u=r}return c.push(r),c}function i(t,n){return Math.abs(t[0]-n[0])<Mn&&Math.abs(t[1]-n[1])<Mn}var o,u=[[[[-yn,0],[0,mn],[yn,0]]],[[[-yn,0],[0,-mn],[yn,0]]]];t.invert&&(n.invert=function(r,e){for(var a=o[+(e<0)],c=u[+(e<0)],s=0,l=a.length;s<l;++s){var f=a[s];if(f[0][0]<=r&&r<f[1][0]&&f[0][1]<=e&&e<f[1][1]){var h=t.invert(r-t(c[s][1][0],0)[0],e);return h[0]+=c[s][1][0],i(n(h[0],h[1]),[r,e])?h:null}}});var c=d3.geo.projection(n),s=c.stream;return c.stream=function(t){var n=c.rotate(),r=s(t),a=(c.rotate([0,0]),s(t));return c.rotate(n),r.sphere=function(){d3.geo.stream(e(),a)},r},c.lobes=function(t){return arguments.length?(u=t.map(function(t){return t.map(function(t){return[[t[0][0]*yn/180,t[0][1]*yn/180],[t[1][0]*yn/180,t[1][1]*yn/180],[t[2][0]*yn/180,t[2][1]*yn/180]]})}),r(),c):u.map(function(t){return t.map(function(t){return[[180*t[0][0]/yn,180*t[0][1]/yn],[180*t[1][0]/yn,180*t[1][1]/yn],[180*t[2][0]/yn,180*t[2][1]/yn]]})})},c},(d3.geo.airy=f).raw=l,h.invert=function(t,n){if(!(t*t+4*n*n>yn*yn+Mn)){var r=t,e=n,a=25;do{var i,o=Math.sin(r),u=Math.sin(r/2),s=Math.cos(r/2),l=Math.sin(e),f=Math.cos(e),h=Math.sin(2*e),v=l*l,g=f*f,p=u*u,M=1-g*s*s,d=M?c(f*s)*Math.sqrt(i=1/M):i=0,y=2*d*f*u-t,m=d*l-n,x=i*(g*p+d*f*s*v),b=i*(.5*o*h-2*d*l*u),w=.25*i*(h*u-d*l*g*o),_=i*(v*s+d*p*f),S=b*w-_*x;if(!S)break;var E=(m*b-y*_)/S,q=(y*w-m*x)/S;r-=E,e-=q}while((Math.abs(E)>Mn||Math.abs(q)>Mn)&&--a>0);return[r,e]}},(d3.geo.aitoff=function(){return _n(h)}).raw=h,(d3.geo.armadillo=g).raw=v,x.invert=function(t,n){if(t*=3/8,n*=3/8,!t&&Math.abs(n)>1)return null;var r=t*t,e=n*n,a=1+r+e,i=Math.sqrt(.5*(a-Math.sqrt(a*a-4*n*n))),c=u(i)/3,s=i?m(Math.abs(n/i))/3:y(Math.abs(t))/3,l=Math.cos(c),f=d(s),h=f*f-l*l;return[2*o(t)*Math.atan2(M(s)*l,.25-h),2*o(n)*Math.atan2(f*Math.sin(c),.25+h)]},(d3.geo.august=function(){return _n(x)}).raw=x;var En=Math.log(1+Math.SQRT2);b.invert=function(t,n){if((e=Math.abs(n))<En)return[t,2*Math.atan(Math.exp(n))-mn];var r,e,a=Math.sqrt(8),i=yn/4,u=25;do{var c=Math.cos(i/2),s=Math.tan(i/2);i-=r=(a*(i-yn/4)-Math.log(s)-e)/(a-.5*c*c/s)}while(Math.abs(r)>dn&&--u>0);return[t/(Math.cos(i)*(a-1/Math.sin(i))),o(n)*i]},(d3.geo.baker=function(){return _n(b)}).raw=b;var qn=d3.geo.azimuthalEquidistant.raw;(d3.geo.berghaus=_).raw=w;var kn=S(yn),Nn=E(Math.SQRT2/mn,Math.SQRT2,yn);(d3.geo.mollweide=function(){return _n(Nn)}).raw=Nn,q.invert=function(t,n){var r,e,a=2.00276,i=a*n,o=n<0?-yn/4:yn/4,u=25;do e=i-Math.SQRT2*Math.sin(o),o-=r=(Math.sin(2*o)+2*o-yn*Math.sin(e))/(2*Math.cos(2*o)+2+yn*Math.cos(e)*Math.SQRT2*Math.cos(o));while(Math.abs(r)>Mn&&--u>0);return e=i-Math.SQRT2*Math.sin(o),[t*(1/Math.cos(e)+1.11072/Math.cos(o))/a,e]},(d3.geo.boggs=function(){return _n(q)}).raw=q,N.invert=function(t,n){return[t/Math.cos(n),n]},(d3.geo.sinusoidal=function(){return _n(N)}).raw=N,(d3.geo.bonne=function(){return k(A).parallel(45)}).raw=A,(d3.geo.bottomley=function(){var t=yn/6,n=d3.geo.projectionMutator(C),r=n(t);return r.variant=function(r){return arguments.length?n(t=+r):t},r}).raw=C;var An=E(1,4/yn,yn);(d3.geo.bromley=function(){return _n(An)}).raw=An,(d3.geo.chamberlin=R).raw=T,j.invert=function(t,n){var r=(r=n/xn-1)*r;return[r>0?t*Math.sqrt(yn/r)/2:0,u(1-r)]},(d3.geo.collignon=function(){return _n(j)}).raw=j,(d3.geo.craig=function(){return k(U)}).raw=U,F.invert=function(t,n){var r=Math.sqrt(3),e=3*u(n/(r*xn));return[xn*t/(r*(2*Math.cos(2*e/3)-1)),e]},(d3.geo.craster=function(){return _n(F)}).raw=F,(d3.geo.cylindricalEqualArea=function(){return k(Q)}).raw=Q,(d3.geo.cylindricalStereographic=function(){return k(H)}).raw=H,O.invert=function(t,n){var r=Math.sqrt(8/(3*yn)),e=n/r;return[t/(r*(1-Math.abs(e)/yn)),e]},(d3.geo.eckert1=function(){return _n(O)}).raw=O,I.invert=function(t,n){var r=2-Math.abs(n)/Math.sqrt(2*yn/3);return[t*Math.sqrt(6*yn)/(2*r),o(n)*u((4-r*r)/3)]},(d3.geo.eckert2=function(){return _n(I)}).raw=I,Y.invert=function(t,n){var r=Math.sqrt(yn*(4+yn))/2;return[t*r/(1+s(1-n*n*(4+yn)/(4*yn))),n*r/2]},(d3.geo.eckert3=function(){return _n(Y)}).raw=Y,Z.invert=function(t,n){var r=.5*n*Math.sqrt((4+yn)/yn),e=u(r),a=Math.cos(e);return[t/(2/Math.sqrt(yn*(4+yn))*(1+a)),u((e+r*(a+2))/(2+mn))]},(d3.geo.eckert4=function(){return _n(Z)}).raw=Z,B.invert=function(t,n){var r=Math.sqrt(2+yn),e=n*r/2;return[r*t/(1+Math.cos(e)),e]},(d3.geo.eckert5=function(){return _n(B)}).raw=B,V.invert=function(t,n){var r=1+mn,e=Math.sqrt(r/2);return[2*t*e/(1+Math.cos(n*=e)),u((n+Math.sin(n))/r)]},(d3.geo.eckert6=function(){return _n(V)}).raw=V,G.invert=function(t,n){var r=d3.geo.august.raw.invert(t/1.2,1.065*n);if(!r)return null;var e=r[0],a=r[1],i=20;t/=Cn,n/=Cn;do{var o=e/2,u=a/2,c=Math.sin(o),s=Math.cos(o),l=Math.sin(u),f=Math.cos(u),h=Math.cos(a),v=Math.sqrt(h),g=l/(f+Math.SQRT2*s*v),p=g*g,M=Math.sqrt(2/(1+p)),d=Math.SQRT2*f+(s+c)*v,y=Math.SQRT2*f+(s-c)*v,m=d/y,x=Math.sqrt(m),b=x-1/x,w=x+1/x,_=M*b-2*Math.log(x)-t,S=M*g*w-2*Math.atan(g)-n,E=l&&Math.SQRT1_2*v*c*p/l,q=(Math.SQRT2*s*f+v)/(2*(f+Math.SQRT2*s*v)*(f+Math.SQRT2*s*v)*v),k=-.5*g*M*M*M,N=k*E,A=k*q,C=(C=2*f+Math.SQRT2*v*(s-c))*C*x,T=(Math.SQRT2*s*f*v+h)/C,R=-(Math.SQRT2*c*l)/(v*C),z=b*N-2*T/x+M*(T+T/m),L=b*A-2*R/x+M*(R+R/m),P=g*w*N-2*E/(1+p)+M*w*E+M*g*(T-T/m),D=g*w*A-2*q/(1+p)+M*w*q+M*g*(R-R/m),j=L*P-D*z;if(!j)break;var U=(S*L-_*D)/j,F=(_*P-S*z)/j;e-=U,a=Math.max(-mn,Math.min(mn,a-F))}while((Math.abs(U)>Mn||Math.abs(F)>Mn)&&--i>0);return Math.abs(Math.abs(a)-mn)<Mn?[0,a]:i&&[e,a]};var Cn=3+2*Math.SQRT2;(d3.geo.eisenlohr=function(){return _n(G)}).raw=G,X.invert=function(t,n){var r=n/(1+Tn);return[t?t/(Tn*s(1-r*r)):0,2*Math.atan(r)]};var Tn=Math.cos(35*bn);(d3.geo.fahey=function(){return _n(X)}).raw=X,$.invert=function(t,n){var r=Math.atan(n/xn),e=Math.cos(r),a=2*r;return[t*xn*.5/(Math.cos(a)*e*e),a]},(d3.geo.foucaut=function(){return _n($)}).raw=$,d3.geo.gilbert=function(t){function n(n){return t([.5*n[0],u(Math.tan(.5*n[1]*bn))*wn])}var r=d3.geo.equirectangular().scale(wn).translate([0,0]);return t.invert&&(n.invert=function(n){return n=t.invert(n),n[0]*=2,n[1]=2*Math.atan(Math.sin(n[1]*bn))*wn,n}),n.stream=function(n){n=t.stream(n);var e=r.stream({point:function(t,r){n.point(.5*t,u(Math.tan(.5*-r*bn))*wn)},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}});return e.sphere=function(){n.sphere()},e.valid=!1,e},n};var Rn=d3.geo.azimuthalEquidistant.raw;(d3.geo.gingery=K).raw=W;var zn=nt(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);(d3.geo.ginzburg4=function(){return _n(zn)}).raw=zn;var Ln=nt(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);(d3.geo.ginzburg5=function(){return _n(Ln)}).raw=Ln;var Pn=nt(5/6*yn,-.62636,-.0344,0,1.3493,-.05524,0,.045);(d3.geo.ginzburg6=function(){return _n(Pn)}).raw=Pn,rt.invert=function(t,n){var r,e=t,a=n,i=50;do{var o=a*a;a-=r=(a*(1+o/12)-n)/(1+o/4)}while(Math.abs(r)>Mn&&--i>0);i=50,t/=1-.162388*o;do{var u=(u=e*e)*u;e-=r=(e*(.87-952426e-9*u)-t)/(.87-.00476213*u)}while(Math.abs(r)>Mn&&--i>0);return[e,a]},(d3.geo.ginzburg8=function(){return _n(rt)}).raw=rt;var Dn=nt(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);(d3.geo.ginzburg9=function(){return _n(Dn)}).raw=Dn,at.invert=function(t,n){var r=o(t),e=o(n),a=-r*t,i=-e*n,c=i/a<1,s=ot(c?i:a,c?a:i),l=s[0],f=s[1];c&&(l=-mn-l);var h=Math.cos(f),t=Math.cos(l)*h,n=Math.sin(l)*h,v=Math.sin(f);return[r*(Math.atan2(n,-v)+yn),e*u(t)]},d3.geo.gringorten=et(at),ft.invert=function(t,n){var r=(Math.SQRT2-1)/(Math.SQRT2+1),e=Math.sqrt(1-r*r),a=lt(mn,e*e),i=-1,o=ut(.5*a-n,-t,e*e),u=vt(o[0],o[1]),c=Math.atan2(u[1],u[0])/i;return[c,2*Math.atan(Math.exp(.5/i*Math.log(r*u[0]*u[0]+r*u[1]*u[1])))-mn]},d3.geo.guyou=et(ft),(d3.geo.hammerRetroazimuthal=Mt).raw=gt;var jn=d3.geo.azimuthalEqualArea.raw;mt.invert=function(t,n){var r=2*u(n/2);return[t*Math.cos(r/2)/Math.cos(r),r]},(d3.geo.hammer=yt).raw=dt,xt.invert=function(t,n){var r=Math.abs(r=n*(n<0?.5179951515653813:.5686373742600607))>1-Mn?r>0?mn:-mn:u(r);return[1.1764705882352942*t/Math.cos(r),Math.abs(r=((r+=r)+Math.sin(r))*(n<0?.4102345310814193:.3736990601468637))>1-Mn?r>0?mn:-mn:u(r)]},(d3.geo.hatano=function(){return _n(xt)}).raw=xt;var Un=41+48/36+37/3600;(d3.geo.healpix=wt).raw=bt,(d3.geo.hill=St).raw=_t;var Fn=.7109889596207567,Qn=.0528035274542;Et.invert=function(t,n){return n>-Fn?Nn.invert(t,n-Qn):N.invert(t,n)},(d3.geo.sinuMollweide=function(){return _n(Et).rotate([-20,-55])}).raw=Et,qt.invert=function(t,n){return Math.abs(n)>Fn?Nn.invert(t,n+(n>0?Qn:-Qn)):N.invert(t,n)},(d3.geo.homolosine=function(){return _n(qt)}).raw=qt,kt.invert=function(t,n){return[2/3*yn*t/Math.sqrt(yn*yn/3-n*n),n]},(d3.geo.kavrayskiy7=function(){return _n(kt)}).raw=kt,(d3.geo.lagrange=At).raw=Nt,Ct.invert=function(t,n){var r=Math.abs(t),e=Math.abs(n),a=yn/Math.SQRT2,i=Mn,o=mn;e<a?o*=e/a:i+=6*c(a/e);for(var u=0;u<25;u++){var l=Math.sin(o),f=s(Math.cos(o)),h=Math.sin(o/2),v=Math.cos(o/2),g=Math.sin(i/6),p=Math.cos(i/6),M=.5*i*(1+f)-r,d=o/(v*p)-e,y=f?-.25*i*l/f:0,m=.5*(1+f),x=(1+.5*o*h/v)/(v*p),b=o/v*(g/6)/(p*p),w=y*b-x*m,_=(M*b-d*m)/w,S=(d*y-M*x)/w;if(o-=_,i-=S,Math.abs(_)<Mn&&Math.abs(S)<Mn)break}return[t<0?-i:i,n<0?-o:o]},(d3.geo.larrivee=function(){return _n(Ct)}).raw=Ct,Tt.invert=function(t,n){var r=o(t)*yn,e=n/2,a=50;do{var i=r*r,u=e*e,c=r*e,s=r*(.975534+u*(-.119161+i*-.0143059+u*-.0547009))-t,l=e*(1.00384+i*(.0802894+u*-.02855+199025e-9*i)+u*(.0998909+u*-.0491032))-n,f=.975534-u*(.119161+3*i*.0143059+.0547009*u),h=-c*(.238322+.2188036*u+.0286118*i),v=c*(.1605788+7961e-7*i+-.0571*u),g=1.00384+i*(.0802894+199025e-9*i)+u*(3*(.0998909-.02855*i)-.245516*u),p=h*v-g*f,M=(l*h-s*g)/p,d=(s*v-l*f)/p;r-=M,e-=d}while((Math.abs(M)>Mn||Math.abs(d)>Mn)&&--a>0);return a&&[r,e]},(d3.geo.laskowski=function(){return _n(Tt)}).raw=Tt,Rt.invert=function(t,n){var r=t*t,e=n*n,a=e+1,i=t?Math.SQRT1_2*Math.sqrt((a-Math.sqrt(r*r+2*r*(e-1)+a*a))/r+1):1/Math.sqrt(a);return[u(t*i),o(n)*c(i)]},(d3.geo.littrow=function(){return _n(Rt)}).raw=Rt,(d3.geo.loximuthal=function(){return k(zt).parallel(40)}).raw=zt,Lt.invert=function(t,n){return[t,2.5*Math.atan(Math.exp(.8*n))-.625*yn]},(d3.geo.miller=function(){return _n(Lt)}).raw=Lt;var Hn={alaska:[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],gs48:[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],gs50:[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],
miller:[[.9245,0],[0,0],[.01943,0]],lee:[[.721316,0],[0,0],[-.00881625,-.00617325]]};(d3.geo.modifiedStereographic=Dt).raw=Pt,jt.invert=function(t,n){var r=Math.sqrt(6),e=Math.sqrt(7),a=3*u(n*e/9);return[t*e/(r*(2*Math.cos(2*a/3)-1)),u(3*Math.sin(a)*r/7)]},(d3.geo.mtFlatPolarParabolic=function(){return _n(jt)}).raw=jt,Ut.invert=function(t,n){var r=n*Math.sqrt(2+Math.SQRT2)/(2*Math.sqrt(3)),e=2*u(r);return[3*Math.SQRT2*t/(1+2*Math.cos(e)/Math.cos(e/2)),u((r+Math.sin(e))/(1+Math.SQRT1_2))]},(d3.geo.mtFlatPolarQuartic=function(){return _n(Ut)}).raw=Ut,Ft.invert=function(t,n){var r=Math.sqrt(6/(4+yn)),e=n/r;return Math.abs(Math.abs(e)-mn)<Mn&&(e=e<0?-mn:mn),[1.5*t/(r*(.5+Math.cos(e))),u((e/2+Math.sin(e))/(1+yn/4))]},(d3.geo.mtFlatPolarSinusoidal=function(){return _n(Ft)}).raw=Ft,Qt.invert=function(t,n){var r,e=n,a=25;do{var i=e*e,o=i*i;e-=r=(e*(1.007226+i*(.015085+o*(-.044475+.028874*i-.005916*o)))-n)/(1.007226+i*(.045255+o*(-.311325+.259866*i-.005916*11*o)))}while(Math.abs(r)>Mn&&--a>0);return[t/(.8707+(i=e*e)*(-.131979+i*(-.013791+i*i*i*(.003971-.001529*i)))),e]},(d3.geo.naturalEarth=function(){return _n(Qt)}).raw=Qt,Ht.invert=function(t,n){for(var r=n/2,e=0,a=1/0;e<10&&Math.abs(a)>Mn;e++){var i=Math.cos(n/2);n-=a=(n-Math.tan(n/2)-r)/(1-.5/(i*i))}return[2*t/(1+Math.cos(n)),n]},(d3.geo.nellHammer=function(){return _n(Ht)}).raw=Ht;var On=1.0148,In=.23185,Yn=-.14499,Zn=.02406,Bn=On,Vn=5*In,Gn=7*Yn,Xn=9*Zn,$n=1.790857183;Ot.invert=function(t,n){n>$n?n=$n:n<-$n&&(n=-$n);var r,e=n;do{var a=e*e;e-=r=(e*(On+a*a*(In+a*(Yn+Zn*a)))-n)/(Bn+a*a*(Vn+a*(Gn+Xn*a)))}while(Math.abs(r)>Mn);return[t,e]},(d3.geo.patterson=function(){return _n(Ot)}).raw=Ot;var Wn=et(ft);(d3.geo.peirceQuincuncial=function(){return Wn().quincuncial(!0).rotate([-90,-90,45]).clipAngle(180-1e-6)}).raw=Wn.raw,It.invert=function(t,n){if(Math.abs(n)<Mn)return[t,0];var r,e=t*t+n*n,a=.5*n,i=10;do{var s=Math.tan(a),l=1/Math.cos(a),f=e-2*n*a+a*a;a-=r=(s*f+2*(a-n))/(2+f*l*l+2*(a-n)*s)}while(Math.abs(r)>Mn&&--i>0);return s=Math.tan(a),[(Math.abs(n)<Math.abs(a+1/s)?u(t*s):o(t)*(c(Math.abs(t*s))+mn))/Math.sin(a),a]},(d3.geo.polyconic=function(){return _n(It)}).raw=It,(d3.geo.rectangularPolyconic=function(){return k(Yt)}).raw=Yt;var Jn=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];Jn.forEach(function(t){t[1]*=1.0144}),Zt.invert=function(t,n){var r=n/mn,e=90*r,a=Math.min(18,Math.abs(e/5)),i=Math.max(0,Math.floor(a));do{var o=Jn[i][1],u=Jn[i+1][1],c=Jn[Math.min(19,i+2)][1],s=c-o,l=c-2*u+o,f=2*(Math.abs(r)-u)/s,h=l/s,v=f*(1-h*f*(1-2*h*f));if(v>=0||1===i){e=(n>=0?5:-5)*(v+a);var g,p=50;do a=Math.min(18,Math.abs(e)/5),i=Math.floor(a),v=a-i,o=Jn[i][1],u=Jn[i+1][1],c=Jn[Math.min(19,i+2)][1],e-=(g=(n>=0?mn:-mn)*(u+v*(c-o)/2+v*v*(c-2*u+o)/2)-n)*wn;while(Math.abs(g)>dn&&--p>0);break}}while(--i>=0);var M=Jn[i][0],d=Jn[i+1][0],y=Jn[Math.min(19,i+2)][0];return[t/(d+v*(y-M)/2+v*v*(y-2*d+M)/2),e*bn]},(d3.geo.robinson=function(){return _n(Zt)}).raw=Zt,(d3.geo.satellite=Gt).raw=Vt,Xt.invert=function(t,n){var r=n/1.70711,e=Math.sin(yn/4*r);return[t/(.74482-.34588*e*e),2*Math.atan(r)]},(d3.geo.times=function(){return _n(Xt)}).raw=Xt,(d3.geo.twoPointEquidistant=Wt).raw=$t,(d3.geo.twoPointAzimuthal=Kt).raw=Jt,tn.invert=function(t,n){if(Math.abs(n)<Mn)return[t,0];if(Math.abs(t)<Mn)return[0,mn*Math.sin(2*Math.atan(n/yn))];var r=(t/=yn)*t,e=(n/=yn)*n,a=r+e,i=a*a,u=-Math.abs(n)*(1+a),s=u-2*e+r,l=-2*u+1+2*e+i,f=e/l+(2*s*s*s/(l*l*l)-9*u*s/(l*l))/27,h=(u-s*s/(3*l))/l,v=2*Math.sqrt(-h/3),g=c(3*f/(h*v))/3;return[yn*(a-1+Math.sqrt(1+2*(r-e)+i))/(2*t),o(n)*yn*(-v*Math.cos(g+yn/3)-s/(3*l))]},(d3.geo.vanDerGrinten=function(){return _n(tn)}).raw=tn,nn.invert=function(t,n){if(!t)return[0,mn*Math.sin(2*Math.atan(n/yn))];var r=Math.abs(t/yn),e=(1-r*r-(n/=yn)*n)/(2*r),a=e*e,i=Math.sqrt(a+1);return[o(t)*yn*(i-e),o(n)*mn*Math.sin(2*Math.atan2(Math.sqrt((1-2*e*r)*(e+i)-r),Math.sqrt(i+e+r)))]},(d3.geo.vanDerGrinten2=function(){return _n(nn)}).raw=nn,rn.invert=function(t,n){if(!n)return[t,0];var r=n/yn,e=(yn*yn*(1-r*r)-t*t)/(2*yn*t);return[t?yn*(o(t)*Math.sqrt(e*e+1)-e):0,mn*Math.sin(2*Math.atan(r))]},(d3.geo.vanDerGrinten3=function(){return _n(rn)}).raw=rn,en.invert=function(t,n){if(!t||!n)return[t,n];n/=yn;var r=o(t)*t/mn,e=(r*r-1+4*n*n)/Math.abs(r),a=e*e,i=2*n,u=50;do{var c=i*i,s=(8*i-c*(c+2)-5)/(2*c*(i-1)),l=(3*i-c*i-10)/(2*c*i),f=s*s,h=i*s,v=i+s,g=v*v,p=i+3*s,M=g*(c+f*a-1)+(1-c)*(c*(p*p+4*f)+f*(12*h+4*f)),d=-2*v*(4*h*f+(1-4*c+3*c*c)*(1+l)+f*(-6+14*c-a+(-8+8*c-2*a)*l)+h*(-8+12*c+(-10+10*c-a)*l)),y=Math.sqrt(M),m=e*(g+f-1)+2*y-r*(4*g+a),x=e*(2*s*l+2*v*(1+l))+d/y-8*v*(e*(-1+f+g)+2*y)*(1+l)/(a+4*g);i-==m/x}while(>Mn&&--u>0);return[o(t)*(Math.sqrt(e*e+4)+e)*yn/4,mn*i]},(d3.geo.vanDerGrinten4=function(){return _n(en)}).raw=en;var Kn=function(){var t=4*yn+3*Math.sqrt(3),n=2*Math.sqrt(2*yn*Math.sqrt(3)/t);return E(n*Math.sqrt(3)/yn,n,t/6)}();(d3.geo.wagner4=function(){return _n(Kn)}).raw=Kn,an.invert=function(t,n){return[t/Math.sqrt(1-3*n*n/(yn*yn)),n]},(d3.geo.wagner6=function(){return _n(an)}).raw=an,on.invert=function(t,n){var r=t/2.66723,e=n/1.24104,a=Math.sqrt(r*r+e*e),i=2*u(a/2);return[3*Math.atan2(t*Math.tan(i),2.66723*a),a&&u(n*Math.sin(i)/(1.24104*.90631*a))]},(d3.geo.wagner7=function(){return _n(on)}).raw=on,un.invert=function(t,n){var r=-.5*(t*t+n*n),e=Math.sqrt(-r*(2+r)),a=n*r+t*e,i=t*r-n*e,o=Math.sqrt(i*i+a*a);return[Math.atan2(e*a,o*(1+r)),o?-u(e*i/o):0]},(d3.geo.wiechel=function(){return _n(un)}).raw=un,cn.invert=function(t,n){var r=t,e=n,a=25;do{var i,o=Math.cos(e),u=Math.sin(e),s=Math.sin(2*e),l=u*u,f=o*o,h=Math.sin(r),v=Math.cos(r/2),g=Math.sin(r/2),p=g*g,M=1-f*v*v,d=M?c(o*v)*Math.sqrt(i=1/M):i=0,y=.5*(2*d*o*g+r/mn)-t,m=.5*(d*u+e)-n,x=.5*i*(f*p+d*o*v*l)+.5/mn,b=i*(h*s/4-d*u*g),w=.125*i*(s*g-d*u*f*h),_=.5*i*(l*v+d*p*o)+.5,S=b*w-_*x,E=(m*b-y*_)/S,q=(y*w-m*x)/S;r-=E,e-=q}while((Math.abs(E)>Mn||Math.abs(q)>Mn)&&--a>0);return[r,e]},(d3.geo.winkel3=function(){return _n(cn)}).raw=cn}(),function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(t.topojson=t.topojson||{})}(this,function(t){"use strict";function n(t,n){var e=n.id,a=n.bbox,i=null==n.properties?{}:n.properties,o=r(t,n);return null==e&&null==a?{type:"Feature",properties:i,geometry:o}:null==a?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:a,properties:i,geometry:o}}function r(t,n){function r(t,n){n.length&&n.pop();for(var r=f[t<0?~t:t],e=0,a=r.length;e<a;++e)n.push(s(r[e].slice(),e));t<0&&l(n,a)}function e(t){return s(t.slice())}function a(t){for(var n=[],e=0,a=t.length;e<a;++e)r(t[e],n);return n.length<2&&n.push(n[0].slice()),n}function i(t){for(var n=a(t);n.length<4;)n.push(n[0].slice());return n}function o(t){return t.map(i)}function u(t){var n,r=t.type;switch(r){case"GeometryCollection":return{type:r,geometries:t.geometries.map(u)};case"Point":n=e(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(e);break;case"LineString":n=a(t.arcs);break;case"MultiLineString":n=t.arcs.map(a);break;case"Polygon":n=o(t.arcs);break;case"MultiPolygon":n=t.arcs.map(o);break;default:return null}return{type:r,coordinates:n}}var s=c(t),f=t.arcs;return u(n)}function e(t,n,r){var e,i,o;if(arguments.length>1)e=a(t,n,r);else for(i=0,e=new Array(o=t.arcs.length);i<o;++i)e[i]=i;return{type:"MultiLineString",arcs:h(t,e)}}function a(t,n,r){function e(t){var n=t<0?~t:t;(l[n]||(l[n]=[])).push({i:t,g:c})}function a(t){t.forEach(e)}function i(t){t.forEach(a)}function o(t){t.forEach(i)}function u(t){switch(c=t,t.type){case"GeometryCollection":t.geometries.forEach(u);break;case"LineString":a(t.arcs);break;case"MultiLineString":case"Polygon":i(t.arcs);break;case"MultiPolygon":o(t.arcs)}}var c,s=[],l=[];return u(n),l.forEach(null==r?function(t){s.push(t[0].i)}:function(t){r(t[0].g,t[t.length-1].g)&&s.push(t[0].i)}),s}function i(t){for(var n,r=-1,e=t.length,a=t[e-1],i=0;++r<e;)n=a,a=t[r],i+=n[0]*a[1]-n[1]*a[0];return Math.abs(i)}function o(t,n){function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Polygon":a(t.arcs);break;case"MultiPolygon":t.arcs.forEach(a)}}function a(t){t.forEach(function(n){n.forEach(function(n){(u[n=n<0?~n:n]||(u[n]=[])).push(t)})}),c.push(t)}function o(n){return i(r(t,{type:"Polygon",arcs:[n]}).coordinates[0])}var u={},c=[],s=[];return n.forEach(e),c.forEach(function(t){if(!t._){var n=[],r=[t];for(t._=1,s.push(n);t=r.pop();)n.push(t),t.forEach(function(t){t.forEach(function(t){u[t<0?~t:t].forEach(function(t){t._||(t._=1,r.push(t))})})})}}),c.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:s.map(function(n){var r,e=[];if(n.forEach(function(t){t.forEach(function(t){t.forEach(function(t){u[t<0?~t:t].length<2&&e.push(t)})})}),e=h(t,e),(r=e.length)>1)for(var a,i,c=1,s=o(e[0]);c<r;++c)(a=o(e[c]))>s&&(i=e[0],e[0]=e[c],e[c]=i,s=a);return e})}}var u=function(t){return t},c=function(t){if(null==(n=t.transform))return u;var n,r,e,a=n.scale[0],i=n.scale[1],o=n.translate[0],c=n.translate[1];return function(t,n){return n||(r=e=0),t[0]=(r+=t[0])*a+o,t[1]=(e+=t[1])*i+c,t}},s=function(t){function n(t){u[0]=t[0],u[1]=t[1],o(u),u[0]<s&&(s=u[0]),u[0]>f&&(f=u[0]),u[1]<l&&(l=u[1]),u[1]>h&&(h=u[1])}function r(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(r);break;case"Point":n(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(n)}}var e=t.bbox;if(!e){var a,i,o=c(t),u=new Array(2),s=1/0,l=s,f=-s,h=-s;t.arcs.forEach(function(t){for(var n=-1,r=t.length;++n<r;)a=t[n],u[0]=a[0],u[1]=a[1],o(u,n),u[0]<s&&(s=u[0]),u[0]>f&&(f=u[0]),u[1]<l&&(l=u[1]),u[1]>h&&(h=u[1])});for(i in t.objects)r(t.objects[i]);e=t.bbox=[s,l,f,h]}return e},l=function(t,n){for(var r,e=t.length,a=e-n;a<--e;)r=t[a],t[a++]=t[e],t[e]=r},f=function(t,r){return"GeometryCollection"===r.type?{type:"FeatureCollection",features:r.geometries.map(function(r){return n(t,r)})}:n(t,r)},h=function(t,n){function r(n){var r,e=t.arcs[n<0?~n:n],a=e[0];return t.transform?(r=[0,0],e.forEach(function(t){r[0]+=t[0],r[1]+=t[1]})):r=e[e.length-1],n<0?[r,a]:[a,r]}function e(t,n){for(var r in t){var e=t[r];delete n[e.start],delete e.start,delete e.end,e.forEach(function(t){a[t<0?~t:t]=1}),u.push(e)}}var a={},i={},o={},u=[],c=-1;return n.forEach(function(r,e){var a,i=t.arcs[r<0?~r:r];i.length<3&&!i[1][0]&&!i[1][1]&&(a=n[++c],n[c]=r,n[e]=a)}),n.forEach(function(t){var n,e,a=r(t),u=a[0],c=a[1];if(n=o[u])if(delete o[n.end],n.push(t),n.end=c,e=i[c]){delete i[e.start];var s=e===n?n:n.concat(e);i[s.start=n.start]=o[s.end=e.end]=s}else i[n.start]=o[n.end]=n;else if(n=i[c])if(delete i[n.start],n.unshift(t),n.start=u,e=o[u]){delete o[e.end];var l=e===n?n:e.concat(n);i[l.start=e.start]=o[l.end=n.end]=l}else i[n.start]=o[n.end]=n;else n=[t],i[n.start=u]=o[n.end=c]=n}),e(o,i),e(i,o),n.forEach(function(t){a[t<0?~t:t]||u.push([t])}),u},v=function(t){return r(t,e.apply(this,arguments))},g=function(t){return r(t,o.apply(this,arguments))},p=function(t,n){for(var r=0,e=t.length;r<e;){var a=r+e>>>1;t[a]<n?r=a+1:e=a}return r},M=function(t){function n(t,n){t.forEach(function(t){t<0&&(t=~t);var r=a[t];r?r.push(n):a[t]=[n]})}function r(t,r){t.forEach(function(t){n(t,r)})}function e(t,n){"GeometryCollection"===t.type?t.geometries.forEach(function(t){e(t,n)}):t.type in o&&o[t.type](t.arcs,n)}var a={},i=t.map(function(){return[]}),o={LineString:n,MultiLineString:r,Polygon:r,MultiPolygon:function(t,n){t.forEach(function(t){r(t,n)})}};t.forEach(e);for(var u in a)for(var c=a[u],s=c.length,l=0;l<s;++l)for(var f=l+1;f<s;++f){var h,v=c[l],g=c[f];(h=i[v])[u=p(h,g)]!==g&&h.splice(u,0,g),(h=i[g])[u=p(h,v)]!==v&&h.splice(u,0,v)}return i},d=function(t,n){function r(t){t[0]=Math.round((t[0]-o)/u),t[1]=Math.round((t[1]-c)/l)}function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Point":r(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(r)}}if(!((n=Math.floor(n))>=2))throw new Error("n must be 2");if(t.transform)throw new Error("already quantized");var a,i=s(t),o=i[0],u=(i[2]-o)/(n-1)||1,c=i[1],l=(i[3]-c)/(n-1)||1;t.arcs.forEach(function(t){for(var n,r,e,a=1,i=1,s=t.length,f=t[0],h=f[0]=Math.round((f[0]-o)/u),v=f[1]=Math.round((f[1]-c)/l);a<s;++a)f=t[a],r=Math.round((f[0]-o)/u),e=Math.round((f[1]-c)/l),r===h&&e===v||(n=t[i++],n[0]=r-h,h=r,n[1]=e-v,v=e);i<2&&(n=t[i++],n[0]=0,n[1]=0),t.length=i});for(a in t.objects)e(t.objects[a]);return t.transform={scale:[u,l],translate:[o,c]},t},y=function(t){if(null==(n=t.transform))return u;var n,r,e,a=n.scale[0],i=n.scale[1],o=n.translate[0],c=n.translate[1];return function(t,n){n||(r=e=0);var u=Math.round((t[0]-o)/a),s=Math.round((t[1]-c)/i);return t[0]=u-r,r=u,t[1]=s-e,e=s,t}};t.bbox=s,t.feature=f,t.mesh=v,t.meshArcs=e,t.merge=g,t.mergeArcs=o,t.neighbors=M,t.quantize=d,t.transform=c,t.untransform=y,Object.defineProperty(t,"__esModule",{value:!0})});